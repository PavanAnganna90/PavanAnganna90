{"version":3,"names":["cov_2b3fh3o1b6","actualCoverage","s","TeamProvider","f","default","_default","useTeam","initialState","currentTeam","userTeams","userRole","isLoading","error","hasMultipleTeams","teamReducer","state","action","type","b","payload","teams","length","team","role","TeamContext","_react","createContext","undefined","STORAGE_KEYS","SELECTED_TEAM_ID","children","dispatch","useReducer","loadUserTeams","response","_teamApi","teamApi","getUserTeams","savedTeamId","localStorage","getItem","find","id","parseInt","setUserRoleForTeam","console","Error","message","teamId","members","getTeamMembers","currentUser","member","user_id","created_by_user_id","selectTeam","t","setItem","toString","refreshTeams","clearTeam","removeItem","isTeamMember","some","getUserRoleInTeam","useEffect","contextValue","_jsxruntime","jsx","Provider","value","context","useContext"],"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/contexts/TeamContext.tsx"],"sourcesContent":["/**\n * Team Context for managing the currently selected team across the dashboard.\n * Provides team selection, switching, and team-specific data filtering.\n */\n'use client';\n\nimport React, { createContext, useContext, useReducer, useEffect, ReactNode } from 'react';\nimport { Team, TeamMember } from '@/types/team';\nimport { teamApi } from '@/services/teamApi';\n\n// Team context state interface\ninterface TeamState {\n  currentTeam: Team | null;\n  userTeams: Team[];\n  userRole: string | null;\n  isLoading: boolean;\n  error: string | null;\n  hasMultipleTeams: boolean;\n}\n\n// Team action types\ntype TeamAction =\n  | { type: 'TEAMS_LOADING' }\n  | { type: 'TEAMS_LOADED'; payload: { teams: Team[]; currentTeam?: Team } }\n  | { type: 'TEAMS_ERROR'; payload: string }\n  | { type: 'TEAM_SELECTED'; payload: { team: Team; role: string } }\n  | { type: 'TEAM_CLEARED' };\n\n// Team context interface\ninterface TeamContextType {\n  state: TeamState;\n  selectTeam: (teamId: number) => Promise<void>;\n  refreshTeams: () => Promise<void>;\n  clearTeam: () => void;\n  isTeamMember: (teamId: number) => boolean;\n  getUserRoleInTeam: (teamId: number) => string | null;\n}\n\n// Initial state\nconst initialState: TeamState = {\n  currentTeam: null,\n  userTeams: [],\n  userRole: null,\n  isLoading: false,\n  error: null,\n  hasMultipleTeams: false,\n};\n\n// Team reducer\nfunction teamReducer(state: TeamState, action: TeamAction): TeamState {\n  switch (action.type) {\n    case 'TEAMS_LOADING':\n      return {\n        ...state,\n        isLoading: true,\n        error: null,\n      };\n    case 'TEAMS_LOADED':\n      return {\n        ...state,\n        isLoading: false,\n        userTeams: action.payload.teams,\n        currentTeam: action.payload.currentTeam || action.payload.teams[0] || null,\n        hasMultipleTeams: action.payload.teams.length > 1,\n        error: null,\n      };\n    case 'TEAMS_ERROR':\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n      };\n    case 'TEAM_SELECTED':\n      return {\n        ...state,\n        currentTeam: action.payload.team,\n        userRole: action.payload.role,\n      };\n    case 'TEAM_CLEARED':\n      return {\n        ...state,\n        currentTeam: null,\n        userRole: null,\n      };\n    default:\n      return state;\n  }\n}\n\n// Create context\nconst TeamContext = createContext<TeamContextType | undefined>(undefined);\n\n// Storage keys\nconst STORAGE_KEYS = {\n  SELECTED_TEAM_ID: 'opsight_selected_team_id',\n} as const;\n\n/**\n * Team Provider Component\n * \n * Manages team selection state and provides team context to child components.\n * Handles team loading, selection persistence, and role management.\n * \n * @param children - Child components that need access to team context\n */\nexport const TeamProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n  const [state, dispatch] = useReducer(teamReducer, initialState);\n\n  /**\n   * Load user's teams from the API\n   */\n  const loadUserTeams = async (): Promise<void> => {\n    try {\n      dispatch({ type: 'TEAMS_LOADING' });\n      \n      // Get user's teams\n      const response = await teamApi.getUserTeams();\n      const teams = response || [];\n      \n      // Try to restore previously selected team\n      const savedTeamId = localStorage.getItem(STORAGE_KEYS.SELECTED_TEAM_ID);\n      let currentTeam: Team | undefined;\n      \n      if (savedTeamId) {\n        currentTeam = teams.find(team => team.id === parseInt(savedTeamId));\n      }\n      \n      // If no saved team or saved team not found, select first team\n      if (!currentTeam && teams.length > 0) {\n        currentTeam = teams[0];\n      }\n      \n      dispatch({\n        type: 'TEAMS_LOADED',\n        payload: { teams, currentTeam },\n      });\n      \n      // If we have a current team, get user's role\n      if (currentTeam) {\n        await setUserRoleForTeam(currentTeam.id);\n      }\n      \n    } catch (error) {\n      console.error('Failed to load user teams:', error);\n      dispatch({\n        type: 'TEAMS_ERROR',\n        payload: error instanceof Error ? error.message : 'Failed to load teams',\n      });\n    }\n  };\n\n  /**\n   * Get user's role in a specific team\n   */\n  const setUserRoleForTeam = async (teamId: number): Promise<void> => {\n    try {\n      const members = await teamApi.getTeamMembers(teamId);\n      const currentUser = members.find((member: any) => member.user_id === state.currentTeam?.created_by_user_id);\n      const userRole = currentUser?.role || 'VIEWER';\n      \n      if (state.currentTeam?.id === teamId) {\n        dispatch({\n          type: 'TEAM_SELECTED',\n          payload: {\n            team: state.currentTeam,\n            role: userRole,\n          },\n        });\n      }\n    } catch (error) {\n      console.error('Failed to get user role for team:', error);\n    }\n  };\n\n  /**\n   * Select a specific team\n   */\n  const selectTeam = async (teamId: number): Promise<void> => {\n    const team = state.userTeams.find(t => t.id === teamId);\n    if (!team) {\n      throw new Error('Team not found in user teams');\n    }\n\n    try {\n      // Get user's role in the selected team\n      const members = await teamApi.getTeamMembers(teamId);\n      const currentUser = members.find((member: any) => member.user_id === team.created_by_user_id);\n      const userRole = currentUser?.role || 'VIEWER';\n      \n      dispatch({\n        type: 'TEAM_SELECTED',\n        payload: {\n          team,\n          role: userRole,\n        },\n      });\n\n      // Persist selection\n      localStorage.setItem(STORAGE_KEYS.SELECTED_TEAM_ID, teamId.toString());\n      \n    } catch (error) {\n      console.error('Failed to select team:', error);\n      throw error;\n    }\n  };\n\n  /**\n   * Refresh teams data\n   */\n  const refreshTeams = async (): Promise<void> => {\n    await loadUserTeams();\n  };\n\n  /**\n   * Clear current team selection\n   */\n  const clearTeam = (): void => {\n    dispatch({ type: 'TEAM_CLEARED' });\n    localStorage.removeItem(STORAGE_KEYS.SELECTED_TEAM_ID);\n  };\n\n  /**\n   * Check if user is a member of a specific team\n   */\n  const isTeamMember = (teamId: number): boolean => {\n    return state.userTeams.some(team => team.id === teamId);\n  };\n\n  /**\n   * Get user's role in a specific team\n   */\n  const getUserRoleInTeam = (teamId: number): string | null => {\n    if (state.currentTeam?.id === teamId) {\n      return state.userRole;\n    }\n    // For other teams, we'd need to make an API call or cache roles\n    return null;\n  };\n\n  /**\n   * Load teams on component mount\n   */\n  useEffect(() => {\n    loadUserTeams();\n  }, []);\n\n  const contextValue: TeamContextType = {\n    state,\n    selectTeam,\n    refreshTeams,\n    clearTeam,\n    isTeamMember,\n    getUserRoleInTeam,\n  };\n\n  return (\n    <TeamContext.Provider value={contextValue}>\n      {children}\n    </TeamContext.Provider>\n  );\n};\n\n/**\n * Hook to use team context\n * \n * @returns Team context with state and actions\n * @throws Error if used outside TeamProvider\n */\nexport const useTeam = (): TeamContextType => {\n  const context = useContext(TeamContext);\n  if (context === undefined) {\n    throw new Error('useTeam must be used within a TeamProvider');\n  }\n  return context;\n};\n\nexport default TeamProvider; "],"mappings":"AAAA;;;GAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}