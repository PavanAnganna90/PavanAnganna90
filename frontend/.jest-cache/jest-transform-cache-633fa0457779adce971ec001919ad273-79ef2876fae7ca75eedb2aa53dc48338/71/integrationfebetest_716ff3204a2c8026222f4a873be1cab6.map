{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/__tests__/integration-fe-be.test.tsx"],"sourcesContent":["/**\n * Frontend-Backend Integration Tests\n * Tests the integration between React components and API calls\n */\n\nimport React from 'react';\nimport { render, screen, waitFor } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\n// Mock API responses\nconst mockFetch = jest.fn();\nglobal.fetch = mockFetch;\n\n// Simple Login Component for Integration Testing\nconst LoginComponent = () => {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [status, setStatus] = React.useState('idle');\n  const [user, setUser] = React.useState(null);\n\n  const handleLogin = async () => {\n    setStatus('loading');\n    \n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password })\n      });\n      \n      const data = await response.json();\n      \n      if (response.ok && data.success) {\n        setStatus('success');\n        setUser(data.data.user);\n      } else {\n        setStatus('error');\n      }\n    } catch (error) {\n      setStatus('error');\n    }\n  };\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <input\n        type=\"email\"\n        placeholder=\"Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        data-testid=\"email-input\"\n      />\n      <input\n        type=\"password\"\n        placeholder=\"Password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        data-testid=\"password-input\"\n      />\n      <button onClick={handleLogin} disabled={status === 'loading'}>\n        {status === 'loading' ? 'Logging in...' : 'Login'}\n      </button>\n      {status === 'success' && user && (\n        <div data-testid=\"success-message\">\n          Welcome, {user.email}!\n        </div>\n      )}\n      {status === 'error' && (\n        <div data-testid=\"error-message\">\n          Login failed\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Simple Dashboard Component\nconst DashboardComponent = () => {\n  const [metrics, setMetrics] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    const fetchMetrics = async () => {\n      try {\n        const response = await fetch('/metrics');\n        const data = await response.json();\n        setMetrics(data);\n      } catch (error) {\n        console.error('Failed to fetch metrics');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMetrics();\n  }, []);\n\n  if (loading) {\n    return <div data-testid=\"loading\">Loading metrics...</div>;\n  }\n\n  if (!metrics) {\n    return <div data-testid=\"error\">Failed to load metrics</div>;\n  }\n\n  return (\n    <div>\n      <h1>Dashboard</h1>\n      <div data-testid=\"metrics\">\n        <div>Requests: {metrics.requests_total}</div>\n        <div>Response Time: {metrics.response_time_avg}ms</div>\n        <div>Error Rate: {(metrics.error_rate * 100).toFixed(2)}%</div>\n      </div>\n    </div>\n  );\n};\n\ndescribe('Frontend-Backend Integration Tests', () => {\n  beforeEach(() => {\n    mockFetch.mockClear();\n  });\n\n  describe('Authentication Integration', () => {\n    test('should handle successful login flow', async () => {\n      const user = userEvent.setup();\n      \n      // Mock successful login response\n      mockFetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({\n          success: true,\n          data: {\n            token: 'jwt-token-123',\n            user: { id: '1', email: 'test@example.com', role: 'user' }\n          }\n        })\n      });\n\n      render(<LoginComponent />);\n\n      // Fill in login form\n      const emailInput = screen.getByTestId('email-input');\n      const passwordInput = screen.getByTestId('password-input');\n      const loginButton = screen.getByRole('button', { name: /login/i });\n\n      await user.type(emailInput, 'test@example.com');\n      await user.type(passwordInput, 'password123');\n      await user.click(loginButton);\n\n      // Verify API call was made\n      expect(mockFetch).toHaveBeenCalledWith('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          email: 'test@example.com',\n          password: 'password123'\n        })\n      });\n\n      // Verify success message appears\n      await waitFor(() => {\n        expect(screen.getByTestId('success-message')).toHaveTextContent(\n          'Welcome, test@example.com!'\n        );\n      });\n    });\n\n    test('should handle login failure', async () => {\n      const user = userEvent.setup();\n      \n      // Mock failed login response\n      mockFetch.mockResolvedValueOnce({\n        ok: false,\n        json: async () => ({\n          success: false,\n          error: 'Invalid credentials'\n        })\n      });\n\n      render(<LoginComponent />);\n\n      const emailInput = screen.getByTestId('email-input');\n      const passwordInput = screen.getByTestId('password-input');\n      const loginButton = screen.getByRole('button', { name: /login/i });\n\n      await user.type(emailInput, 'test@example.com');\n      await user.type(passwordInput, 'wrongpassword');\n      await user.click(loginButton);\n\n      // Verify error message appears\n      await waitFor(() => {\n        expect(screen.getByTestId('error-message')).toHaveTextContent(\n          'Login failed'\n        );\n      });\n    });\n\n    test('should handle network error', async () => {\n      const user = userEvent.setup();\n      \n      // Mock network error\n      mockFetch.mockRejectedValueOnce(new Error('Network error'));\n\n      render(<LoginComponent />);\n\n      const emailInput = screen.getByTestId('email-input');\n      const passwordInput = screen.getByTestId('password-input');\n      const loginButton = screen.getByRole('button', { name: /login/i });\n\n      await user.type(emailInput, 'test@example.com');\n      await user.type(passwordInput, 'password123');\n      await user.click(loginButton);\n\n      // Verify error handling\n      await waitFor(() => {\n        expect(screen.getByTestId('error-message')).toHaveTextContent(\n          'Login failed'\n        );\n      });\n    });\n  });\n\n  describe('Dashboard Integration', () => {\n    test('should load and display metrics from API', async () => {\n      // Mock metrics response\n      mockFetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({\n          requests_total: 1000,\n          response_time_avg: 125,\n          error_rate: 0.02,\n          uptime_seconds: 3600\n        })\n      });\n\n      render(<DashboardComponent />);\n\n      // Initially shows loading\n      expect(screen.getByTestId('loading')).toHaveTextContent('Loading metrics...');\n\n      // Wait for metrics to load\n      await waitFor(() => {\n        expect(screen.getByTestId('metrics')).toBeInTheDocument();\n      });\n\n      // Verify metrics are displayed correctly\n      expect(screen.getByText('Requests: 1000')).toBeInTheDocument();\n      expect(screen.getByText('Response Time: 125ms')).toBeInTheDocument();\n      expect(screen.getByText('Error Rate: 2.00%')).toBeInTheDocument();\n\n      // Verify API call was made\n      expect(mockFetch).toHaveBeenCalledWith('/metrics');\n    });\n\n    test('should handle metrics loading failure', async () => {\n      // Mock failed response\n      mockFetch.mockRejectedValueOnce(new Error('API Error'));\n\n      render(<DashboardComponent />);\n\n      // Wait for error state\n      await waitFor(() => {\n        expect(screen.getByTestId('error')).toHaveTextContent('Failed to load metrics');\n      });\n    });\n  });\n\n  describe('API Response Validation', () => {\n    test('should validate health check response format', async () => {\n      const healthResponse = {\n        status: 'healthy',\n        timestamp: new Date().toISOString(),\n        service: 'api-module',\n        version: '1.0.0'\n      };\n\n      mockFetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => healthResponse\n      });\n\n      const response = await fetch('/health');\n      const data = await response.json();\n\n      expect(data).toHaveProperty('status', 'healthy');\n      expect(data).toHaveProperty('timestamp');\n      expect(data).toHaveProperty('service', 'api-module');\n      expect(data).toHaveProperty('version', '1.0.0');\n    });\n\n    test('should validate user data response format', async () => {\n      const usersResponse = {\n        success: true,\n        data: [\n          { id: '1', email: 'test@example.com', firstName: 'Test', lastName: 'User' }\n        ]\n      };\n\n      mockFetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => usersResponse\n      });\n\n      const response = await fetch('/api/users');\n      const data = await response.json();\n\n      expect(data.success).toBe(true);\n      expect(Array.isArray(data.data)).toBe(true);\n      expect(data.data[0]).toHaveProperty('id');\n      expect(data.data[0]).toHaveProperty('email');\n      expect(data.data[0]).toHaveProperty('firstName');\n      expect(data.data[0]).toHaveProperty('lastName');\n    });\n  });\n\n  describe('Error Handling Integration', () => {\n    test('should handle API rate limiting', async () => {\n      mockFetch.mockResolvedValueOnce({\n        ok: false,\n        status: 429,\n        json: async () => ({\n          success: false,\n          error: 'Rate limit exceeded',\n          retryAfter: 60\n        })\n      });\n\n      const response = await fetch('/api/users');\n      const data = await response.json();\n\n      expect(response.status).toBe(429);\n      expect(data.success).toBe(false);\n      expect(data.error).toBe('Rate limit exceeded');\n      expect(data.retryAfter).toBe(60);\n    });\n\n    test('should handle authentication errors', async () => {\n      mockFetch.mockResolvedValueOnce({\n        ok: false,\n        status: 401,\n        json: async () => ({\n          success: false,\n          error: 'Unauthorized'\n        })\n      });\n\n      const response = await fetch('/api/protected');\n      const data = await response.json();\n\n      expect(response.status).toBe(401);\n      expect(data.success).toBe(false);\n      expect(data.error).toBe('Unauthorized');\n    });\n  });\n});"],"names":["mockFetch","jest","fn","global","fetch","LoginComponent","email","setEmail","React","useState","password","setPassword","status","setStatus","user","setUser","handleLogin","response","method","headers","body","JSON","stringify","data","json","ok","success","error","div","h1","input","type","placeholder","value","onChange","e","target","data-testid","button","onClick","disabled","DashboardComponent","metrics","setMetrics","loading","setLoading","useEffect","fetchMetrics","console","requests_total","response_time_avg","error_rate","toFixed","describe","beforeEach","mockClear","test","userEvent","setup","mockResolvedValueOnce","token","id","role","render","emailInput","screen","getByTestId","passwordInput","loginButton","getByRole","name","click","expect","toHaveBeenCalledWith","waitFor","toHaveTextContent","mockRejectedValueOnce","Error","uptime_seconds","toBeInTheDocument","getByText","healthResponse","timestamp","Date","toISOString","service","version","toHaveProperty","usersResponse","firstName","lastName","toBe","Array","isArray","retryAfter"],"mappings":"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"}