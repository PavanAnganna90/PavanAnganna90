{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/types/role.ts"],"sourcesContent":["/**\n * Role and Permission management TypeScript types.\n * Corresponds to backend Role, Permission, and RBAC models.\n */\n\n/**\n * System role enum - Updated to match PRD specifications\n */\nexport enum SystemRole {\n  SUPER_ADMIN = 'super_admin',          // Platform-wide access across all organizations\n  ORGANIZATION_OWNER = 'org_owner',     // Full access to organization resources\n  DEVOPS_ADMIN = 'devops_admin',        // Operational access to infrastructure\n  MANAGER = 'manager',                  // Management-level access\n  ENGINEER = 'engineer',                // Engineering access\n  VIEWER = 'viewer',                    // Read-only access\n  API_ONLY = 'api_only'                 // Programmatic access for integrations\n}\n\n/**\n * Permission types enum - Enhanced with new API and DevOps permissions\n */\nexport enum PermissionType {\n  // Organization management (super admin only)\n  CREATE_ORGANIZATIONS = 'create_organizations',\n  UPDATE_ORGANIZATIONS = 'update_organizations',\n  DELETE_ORGANIZATIONS = 'delete_organizations',\n  VIEW_ALL_ORGANIZATIONS = 'view_all_organizations',\n  \n  // User management\n  CREATE_USERS = 'create_users',\n  UPDATE_USERS = 'update_users',\n  DELETE_USERS = 'delete_users',\n  VIEW_USERS = 'view_users',\n  INVITE_USERS = 'invite_users',\n  \n  // Team management\n  CREATE_TEAMS = 'create_teams',\n  UPDATE_TEAMS = 'update_teams',\n  DELETE_TEAMS = 'delete_teams',\n  VIEW_TEAMS = 'view_teams',\n  MANAGE_TEAM_MEMBERS = 'manage_team_members',\n  \n  // Project management\n  CREATE_PROJECTS = 'create_projects',\n  UPDATE_PROJECTS = 'update_projects',\n  DELETE_PROJECTS = 'delete_projects',\n  VIEW_PROJECTS = 'view_projects',\n  \n  // Infrastructure management\n  VIEW_INFRASTRUCTURE = 'view_infrastructure',\n  MANAGE_INFRASTRUCTURE = 'manage_infrastructure',\n  DEPLOY_INFRASTRUCTURE = 'deploy_infrastructure',\n  \n  // Pipeline management\n  VIEW_PIPELINES = 'view_pipelines',\n  TRIGGER_PIPELINES = 'trigger_pipelines',\n  MANAGE_PIPELINES = 'manage_pipelines',\n  \n  // Automation management\n  VIEW_AUTOMATION = 'view_automation',\n  TRIGGER_AUTOMATION = 'trigger_automation',\n  MANAGE_AUTOMATION = 'manage_automation',\n  \n  // Alert management\n  VIEW_ALERTS = 'view_alerts',\n  ACKNOWLEDGE_ALERTS = 'acknowledge_alerts',\n  RESOLVE_ALERTS = 'resolve_alerts',\n  MANAGE_ALERTS = 'manage_alerts',\n  \n  // Cost management\n  VIEW_COSTS = 'view_costs',\n  MANAGE_COST_BUDGETS = 'manage_cost_budgets',\n  \n  // Role management\n  VIEW_ROLES = 'view_roles',\n  MANAGE_ROLES = 'manage_roles',\n  \n  // System administration\n  VIEW_SYSTEM_LOGS = 'view_system_logs',\n  MANAGE_SYSTEM_SETTINGS = 'manage_system_settings',\n  \n  // Organization-specific settings\n  MANAGE_ORG_SETTINGS = 'manage_org_settings',\n  VIEW_ORG_SETTINGS = 'view_org_settings',\n  MANAGE_ORG_BILLING = 'manage_org_billing',\n  VIEW_ORG_BILLING = 'view_org_billing',\n  \n  // API access permissions for programmatic access\n  API_READ_ACCESS = 'api_read_access',\n  API_WRITE_ACCESS = 'api_write_access',\n  API_ADMIN_ACCESS = 'api_admin_access',\n  WEBHOOK_MANAGEMENT = 'webhook_management',\n  TOKEN_MANAGEMENT = 'token_management',\n  \n  // DevOps specific permissions\n  CLUSTER_MANAGEMENT = 'cluster_management',\n  DEPLOYMENT_MANAGEMENT = 'deployment_management',\n  MONITORING_MANAGEMENT = 'monitoring_management',\n  LOG_ACCESS = 'log_access',\n  SECURITY_SCANNING = 'security_scanning'\n}\n\n/**\n * Permission categories for organization\n */\nexport interface PermissionCategory {\n  name: string;\n  description: string;\n  permissions: PermissionType[];\n}\n\n/**\n * Permission definition\n */\nexport interface Permission {\n  id: number;\n  name: PermissionType;\n  description: string;\n  category: string;\n  created_at: string;\n}\n\n/**\n * Role definition\n */\nexport interface Role {\n  id: number;\n  name: string;\n  system_role: SystemRole;\n  description: string;\n  is_system_role: boolean;\n  is_active: boolean;\n  created_at: string;\n  updated_at: string;\n  permissions?: Permission[];\n  user_count?: number;\n}\n\n/**\n * Role creation request\n */\nexport interface RoleCreate {\n  name: string;\n  system_role: SystemRole;\n  description?: string;\n  permission_ids?: number[];\n}\n\n/**\n * Role update request\n */\nexport interface RoleUpdate {\n  name?: string;\n  description?: string;\n  permission_ids?: number[];\n  is_active?: boolean;\n}\n\n/**\n * User role assignment request\n */\nexport interface UserRoleAssignmentRequest {\n  user_id: number;\n  role_id: number;\n}\n\n/**\n * User role assignment response\n */\nexport interface UserRoleAssignmentResponse {\n  user_id: number;\n  role_id: number;\n  role_name: string;\n  assigned_at: string;\n  assigned_by_user_id: number;\n  message: string;\n}\n\n/**\n * Role permissions response\n */\nexport interface RolePermissionsResponse {\n  role_id: number;\n  role_name: string;\n  permissions: Permission[];\n  categories: {\n    [category: string]: Permission[];\n  };\n}\n\n/**\n * User effective permissions\n */\nexport interface UserPermissions {\n  user_id: number;\n  system_permissions: PermissionType[];\n  team_permissions: {\n    [team_id: number]: {\n      team_name: string;\n      role: string;\n      permissions: string[];\n    };\n  };\n  effective_permissions: PermissionType[];\n}\n\n/**\n * Role analytics data\n */\nexport interface RoleAnalytics {\n  total_roles: number;\n  system_roles: number;\n  custom_roles: number;\n  users_by_role: {\n    [role_name: string]: number;\n  };\n  permission_usage: {\n    [permission: string]: number;\n  };\n  recent_assignments: {\n    user_id: number;\n    username: string;\n    role_name: string;\n    assigned_at: string;\n  }[];\n}\n\n/**\n * Permission matrix for UI display\n */\nexport interface PermissionMatrix {\n  categories: PermissionCategory[];\n  roles: Role[];\n  matrix: {\n    [role_id: number]: {\n      [permission: string]: boolean;\n    };\n  };\n}\n\n/**\n * Role comparison data\n */\nexport interface RoleComparison {\n  roles: Role[];\n  permissions: Permission[];\n  comparison_matrix: {\n    [permission: string]: {\n      [role_id: number]: boolean;\n    };\n  };\n  differences: {\n    role1_only: PermissionType[];\n    role2_only: PermissionType[];\n    shared: PermissionType[];\n  };\n}\n\n/**\n * Bulk role operation request\n */\nexport interface BulkRoleOperation {\n  user_ids: number[];\n  role_id: number;\n  operation: 'assign' | 'remove';\n}\n\n/**\n * Bulk role operation response\n */\nexport interface BulkRoleOperationResponse {\n  successful: number;\n  failed: number;\n  results: {\n    user_id: number;\n    success: boolean;\n    message: string;\n  }[];\n}\n\n/**\n * Role suggestion based on user activity\n */\nexport interface RoleSuggestion {\n  user_id: number;\n  username: string;\n  current_role: string | null;\n  suggested_role: string;\n  confidence: number;\n  reasons: string[];\n  activity_patterns: {\n    [permission: string]: number;\n  };\n}\n\n/**\n * RBAC health check\n */\nexport interface RBACHealth {\n  total_users: number;\n  users_with_roles: number;\n  orphaned_permissions: number;\n  inactive_roles: number;\n  permission_conflicts: {\n    description: string;\n    affected_users: number;\n  }[];\n  recommendations: string[];\n} "],"names":["PermissionType","SystemRole"],"mappings":"AAAA;;;CAGC,GAED;;CAEC;;;;;;;;;;;IAcWA,cAAc;eAAdA;;IAbAC,UAAU;eAAVA;;;AAAL,IAAA,AAAKA,oCAAAA;;;;;;;yCAO4B,uCAAuC;WAPnEA;;AAaL,IAAA,AAAKD,wCAAAA;IACV,6CAA6C;;;;;IAM7C,kBAAkB;;;;;;IAOlB,kBAAkB;;;;;;IAOlB,qBAAqB;;;;;IAMrB,4BAA4B;;;;IAK5B,sBAAsB;;;;IAKtB,wBAAwB;;;;IAKxB,mBAAmB;;;;;IAMnB,kBAAkB;;;IAIlB,kBAAkB;;;IAIlB,wBAAwB;;;IAIxB,iCAAiC;;;;;IAMjC,iDAAiD;;;;;;IAOjD,8BAA8B;;;;;;WAzEpBA"}