{"version":3,"names":["dashboardApi","cov_bilx9i53k","f","s","default","_default","fetchActions","fetchEvents","fetchInsights","fetchLiveMetrics","fetchSystemMetrics","DashboardApiService","constructor","baseUrl","process","env","NODE_ENV","b","getAuthToken","window","localStorage","getItem","sessionStorage","request","endpoint","options","token","url","defaultHeaders","config","headers","response","fetch","status","Error","ok","statusText","json","error","console","getDashboardData","filters","params","URLSearchParams","teamId","append","toString","dateRange","start","end","includeSubteams","projectIds","length","join","queryString","getTeamMetrics","team_id","getTeamActivity","limit","offset","types","activities","total","hasMore","has_more","getTeamSystemStatus","getTeamAlerts","severity","alerts","map","alert","id","title","description","createdAt","created_at","updatedAt","updated_at","projectId","project_id","summary","refreshDashboard","method","body","JSON","stringify","getTeamDashboardConfig","widgets","refreshInterval","refresh_interval","theme","updateTeamDashboardConfig","getTeamsComparison","teamIds","team_ids","teams","team","teamName","team_name","metrics","aggregated","res"],"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/services/dashboardApi.ts"],"sourcesContent":["/**\n * Team-aware Dashboard API Service\n * \n * Provides dashboard data and metrics filtered by team context.\n * Handles team-specific monitoring, alerts, and activity data.\n */\n\n// Dashboard interfaces\nexport interface DashboardMetrics {\n  pipelines: {\n    successful: number;\n    total: number;\n    successRate: number;\n    trend: {\n      value: string;\n      direction: 'up' | 'down' | 'neutral';\n      label: string;\n    };\n  };\n  deployments: {\n    active: number;\n    pending: number;\n    successful: number;\n    failed: number;\n  };\n  systemHealth: {\n    percentage: number;\n    status: 'healthy' | 'warning' | 'critical';\n    issues: number;\n  };\n  alerts: {\n    total: number;\n    critical: number;\n    warning: number;\n    info: number;\n  };\n}\n\nexport interface DashboardActivity {\n  id: string;\n  type: 'deployment' | 'pipeline' | 'alert' | 'system';\n  status: 'success' | 'warning' | 'error' | 'info';\n  title: string;\n  description: string;\n  timestamp: string;\n  teamId?: number;\n  projectId?: string;\n  userId?: number;\n  metadata?: Record<string, any>;\n}\n\nexport interface SystemStatus {\n  id: string;\n  name: string;\n  status: 'operational' | 'degraded' | 'down' | 'maintenance';\n  description?: string;\n  lastChecked: string;\n  responseTime?: number;\n  uptime?: number;\n}\n\nexport interface DashboardData {\n  metrics: DashboardMetrics;\n  recentActivity: DashboardActivity[];\n  systemStatus: SystemStatus[];\n  lastUpdated: string;\n}\n\nexport interface DashboardFilters {\n  teamId?: number;\n  dateRange?: {\n    start: string;\n    end: string;\n  };\n  includeSubteams?: boolean;\n  projectIds?: string[];\n}\n\n/**\n * Dashboard API Service Class\n * \n * Singleton service for dashboard data operations with team filtering.\n * Provides real-time dashboard metrics, activity feeds, and system status.\n */\nclass DashboardApiService {\n  private baseUrl: string;\n  \n  constructor() {\n    this.baseUrl = process.env.NODE_ENV === 'production' \n      ? '/api/v1/dashboard' \n      : 'http://localhost:8000/api/v1/dashboard';\n  }\n\n  /**\n   * Get authentication token from storage\n   */\n  private getAuthToken(): string | null {\n    if (typeof window !== 'undefined') {\n      return localStorage.getItem('auth_token') || sessionStorage.getItem('auth_token');\n    }\n    return null;\n  }\n\n  /**\n   * Generic request method with authentication and error handling\n   */\n  private async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\n    const token = this.getAuthToken();\n    const url = `${this.baseUrl}${endpoint}`;\n    \n    const defaultHeaders: HeadersInit = {\n      'Content-Type': 'application/json',\n    };\n\n    if (token) {\n      defaultHeaders['Authorization'] = `Bearer ${token}`;\n    }\n\n    const config: RequestInit = {\n      ...options,\n      headers: {\n        ...defaultHeaders,\n        ...options.headers,\n      },\n    };\n\n    try {\n      const response = await fetch(url, config);\n      \n      if (response.status === 401) {\n        throw new Error('Authentication required. Please log in again.');\n      }\n      \n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error(`Dashboard API request failed: ${url}`, error);\n      throw error;\n    }\n  }\n  /**\n   * Get dashboard data for a specific team\n   */\n  async getDashboardData(filters: DashboardFilters = {}): Promise<DashboardData> {\n    const params = new URLSearchParams();\n    \n    if (filters.teamId) {\n      params.append('team_id', filters.teamId.toString());\n    }\n    \n    if (filters.dateRange) {\n      params.append('start_date', filters.dateRange.start);\n      params.append('end_date', filters.dateRange.end);\n    }\n    \n    if (filters.includeSubteams) {\n      params.append('include_subteams', 'true');\n    }\n    \n    if (filters.projectIds && filters.projectIds.length > 0) {\n      params.append('project_ids', filters.projectIds.join(','));\n    }\n    \n    const queryString = params.toString();\n    const url = `/dashboard${queryString ? `?${queryString}` : ''}`;\n    \n    const response = await this.request<DashboardData>(url);\n    return response;\n  }\n\n  /**\n   * Get team-specific metrics\n   */\n  async getTeamMetrics(teamId: number, dateRange?: { start: string; end: string }): Promise<DashboardMetrics> {\n    const params = new URLSearchParams({\n      team_id: teamId.toString(),\n    });\n    \n    if (dateRange) {\n      params.append('start_date', dateRange.start);\n      params.append('end_date', dateRange.end);\n    }\n    \n    const response = await this.request<DashboardMetrics>(`/dashboard/metrics?${params.toString()}`);\n    return response;\n  }\n\n  /**\n   * Get recent activity for a team\n   */\n  async getTeamActivity(\n    teamId: number, \n    options: {\n      limit?: number;\n      offset?: number;\n      types?: string[];\n      status?: string[];\n    } = {}\n  ): Promise<{\n    activities: DashboardActivity[];\n    total: number;\n    hasMore: boolean;\n  }> {\n    const params = new URLSearchParams({\n      team_id: teamId.toString(),\n      limit: (options.limit || 20).toString(),\n      offset: (options.offset || 0).toString(),\n    });\n    \n    if (options.types && options.types.length > 0) {\n      params.append('types', options.types.join(','));\n    }\n    \n    if (options.status && options.status.length > 0) {\n      params.append('status', options.status.join(','));\n    }\n    \n    const response = await this.request<{\n      activities: DashboardActivity[];\n      total: number;\n      has_more: boolean;\n    }>(`/dashboard/activity?${params.toString()}`);\n    \n    return {\n      activities: response.activities,\n      total: response.total,\n      hasMore: response.has_more,\n    };\n  }\n\n  /**\n   * Get system status for team's infrastructure\n   */\n  async getTeamSystemStatus(teamId: number): Promise<SystemStatus[]> {\n    const params = new URLSearchParams({\n      team_id: teamId.toString(),\n    });\n    \n    const response = await this.request<SystemStatus[]>(`/dashboard/system-status?${params.toString()}`);\n    return response;\n  }\n\n  /**\n   * Get team alerts and notifications\n   */\n  async getTeamAlerts(\n    teamId: number,\n    options: {\n      severity?: string[];\n      status?: string[];\n      limit?: number;\n    } = {}\n  ): Promise<{\n    alerts: Array<{\n      id: string;\n      title: string;\n      description: string;\n      severity: 'critical' | 'warning' | 'info';\n      status: 'open' | 'acknowledged' | 'resolved';\n      createdAt: string;\n      updatedAt: string;\n      teamId: number;\n      projectId?: string;\n    }>;\n    summary: {\n      total: number;\n      critical: number;\n      warning: number;\n      info: number;\n    };\n  }> {\n    const params = new URLSearchParams({\n      team_id: teamId.toString(),\n      limit: (options.limit || 50).toString(),\n    });\n    \n    if (options.severity && options.severity.length > 0) {\n      params.append('severity', options.severity.join(','));\n    }\n    \n    if (options.status && options.status.length > 0) {\n      params.append('status', options.status.join(','));\n    }\n    \n    const response = await this.request<{\n      alerts: Array<{\n        id: string;\n        title: string;\n        description: string;\n        severity: 'critical' | 'warning' | 'info';\n        status: 'open' | 'acknowledged' | 'resolved';\n        created_at: string;\n        updated_at: string;\n        team_id: number;\n        project_id?: string;\n      }>;\n      summary: {\n        total: number;\n        critical: number;\n        warning: number;\n        info: number;\n      };\n    }>(`/dashboard/alerts?${params.toString()}`);\n    \n    return {\n      alerts: response.alerts.map(alert => ({\n        id: alert.id,\n        title: alert.title,\n        description: alert.description,\n        severity: alert.severity,\n        status: alert.status,\n        createdAt: alert.created_at,\n        updatedAt: alert.updated_at,\n        teamId: alert.team_id,\n        projectId: alert.project_id,\n      })),\n      summary: response.summary,\n    };\n  }\n\n  /**\n   * Refresh dashboard data (force cache invalidation)\n   */\n  async refreshDashboard(teamId: number): Promise<void> {\n    await this.request<void>(`/dashboard/refresh`, {\n      method: 'POST',\n      body: JSON.stringify({ team_id: teamId }),\n    });\n  }\n\n  /**\n   * Get dashboard configuration for a team\n   */\n  async getTeamDashboardConfig(teamId: number): Promise<{\n    widgets: Array<{\n      id: string;\n      type: string;\n      title: string;\n      position: { x: number; y: number; width: number; height: number };\n      settings: Record<string, any>;\n      enabled: boolean;\n    }>;\n    refreshInterval: number;\n    theme: string;\n  }> {\n    const response = await this.request<{\n      widgets: Array<{\n        id: string;\n        type: string;\n        title: string;\n        position: { x: number; y: number; width: number; height: number };\n        settings: Record<string, any>;\n        enabled: boolean;\n      }>;\n      refresh_interval: number;\n      theme: string;\n    }>(`/dashboard/config?team_id=${teamId}`);\n    \n    return {\n      widgets: response.widgets,\n      refreshInterval: response.refresh_interval,\n      theme: response.theme,\n    };\n  }\n\n  /**\n   * Update dashboard configuration for a team\n   */\n  async updateTeamDashboardConfig(\n    teamId: number,\n    config: {\n      widgets?: Array<{\n        id: string;\n        type: string;\n        title: string;\n        position: { x: number; y: number; width: number; height: number };\n        settings: Record<string, any>;\n        enabled: boolean;\n      }>;\n      refreshInterval?: number;\n      theme?: string;\n    }\n  ): Promise<void> {\n    await this.request<void>(`/dashboard/config`, {\n      method: 'PUT',\n      body: JSON.stringify({\n        team_id: teamId,\n        ...config,\n        refresh_interval: config.refreshInterval,\n      }),\n    });\n  }\n\n  /**\n   * Get comparative metrics across teams (for admins)\n   */\n  async getTeamsComparison(teamIds: number[]): Promise<{\n    teams: Array<{\n      teamId: number;\n      teamName: string;\n      metrics: DashboardMetrics;\n    }>;\n    aggregated: DashboardMetrics;\n  }> {\n    const params = new URLSearchParams({\n      team_ids: teamIds.join(','),\n    });\n    \n    const response = await this.request<{\n      teams: Array<{\n        team_id: number;\n        team_name: string;\n        metrics: DashboardMetrics;\n      }>;\n      aggregated: DashboardMetrics;\n    }>(`/dashboard/compare?${params.toString()}`);\n    \n    return {\n      teams: response.teams.map(team => ({\n        teamId: team.team_id,\n        teamName: team.team_name,\n        metrics: team.metrics,\n      })),\n      aggregated: response.aggregated,\n    };\n  }\n}\n\n/**\n * Singleton instance of the dashboard API service\n */\nexport const dashboardApi = new DashboardApiService();\nexport default dashboardApi;\n\n// Dashboard API service for OpsSight UI\n\n/**\n * Fetch system metrics (CI/CD, K8s, Cloud Cost).\n * @returns {Promise<any>} System metrics data\n */\nexport async function fetchSystemMetrics() {\n  const res = await fetch('/api/metrics/system');\n  if (!res.ok) throw new Error('Failed to fetch system metrics');\n  return res.json();\n}\n\n/**\n * Fetch live metrics for Command Center panel.\n * @returns {Promise<any>} Live metrics data\n */\nexport async function fetchLiveMetrics() {\n  const res = await fetch('/api/metrics/live');\n  if (!res.ok) throw new Error('Failed to fetch live metrics');\n  return res.json();\n}\n\n/**\n * Fetch events feed for Command Center panel.\n * @returns {Promise<any>} Events data\n */\nexport async function fetchEvents() {\n  const res = await fetch('/api/events');\n  if (!res.ok) throw new Error('Failed to fetch events');\n  return res.json();\n}\n\n/**\n * Fetch AI insights for Action & Insights panel.\n * @returns {Promise<any>} Insights data\n */\nexport async function fetchInsights() {\n  const res = await fetch('/api/insights');\n  if (!res.ok) throw new Error('Failed to fetch insights');\n  return res.json();\n}\n\n/**\n * Fetch available actions for Action & Insights panel.\n * @returns {Promise<any>} Actions data\n */\nexport async function fetchActions() {\n  const res = await fetch('/api/actions');\n  if (!res.ok) throw new Error('Failed to fetch actions');\n  return res.json();\n} "],"mappings":"AAAA;;;;;GAAA,CAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}