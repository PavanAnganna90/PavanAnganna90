{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/tests/utils/errorHandling.test.tsx"],"sourcesContent":["/**\n * Unit tests for error handling utilities.\n * Tests custom error classes, error parsing, and logging functionality.\n */\n\nimport {\n  AppError,\n  ErrorType,\n  OAuthError,\n  APIError,\n  NetworkError,\n  CSRFError,\n  TokenError,\n  OAuthErrorCode,\n  parseOAuthError,\n  handleFetchError,\n  createNetworkError,\n  ErrorLogger,\n  isRecoverableError,\n  sanitizeErrorData,\n  handleGlobalError,\n} from '../../utils/errorHandling';\n\n// Mock console methods\nconst mockConsole = {\n  log: jest.fn(),\n  error: jest.fn(),\n  warn: jest.fn(),\n  info: jest.fn(),\n  group: jest.fn(),\n  groupEnd: jest.fn(),\n};\n\n// Mock navigator\nObject.defineProperty(global, 'navigator', {\n  value: {\n    userAgent: 'Mozilla/5.0 (Test Browser)',\n  },\n  writable: true,\n});\n\n// Mock window.location\nObject.defineProperty(global, 'window', {\n  value: {\n    location: {\n      href: 'https://example.com/test',\n    },\n  },\n  writable: true,\n});\n\ndescribe('Error Handling Utilities', () => {\n  beforeEach(() => {\n    // Reset all mocks\n    Object.values(mockConsole).forEach(mock => mock.mockClear());\n    \n    // Mock console methods\n    Object.assign(console, mockConsole);\n  });\n\n  describe('AppError', () => {\n    it('should create an AppError with all properties', () => {\n      const context = { userId: '123', action: 'login' };\n      const originalError = new Error('Original error');\n      \n      const appError = new AppError(\n        ErrorType.API_ERROR,\n        'Test error message',\n        'User-friendly message',\n        'TEST_ERROR',\n        originalError,\n        context\n      );\n\n      expect(appError).toBeInstanceOf(Error);\n      expect(appError).toBeInstanceOf(AppError);\n      expect(appError.name).toBe('AppError');\n      expect(appError.type).toBe(ErrorType.API_ERROR);\n      expect(appError.message).toBe('Test error message');\n      expect(appError.userMessage).toBe('User-friendly message');\n      expect(appError.code).toBe('TEST_ERROR');\n      expect(appError.originalError).toBe(originalError);\n      expect(appError.context).toEqual(context);\n      expect(appError.timestamp).toBeInstanceOf(Date);\n    });\n\n    it('should create an AppError with minimal parameters', () => {\n      const appError = new AppError(\n        ErrorType.NETWORK_ERROR,\n        'Network failed',\n        'Please check your connection'\n      );\n\n      expect(appError.type).toBe(ErrorType.NETWORK_ERROR);\n      expect(appError.message).toBe('Network failed');\n      expect(appError.userMessage).toBe('Please check your connection');\n      expect(appError.code).toBeUndefined();\n      expect(appError.originalError).toBeUndefined();\n      expect(appError.context).toBeUndefined();\n    });\n  });\n\n  describe('OAuthError', () => {\n    it('should create an OAuthError with proper user message', () => {\n      const oauthError = new OAuthError(\n        OAuthErrorCode.ACCESS_DENIED,\n        'User denied access',\n        'state123',\n        { redirectUrl: '/login' }\n      );\n\n      expect(oauthError).toBeInstanceOf(AppError);\n      expect(oauthError.type).toBe(ErrorType.OAUTH_ERROR);\n      expect(oauthError.code).toBe(OAuthErrorCode.ACCESS_DENIED);\n      expect(oauthError.message).toBe('OAuth Error: access_denied - User denied access');\n      expect(oauthError.userMessage).toBe('You denied access to the application. Please try again if you want to continue.');\n      expect(oauthError.context).toEqual({\n        redirectUrl: '/login',\n        state: 'state123',\n        description: 'User denied access',\n      });\n    });\n\n    it('should handle unknown OAuth error codes', () => {\n      const oauthError = new OAuthError('unknown_error');\n\n      expect(oauthError.userMessage).toBe('An authentication error occurred. Please try again.');\n    });\n  });\n\n  describe('APIError', () => {\n    it('should create an APIError with status information', () => {\n      const apiError = new APIError(\n        404,\n        'Not Found',\n        'Resource not found',\n        'Custom user message',\n        { resource: 'user' }\n      );\n\n      expect(apiError).toBeInstanceOf(AppError);\n      expect(apiError.type).toBe(ErrorType.API_ERROR);\n      expect(apiError.status).toBe(404);\n      expect(apiError.statusText).toBe('Not Found');\n      expect(apiError.message).toBe('API Error 404: Resource not found');\n      expect(apiError.userMessage).toBe('Custom user message');\n      expect(apiError.code).toBe('404');\n    });\n\n    it('should use default user message for known status codes', () => {\n      const apiError = new APIError(401, 'Unauthorized', 'Token expired');\n\n      expect(apiError.userMessage).toBe('Your session has expired. Please log in again.');\n    });\n\n    it('should use generic message for unknown status codes', () => {\n      const apiError = new APIError(418, \"I'm a teapot\", 'Teapot error');\n\n      expect(apiError.userMessage).toBe('An error occurred with your request. Please try again.');\n    });\n  });\n\n  describe('NetworkError', () => {\n    it('should create a NetworkError with original error', () => {\n      const originalError = new TypeError('Failed to fetch');\n      const networkError = new NetworkError('Connection failed', originalError, { url: 'https://api.example.com' });\n\n      expect(networkError).toBeInstanceOf(AppError);\n      expect(networkError.type).toBe(ErrorType.NETWORK_ERROR);\n      expect(networkError.message).toBe('Network Error: Connection failed');\n      expect(networkError.userMessage).toBe('Unable to connect to the server. Please check your internet connection and try again.');\n      expect(networkError.originalError).toBe(originalError);\n    });\n  });\n\n  describe('CSRFError', () => {\n    it('should create a CSRFError with security message', () => {\n      const csrfError = new CSRFError('Token mismatch', { expectedToken: 'abc', actualToken: 'xyz' });\n\n      expect(csrfError).toBeInstanceOf(AppError);\n      expect(csrfError.type).toBe(ErrorType.CSRF_ERROR);\n      expect(csrfError.message).toBe('CSRF Error: Token mismatch');\n      expect(csrfError.userMessage).toBe('Security validation failed. Please try logging in again.');\n      expect(csrfError.code).toBe('CSRF_ERROR');\n    });\n  });\n\n  describe('TokenError', () => {\n    it('should create a TokenError with custom code', () => {\n      const tokenError = new TokenError('JWT expired', 'JWT_EXPIRED', { tokenType: 'access' });\n\n      expect(tokenError).toBeInstanceOf(AppError);\n      expect(tokenError.type).toBe(ErrorType.TOKEN_ERROR);\n      expect(tokenError.message).toBe('Token Error: JWT expired');\n      expect(tokenError.userMessage).toBe('Your session has expired. Please log in again.');\n      expect(tokenError.code).toBe('JWT_EXPIRED');\n    });\n\n    it('should use default code when not provided', () => {\n      const tokenError = new TokenError('Invalid token');\n\n      expect(tokenError.code).toBe('TOKEN_ERROR');\n    });\n  });\n\n  describe('parseOAuthError', () => {\n    it('should return null when no error parameter exists', () => {\n      const searchParams = new URLSearchParams('code=123&state=abc');\n      const result = parseOAuthError(searchParams);\n\n      expect(result).toBeNull();\n    });\n\n    it('should parse OAuth error with all parameters', () => {\n      const searchParams = new URLSearchParams(\n        'error=access_denied&error_description=User%20denied&error_uri=https://docs.github.com&state=state123'\n      );\n      const result = parseOAuthError(searchParams);\n\n      expect(result).toBeInstanceOf(OAuthError);\n      expect(result?.code).toBe('access_denied');\n      expect(result?.context?.description).toBe('User denied');\n      expect(result?.context?.error_uri).toBe('https://docs.github.com');\n      expect(result?.context?.state).toBe('state123');\n    });\n\n    it('should parse OAuth error with minimal parameters', () => {\n      const searchParams = new URLSearchParams('error=invalid_request');\n      const result = parseOAuthError(searchParams);\n\n      expect(result).toBeInstanceOf(OAuthError);\n      expect(result?.code).toBe('invalid_request');\n    });\n  });\n\n  describe('handleFetchError', () => {\n    it('should handle JSON error response', async () => {\n             const mockResponse = {\n         status: 400,\n         statusText: 'Bad Request',\n         url: 'https://api.example.com/test',\n         headers: new Headers({ 'content-type': 'application/json' }),\n         json: jest.fn().mockResolvedValue({\n           message: 'Validation failed',\n           userMessage: 'Please check your input',\n         }),\n       } as any;\n\n      await expect(handleFetchError(mockResponse, { userId: '123' }))\n        .rejects\n        .toThrow(APIError);\n\n      const error = await handleFetchError(mockResponse, { userId: '123' }).catch(e => e);\n      expect(error.status).toBe(400);\n      expect(error.message).toBe('API Error 400: Validation failed');\n      expect(error.userMessage).toBe('Please check your input');\n    });\n\n    it('should handle text error response', async () => {\n             const mockResponse = {\n         status: 500,\n         statusText: 'Internal Server Error',\n         url: 'https://api.example.com/test',\n         headers: new Headers({ 'content-type': 'text/plain' }),\n         text: jest.fn().mockResolvedValue('Server error occurred'),\n       } as any;\n\n      const error = await handleFetchError(mockResponse).catch(e => e);\n      expect(error.status).toBe(500);\n      expect(error.message).toBe('API Error 500: Server error occurred');\n    });\n\n    it('should handle response parsing failure', async () => {\n             const mockResponse = {\n         status: 502,\n         statusText: 'Bad Gateway',\n         url: 'https://api.example.com/test',\n         headers: new Headers({ 'content-type': 'application/json' }),\n         json: jest.fn().mockRejectedValue(new Error('Parse error')),\n         text: jest.fn().mockRejectedValue(new Error('Parse error')),\n       } as any;\n\n      const error = await handleFetchError(mockResponse).catch(e => e);\n      expect(error.status).toBe(502);\n      expect(error.message).toBe('API Error 502: Bad Gateway');\n    });\n  });\n\n  describe('createNetworkError', () => {\n    it('should create NetworkError for fetch TypeError', () => {\n      const fetchError = new TypeError('Failed to fetch');\n      const networkError = createNetworkError(fetchError, { url: 'https://api.example.com' });\n\n      expect(networkError).toBeInstanceOf(NetworkError);\n      expect(networkError.message).toBe('Network Error: Failed to fetch data from server');\n      expect(networkError.originalError).toBe(fetchError);\n    });\n\n    it('should create NetworkError for AbortError', () => {\n      const abortError = new Error('The operation was aborted');\n      abortError.name = 'AbortError';\n      const networkError = createNetworkError(abortError);\n\n      expect(networkError.message).toBe('Network Error: Request was cancelled');\n    });\n\n    it('should create NetworkError for generic error', () => {\n      const genericError = new Error('Connection timeout');\n      const networkError = createNetworkError(genericError);\n\n      expect(networkError.message).toBe('Network Error: Connection timeout');\n    });\n  });\n\n  describe('ErrorLogger', () => {\n    beforeEach(() => {\n      // Mock process.env using Object.defineProperty\n      jest.spyOn(process.env, 'NODE_ENV', 'get').mockReturnValue('development');\n    });\n\n    afterEach(() => {\n      jest.restoreAllMocks();\n    });\n\n    it('should log error in development mode', () => {\n      const error = new AppError(ErrorType.API_ERROR, 'Test error', 'User message', 'TEST_ERROR');\n      ErrorLogger.log(error, 'error', { category: 'test' });\n\n      expect(mockConsole.group).toHaveBeenCalledWith('ðŸš¨ ERROR: Test error');\n      expect(mockConsole.error).toHaveBeenCalledWith('Error Object:', error);\n      expect(mockConsole.groupEnd).toHaveBeenCalled();\n    });\n\n    it('should log OAuth error with specific method', () => {\n      const oauthError = new OAuthError(OAuthErrorCode.ACCESS_DENIED);\n      ErrorLogger.logOAuthError(oauthError, { userId: '123' });\n\n      expect(mockConsole.group).toHaveBeenCalled();\n      expect(mockConsole.error).toHaveBeenCalledWith('Error Object:', oauthError);\n    });\n\n    it('should log API error with specific method', () => {\n      const apiError = new APIError(404, 'Not Found', 'Resource not found');\n      ErrorLogger.logAPIError(apiError, { resource: 'user' });\n\n      expect(mockConsole.group).toHaveBeenCalled();\n      expect(mockConsole.error).toHaveBeenCalledWith('Error Object:', apiError);\n    });\n\n    it('should log network error with specific method', () => {\n      const networkError = new NetworkError('Connection failed');\n      ErrorLogger.logNetworkError(networkError, { url: 'https://api.example.com' });\n\n      expect(mockConsole.group).toHaveBeenCalled();\n      expect(mockConsole.error).toHaveBeenCalledWith('Error Object:', networkError);\n    });\n  });\n\n  describe('handleGlobalError', () => {\n    it('should handle AppError', () => {\n      const appError = new AppError(ErrorType.API_ERROR, 'Test error', 'User message');\n      handleGlobalError(appError, { componentStack: 'Stack trace' });\n\n      expect(mockConsole.group).toHaveBeenCalled();\n    });\n\n    it('should wrap generic Error in AppError', () => {\n      const genericError = new Error('Generic error');\n      handleGlobalError(genericError);\n\n      expect(mockConsole.group).toHaveBeenCalled();\n    });\n  });\n\n  describe('isRecoverableError', () => {\n    it('should return true for recoverable errors', () => {\n      const networkError = new NetworkError('Connection failed');\n      const apiError = new APIError(500, 'Server Error', 'Server error');\n\n      expect(isRecoverableError(networkError)).toBe(true);\n      expect(isRecoverableError(apiError)).toBe(true);\n    });\n\n    it('should return false for non-recoverable errors', () => {\n      const forbiddenError = new APIError(403, 'Forbidden', 'Access denied');\n      const csrfError = new CSRFError('CSRF token invalid');\n\n      expect(isRecoverableError(forbiddenError)).toBe(false);\n      expect(isRecoverableError(csrfError)).toBe(false);\n    });\n\n    it('should return false for generic errors', () => {\n      const genericError = new Error('Generic error');\n\n      expect(isRecoverableError(genericError)).toBe(false);\n    });\n  });\n\n  describe('sanitizeErrorData', () => {\n    it('should sanitize sensitive data', () => {\n      const sensitiveData = {\n        username: 'john',\n        password: 'secret123',\n        authorization: 'Bearer token123',\n        nested: {\n          apiKey: 'key123',\n          publicData: 'safe',\n        },\n      };\n\n      const sanitized = sanitizeErrorData(sensitiveData);\n\n      expect(sanitized.username).toBe('john');\n      expect(sanitized.password).toBe('[REDACTED]');\n      expect(sanitized.authorization).toBe('[REDACTED]');\n      expect(sanitized.nested.apiKey).toBe('[REDACTED]');\n      expect(sanitized.nested.publicData).toBe('safe');\n    });\n\n    it('should handle non-object data', () => {\n      expect(sanitizeErrorData('string')).toBe('string');\n      expect(sanitizeErrorData(123)).toBe(123);\n      expect(sanitizeErrorData(null)).toBe(null);\n      expect(sanitizeErrorData(undefined)).toBe(undefined);\n    });\n\n    it('should handle arrays', () => {\n      const arrayData = [\n        { password: 'secret' },\n        { publicData: 'safe' },\n      ];\n\n      const sanitized = sanitizeErrorData(arrayData);\n      expect(sanitized[0].password).toBe('[REDACTED]');\n      expect(sanitized[1].publicData).toBe('safe');\n    });\n  });\n}); "],"names":["mockConsole","log","jest","fn","error","warn","info","group","groupEnd","Object","defineProperty","global","value","userAgent","writable","location","href","describe","beforeEach","values","forEach","mock","mockClear","assign","console","it","context","userId","action","originalError","Error","appError","AppError","ErrorType","API_ERROR","expect","toBeInstanceOf","name","toBe","type","message","userMessage","code","toEqual","timestamp","Date","NETWORK_ERROR","toBeUndefined","oauthError","OAuthError","OAuthErrorCode","ACCESS_DENIED","redirectUrl","OAUTH_ERROR","state","description","apiError","APIError","resource","status","statusText","TypeError","networkError","NetworkError","url","csrfError","CSRFError","expectedToken","actualToken","CSRF_ERROR","tokenError","TokenError","tokenType","TOKEN_ERROR","searchParams","URLSearchParams","result","parseOAuthError","toBeNull","error_uri","mockResponse","headers","Headers","json","mockResolvedValue","handleFetchError","rejects","toThrow","catch","e","text","mockRejectedValue","fetchError","createNetworkError","abortError","genericError","spyOn","process","env","mockReturnValue","afterEach","restoreAllMocks","ErrorLogger","category","toHaveBeenCalledWith","toHaveBeenCalled","logOAuthError","logAPIError","logNetworkError","handleGlobalError","componentStack","isRecoverableError","forbiddenError","sensitiveData","username","password","authorization","nested","apiKey","publicData","sanitized","sanitizeErrorData","undefined","arrayData"],"mappings":"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"}