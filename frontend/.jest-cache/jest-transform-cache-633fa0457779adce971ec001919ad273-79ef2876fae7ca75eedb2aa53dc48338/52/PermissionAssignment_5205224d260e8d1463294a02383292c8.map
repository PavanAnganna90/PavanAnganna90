{"version":3,"names":["_default","cov_h2o5zjikf","s","PermissionAssignment","allPermissions","b","assigned","onChange","loading","error","f","grouped","reduce","acc","perm","category","push","handleToggle","permName","includes","filter","n","_jsxruntime","jsxs","Object","keys","length","jsx","className","map","htmlFor","id","type","checked","name","disabled","display_name"],"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/admin/PermissionAssignment.tsx"],"sourcesContent":["import React from 'react';\n\n/**\n * PermissionAssignment - Assign permissions to a role.\n * Accessibility and UI polish improvements included.\n *\n * Props:\n *   allPermissions: Array<{ id, name, display_name, category }>\n *   assigned: string[] (permission names assigned to the role)\n *   onChange: (updated: string[]) => void\n *   loading?: boolean (disable checkboxes when true)\n *   error?: string\n */\nconst PermissionAssignment = ({\n  allPermissions = [],\n  assigned = [],\n  onChange,\n  loading = false,\n  error = '',\n}: {\n  allPermissions: Array<{ id: number; name: string; display_name: string; category: string }>;\n  assigned: string[];\n  onChange: (updated: string[]) => void;\n  loading?: boolean;\n  error?: string;\n}) => {\n  // Group permissions by category\n  const grouped = allPermissions.reduce((acc: any, perm) => {\n    if (!acc[perm.category]) acc[perm.category] = [];\n    acc[perm.category].push(perm);\n    return acc;\n  }, {});\n\n  const handleToggle = (permName: string) => {\n    if (assigned.includes(permName)) {\n      onChange(assigned.filter(n => n !== permName));\n    } else {\n      onChange([...assigned, permName]);\n    }\n  };\n\n  return (\n    <div>\n      {Object.keys(grouped).length === 0 ? (\n        <div className=\"text-gray-500\">No permissions available.</div>\n      ) : (\n        <div className=\"max-h-60 overflow-y-auto border rounded p-2 bg-gray-50 dark:bg-gray-800\">\n          {Object.keys(grouped).map(category => (\n            <div key={category} className=\"mb-2\">\n              <div className=\"font-semibold text-xs text-gray-700 dark:text-gray-300 mb-1\">{category}</div>\n              {grouped[category].map((perm: any) => (\n                <label key={perm.id} htmlFor={`perm-checkbox-${perm.id}`} className=\"flex items-center gap-2 text-sm mb-1\">\n                  <input\n                    id={`perm-checkbox-${perm.id}`}\n                    type=\"checkbox\"\n                    checked={assigned.includes(perm.name)}\n                    onChange={() => handleToggle(perm.name)}\n                    disabled={loading}\n                    className=\"focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500\"\n                  />\n                  {perm.display_name}\n                </label>\n              ))}\n            </div>\n          ))}\n        </div>\n      )}\n      <div aria-live=\"polite\">\n        {error && <div className=\"text-red-500 mt-2\">{error}</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default PermissionAssignment; "],"mappings":"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","ignoreList":[]}