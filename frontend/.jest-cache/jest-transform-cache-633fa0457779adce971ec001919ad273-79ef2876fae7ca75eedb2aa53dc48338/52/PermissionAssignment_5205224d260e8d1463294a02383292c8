73fd03d5cafa2cfd08668a2c285c59dd
"use strict";

/* istanbul ignore next */
function cov_h2o5zjikf() {
  var path = "/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/admin/PermissionAssignment.tsx";
  var hash = "f9ddead2e06e64d7e589584ef6fb26c8bdc69831";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/admin/PermissionAssignment.tsx",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 24
        }
      },
      "3": {
        start: {
          line: 11,
          column: 20
        },
        end: {
          line: 11,
          column: 48
        }
      },
      "4": {
        start: {
          line: 12,
          column: 29
        },
        end: {
          line: 12,
          column: 71
        }
      },
      "5": {
        start: {
          line: 14,
          column: 4
        },
        end: {
          line: 16,
          column: 6
        }
      },
      "6": {
        start: {
          line: 28,
          column: 33
        },
        end: {
          line: 86,
          column: 1
        }
      },
      "7": {
        start: {
          line: 30,
          column: 20
        },
        end: {
          line: 34,
          column: 10
        }
      },
      "8": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 31,
          column: 57
        }
      },
      "9": {
        start: {
          line: 31,
          column: 33
        },
        end: {
          line: 31,
          column: 57
        }
      },
      "10": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 32,
          column: 38
        }
      },
      "11": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 33,
          column: 19
        }
      },
      "12": {
        start: {
          line: 35,
          column: 25
        },
        end: {
          line: 44,
          column: 5
        }
      },
      "13": {
        start: {
          line: 36,
          column: 8
        },
        end: {
          line: 43,
          column: 9
        }
      },
      "14": {
        start: {
          line: 37,
          column: 12
        },
        end: {
          line: 37,
          column: 59
        }
      },
      "15": {
        start: {
          line: 37,
          column: 42
        },
        end: {
          line: 37,
          column: 56
        }
      },
      "16": {
        start: {
          line: 39,
          column: 12
        },
        end: {
          line: 42,
          column: 15
        }
      },
      "17": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 85,
          column: 7
        }
      },
      "18": {
        start: {
          line: 52,
          column: 77
        },
        end: {
          line: 75,
          column: 32
        }
      },
      "19": {
        start: {
          line: 59,
          column: 72
        },
        end: {
          line: 73,
          column: 43
        }
      },
      "20": {
        start: {
          line: 67,
          column: 58
        },
        end: {
          line: 67,
          column: 81
        }
      },
      "21": {
        start: {
          line: 87,
          column: 17
        },
        end: {
          line: 87,
          column: 37
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "_interop_require_default",
        decl: {
          start: {
            line: 13,
            column: 9
          },
          end: {
            line: 13,
            column: 33
          }
        },
        loc: {
          start: {
            line: 13,
            column: 39
          },
          end: {
            line: 17,
            column: 1
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 28,
            column: 33
          },
          end: {
            line: 28,
            column: 34
          }
        },
        loc: {
          start: {
            line: 28,
            column: 114
          },
          end: {
            line: 86,
            column: 1
          }
        },
        line: 28
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 30,
            column: 42
          },
          end: {
            line: 30,
            column: 43
          }
        },
        loc: {
          start: {
            line: 30,
            column: 55
          },
          end: {
            line: 34,
            column: 5
          }
        },
        line: 30
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 35,
            column: 25
          },
          end: {
            line: 35,
            column: 26
          }
        },
        loc: {
          start: {
            line: 35,
            column: 37
          },
          end: {
            line: 44,
            column: 5
          }
        },
        line: 35
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 37,
            column: 37
          },
          end: {
            line: 37,
            column: 38
          }
        },
        loc: {
          start: {
            line: 37,
            column: 42
          },
          end: {
            line: 37,
            column: 56
          }
        },
        line: 37
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 52,
            column: 51
          },
          end: {
            line: 52,
            column: 52
          }
        },
        loc: {
          start: {
            line: 52,
            column: 77
          },
          end: {
            line: 75,
            column: 32
          }
        },
        line: 52
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 59,
            column: 50
          },
          end: {
            line: 59,
            column: 51
          }
        },
        loc: {
          start: {
            line: 59,
            column: 72
          },
          end: {
            line: 73,
            column: 43
          }
        },
        line: 59
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 67,
            column: 54
          },
          end: {
            line: 67,
            column: 55
          }
        },
        loc: {
          start: {
            line: 67,
            column: 58
          },
          end: {
            line: 67,
            column: 81
          }
        },
        line: 67
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 14,
            column: 11
          },
          end: {
            line: 16,
            column: 5
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 14,
            column: 35
          },
          end: {
            line: 14,
            column: 38
          }
        }, {
          start: {
            line: 14,
            column: 41
          },
          end: {
            line: 16,
            column: 5
          }
        }],
        line: 14
      },
      "1": {
        loc: {
          start: {
            line: 14,
            column: 11
          },
          end: {
            line: 14,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 14,
            column: 11
          },
          end: {
            line: 14,
            column: 14
          }
        }, {
          start: {
            line: 14,
            column: 18
          },
          end: {
            line: 14,
            column: 32
          }
        }],
        line: 14
      },
      "2": {
        loc: {
          start: {
            line: 28,
            column: 36
          },
          end: {
            line: 28,
            column: 55
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 28,
            column: 53
          },
          end: {
            line: 28,
            column: 55
          }
        }],
        line: 28
      },
      "3": {
        loc: {
          start: {
            line: 28,
            column: 57
          },
          end: {
            line: 28,
            column: 70
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 28,
            column: 68
          },
          end: {
            line: 28,
            column: 70
          }
        }],
        line: 28
      },
      "4": {
        loc: {
          start: {
            line: 28,
            column: 82
          },
          end: {
            line: 28,
            column: 97
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 28,
            column: 92
          },
          end: {
            line: 28,
            column: 97
          }
        }],
        line: 28
      },
      "5": {
        loc: {
          start: {
            line: 28,
            column: 99
          },
          end: {
            line: 28,
            column: 109
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 28,
            column: 107
          },
          end: {
            line: 28,
            column: 109
          }
        }],
        line: 28
      },
      "6": {
        loc: {
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 31,
            column: 57
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 31,
            column: 57
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 31
      },
      "7": {
        loc: {
          start: {
            line: 36,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 36,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        }, {
          start: {
            line: 38,
            column: 15
          },
          end: {
            line: 43,
            column: 9
          }
        }],
        line: 36
      },
      "8": {
        loc: {
          start: {
            line: 47,
            column: 12
          },
          end: {
            line: 76,
            column: 14
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 47,
            column: 62
          },
          end: {
            line: 50,
            column: 14
          }
        }, {
          start: {
            line: 50,
            column: 31
          },
          end: {
            line: 76,
            column: 14
          }
        }],
        line: 47
      },
      "9": {
        loc: {
          start: {
            line: 79,
            column: 26
          },
          end: {
            line: 82,
            column: 18
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 79,
            column: 26
          },
          end: {
            line: 79,
            column: 31
          }
        }, {
          start: {
            line: 79,
            column: 49
          },
          end: {
            line: 82,
            column: 18
          }
        }],
        line: 79
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0],
      "3": [0],
      "4": [0],
      "5": [0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/admin/PermissionAssignment.tsx"],
      sourcesContent: ["import React from 'react';\n\n/**\n * PermissionAssignment - Assign permissions to a role.\n * Accessibility and UI polish improvements included.\n *\n * Props:\n *   allPermissions: Array<{ id, name, display_name, category }>\n *   assigned: string[] (permission names assigned to the role)\n *   onChange: (updated: string[]) => void\n *   loading?: boolean (disable checkboxes when true)\n *   error?: string\n */\nconst PermissionAssignment = ({\n  allPermissions = [],\n  assigned = [],\n  onChange,\n  loading = false,\n  error = '',\n}: {\n  allPermissions: Array<{ id: number; name: string; display_name: string; category: string }>;\n  assigned: string[];\n  onChange: (updated: string[]) => void;\n  loading?: boolean;\n  error?: string;\n}) => {\n  // Group permissions by category\n  const grouped = allPermissions.reduce((acc: any, perm) => {\n    if (!acc[perm.category]) acc[perm.category] = [];\n    acc[perm.category].push(perm);\n    return acc;\n  }, {});\n\n  const handleToggle = (permName: string) => {\n    if (assigned.includes(permName)) {\n      onChange(assigned.filter(n => n !== permName));\n    } else {\n      onChange([...assigned, permName]);\n    }\n  };\n\n  return (\n    <div>\n      {Object.keys(grouped).length === 0 ? (\n        <div className=\"text-gray-500\">No permissions available.</div>\n      ) : (\n        <div className=\"max-h-60 overflow-y-auto border rounded p-2 bg-gray-50 dark:bg-gray-800\">\n          {Object.keys(grouped).map(category => (\n            <div key={category} className=\"mb-2\">\n              <div className=\"font-semibold text-xs text-gray-700 dark:text-gray-300 mb-1\">{category}</div>\n              {grouped[category].map((perm: any) => (\n                <label key={perm.id} htmlFor={`perm-checkbox-${perm.id}`} className=\"flex items-center gap-2 text-sm mb-1\">\n                  <input\n                    id={`perm-checkbox-${perm.id}`}\n                    type=\"checkbox\"\n                    checked={assigned.includes(perm.name)}\n                    onChange={() => handleToggle(perm.name)}\n                    disabled={loading}\n                    className=\"focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500\"\n                  />\n                  {perm.display_name}\n                </label>\n              ))}\n            </div>\n          ))}\n        </div>\n      )}\n      <div aria-live=\"polite\">\n        {error && <div className=\"text-red-500 mt-2\">{error}</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default PermissionAssignment; "],
      names: ["PermissionAssignment", "allPermissions", "assigned", "onChange", "loading", "error", "grouped", "reduce", "acc", "perm", "category", "push", "handleToggle", "permName", "includes", "filter", "n", "div", "Object", "keys", "length", "className", "map", "label", "htmlFor", "id", "input", "type", "checked", "name", "disabled", "display_name", "aria-live"],
      mappings: ";;;;+BA0EA;;;eAAA;;;;8DA1EkB;;;;;;AAElB;;;;;;;;;;CAUC,GACD,MAAMA,uBAAuB,CAAC,EAC5BC,iBAAiB,EAAE,EACnBC,WAAW,EAAE,EACbC,QAAQ,EACRC,UAAU,KAAK,EACfC,QAAQ,EAAE,EAOX;IACC,gCAAgC;IAChC,MAAMC,UAAUL,eAAeM,MAAM,CAAC,CAACC,KAAUC;QAC/C,IAAI,CAACD,GAAG,CAACC,KAAKC,QAAQ,CAAC,EAAEF,GAAG,CAACC,KAAKC,QAAQ,CAAC,GAAG,EAAE;QAChDF,GAAG,CAACC,KAAKC,QAAQ,CAAC,CAACC,IAAI,CAACF;QACxB,OAAOD;IACT,GAAG,CAAC;IAEJ,MAAMI,eAAe,CAACC;QACpB,IAAIX,SAASY,QAAQ,CAACD,WAAW;YAC/BV,SAASD,SAASa,MAAM,CAACC,CAAAA,IAAKA,MAAMH;QACtC,OAAO;YACLV,SAAS;mBAAID;gBAAUW;aAAS;QAClC;IACF;IAEA,qBACE,sBAACI;;YACEC,OAAOC,IAAI,CAACb,SAASc,MAAM,KAAK,kBAC/B,qBAACH;gBAAII,WAAU;0BAAgB;+BAE/B,qBAACJ;gBAAII,WAAU;0BACZH,OAAOC,IAAI,CAACb,SAASgB,GAAG,CAACZ,CAAAA,yBACxB,sBAACO;wBAAmBI,WAAU;;0CAC5B,qBAACJ;gCAAII,WAAU;0CAA+DX;;4BAC7EJ,OAAO,CAACI,SAAS,CAACY,GAAG,CAAC,CAACb,qBACtB,sBAACc;oCAAoBC,SAAS,CAAC,cAAc,EAAEf,KAAKgB,EAAE,EAAE;oCAAEJ,WAAU;;sDAClE,qBAACK;4CACCD,IAAI,CAAC,cAAc,EAAEhB,KAAKgB,EAAE,EAAE;4CAC9BE,MAAK;4CACLC,SAAS1B,SAASY,QAAQ,CAACL,KAAKoB,IAAI;4CACpC1B,UAAU,IAAMS,aAAaH,KAAKoB,IAAI;4CACtCC,UAAU1B;4CACViB,WAAU;;wCAEXZ,KAAKsB,YAAY;;mCATRtB,KAAKgB,EAAE;;uBAHbf;;0BAmBhB,qBAACO;gBAAIe,aAAU;0BACZ3B,uBAAS,qBAACY;oBAAII,WAAU;8BAAqBhB;;;;;AAItD;MAEA,WAAeL"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "f9ddead2e06e64d7e589584ef6fb26c8bdc69831"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_h2o5zjikf = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_h2o5zjikf();
cov_h2o5zjikf().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_h2o5zjikf().s[1]++;
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_h2o5zjikf().f[0]++;
    cov_h2o5zjikf().s[2]++;
    return _default;
  }
});
const _jsxruntime =
/* istanbul ignore next */
(cov_h2o5zjikf().s[3]++, require("react/jsx-runtime"));
const _react =
/* istanbul ignore next */
(/*#__PURE__*/cov_h2o5zjikf().s[4]++, _interop_require_default(require("react")));
function _interop_require_default(obj) {
  /* istanbul ignore next */
  cov_h2o5zjikf().f[1]++;
  cov_h2o5zjikf().s[5]++;
  return /* istanbul ignore next */(cov_h2o5zjikf().b[1][0]++, obj) &&
  /* istanbul ignore next */
  (cov_h2o5zjikf().b[1][1]++, obj.__esModule) ?
  /* istanbul ignore next */
  (cov_h2o5zjikf().b[0][0]++, obj) :
  /* istanbul ignore next */
  (cov_h2o5zjikf().b[0][1]++, {
    default: obj
  });
}
/**
 * PermissionAssignment - Assign permissions to a role.
 * Accessibility and UI polish improvements included.
 *
 * Props:
 *   allPermissions: Array<{ id, name, display_name, category }>
 *   assigned: string[] (permission names assigned to the role)
 *   onChange: (updated: string[]) => void
 *   loading?: boolean (disable checkboxes when true)
 *   error?: string
 */
/* istanbul ignore next */
cov_h2o5zjikf().s[6]++;
const PermissionAssignment = ({
  allPermissions =
  /* istanbul ignore next */
  (cov_h2o5zjikf().b[2][0]++, []),
  assigned =
  /* istanbul ignore next */
  (cov_h2o5zjikf().b[3][0]++, []),
  onChange,
  loading =
  /* istanbul ignore next */
  (cov_h2o5zjikf().b[4][0]++, false),
  error =
  /* istanbul ignore next */
  (cov_h2o5zjikf().b[5][0]++, '')
}) => {
  /* istanbul ignore next */
  cov_h2o5zjikf().f[2]++;
  // Group permissions by category
  const grouped =
  /* istanbul ignore next */
  (cov_h2o5zjikf().s[7]++, allPermissions.reduce((acc, perm) => {
    /* istanbul ignore next */
    cov_h2o5zjikf().f[3]++;
    cov_h2o5zjikf().s[8]++;
    if (!acc[perm.category]) {
      /* istanbul ignore next */
      cov_h2o5zjikf().b[6][0]++;
      cov_h2o5zjikf().s[9]++;
      acc[perm.category] = [];
    } else
    /* istanbul ignore next */
    {
      cov_h2o5zjikf().b[6][1]++;
    }
    cov_h2o5zjikf().s[10]++;
    acc[perm.category].push(perm);
    /* istanbul ignore next */
    cov_h2o5zjikf().s[11]++;
    return acc;
  }, {}));
  /* istanbul ignore next */
  cov_h2o5zjikf().s[12]++;
  const handleToggle = permName => {
    /* istanbul ignore next */
    cov_h2o5zjikf().f[4]++;
    cov_h2o5zjikf().s[13]++;
    if (assigned.includes(permName)) {
      /* istanbul ignore next */
      cov_h2o5zjikf().b[7][0]++;
      cov_h2o5zjikf().s[14]++;
      onChange(assigned.filter(n => {
        /* istanbul ignore next */
        cov_h2o5zjikf().f[5]++;
        cov_h2o5zjikf().s[15]++;
        return n !== permName;
      }));
    } else {
      /* istanbul ignore next */
      cov_h2o5zjikf().b[7][1]++;
      cov_h2o5zjikf().s[16]++;
      onChange([...assigned, permName]);
    }
  };
  /* istanbul ignore next */
  cov_h2o5zjikf().s[17]++;
  return /*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
    children: [Object.keys(grouped).length === 0 ?
    /* istanbul ignore next */
    (/*#__PURE__*/cov_h2o5zjikf().b[8][0]++, (0, _jsxruntime.jsx)("div", {
      className: "text-gray-500",
      children: "No permissions available."
    })) :
    /* istanbul ignore next */
    (/*#__PURE__*/cov_h2o5zjikf().b[8][1]++, (0, _jsxruntime.jsx)("div", {
      className: "max-h-60 overflow-y-auto border rounded p-2 bg-gray-50 dark:bg-gray-800",
      children: Object.keys(grouped).map(category => {
        /* istanbul ignore next */
        cov_h2o5zjikf().f[6]++;
        cov_h2o5zjikf().s[18]++;
        return /*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
          className: "mb-2",
          children: [/*#__PURE__*/(0, _jsxruntime.jsx)("div", {
            className: "font-semibold text-xs text-gray-700 dark:text-gray-300 mb-1",
            children: category
          }), grouped[category].map(perm => {
            /* istanbul ignore next */
            cov_h2o5zjikf().f[7]++;
            cov_h2o5zjikf().s[19]++;
            return /*#__PURE__*/(0, _jsxruntime.jsxs)("label", {
              htmlFor: `perm-checkbox-${perm.id}`,
              className: "flex items-center gap-2 text-sm mb-1",
              children: [/*#__PURE__*/(0, _jsxruntime.jsx)("input", {
                id: `perm-checkbox-${perm.id}`,
                type: "checkbox",
                checked: assigned.includes(perm.name),
                onChange: () => {
                  /* istanbul ignore next */
                  cov_h2o5zjikf().f[8]++;
                  cov_h2o5zjikf().s[20]++;
                  return handleToggle(perm.name);
                },
                disabled: loading,
                className: "focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500"
              }), perm.display_name]
            }, perm.id);
          })]
        }, category);
      })
    })), /*#__PURE__*/(0, _jsxruntime.jsx)("div", {
      "aria-live": "polite",
      children:
      /* istanbul ignore next */
      (cov_h2o5zjikf().b[9][0]++, error) &&
      /* istanbul ignore next */
      (cov_h2o5zjikf().b[9][1]++, /*#__PURE__*/(0, _jsxruntime.jsx)("div", {
        className: "text-red-500 mt-2",
        children: error
      }))
    })]
  });
};
const _default =
/* istanbul ignore next */
(cov_h2o5zjikf().s[21]++, PermissionAssignment);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGVmYXVsdCIsImNvdl9oMm81emppa2YiLCJzIiwiUGVybWlzc2lvbkFzc2lnbm1lbnQiLCJhbGxQZXJtaXNzaW9ucyIsImIiLCJhc3NpZ25lZCIsIm9uQ2hhbmdlIiwibG9hZGluZyIsImVycm9yIiwiZiIsImdyb3VwZWQiLCJyZWR1Y2UiLCJhY2MiLCJwZXJtIiwiY2F0ZWdvcnkiLCJwdXNoIiwiaGFuZGxlVG9nZ2xlIiwicGVybU5hbWUiLCJpbmNsdWRlcyIsImZpbHRlciIsIm4iLCJfanN4cnVudGltZSIsImpzeHMiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwianN4IiwiY2xhc3NOYW1lIiwibWFwIiwiaHRtbEZvciIsImlkIiwidHlwZSIsImNoZWNrZWQiLCJuYW1lIiwiZGlzYWJsZWQiLCJkaXNwbGF5X25hbWUiXSwic291cmNlcyI6WyIvVXNlcnMvcGF2YW4vRGVza3RvcC9EZXZvcHMtYXBwLWRldi1jdXJzb3IvZnJvbnRlbmQvc3JjL2NvbXBvbmVudHMvYWRtaW4vUGVybWlzc2lvbkFzc2lnbm1lbnQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogUGVybWlzc2lvbkFzc2lnbm1lbnQgLSBBc3NpZ24gcGVybWlzc2lvbnMgdG8gYSByb2xlLlxuICogQWNjZXNzaWJpbGl0eSBhbmQgVUkgcG9saXNoIGltcHJvdmVtZW50cyBpbmNsdWRlZC5cbiAqXG4gKiBQcm9wczpcbiAqICAgYWxsUGVybWlzc2lvbnM6IEFycmF5PHsgaWQsIG5hbWUsIGRpc3BsYXlfbmFtZSwgY2F0ZWdvcnkgfT5cbiAqICAgYXNzaWduZWQ6IHN0cmluZ1tdIChwZXJtaXNzaW9uIG5hbWVzIGFzc2lnbmVkIHRvIHRoZSByb2xlKVxuICogICBvbkNoYW5nZTogKHVwZGF0ZWQ6IHN0cmluZ1tdKSA9PiB2b2lkXG4gKiAgIGxvYWRpbmc/OiBib29sZWFuIChkaXNhYmxlIGNoZWNrYm94ZXMgd2hlbiB0cnVlKVxuICogICBlcnJvcj86IHN0cmluZ1xuICovXG5jb25zdCBQZXJtaXNzaW9uQXNzaWdubWVudCA9ICh7XG4gIGFsbFBlcm1pc3Npb25zID0gW10sXG4gIGFzc2lnbmVkID0gW10sXG4gIG9uQ2hhbmdlLFxuICBsb2FkaW5nID0gZmFsc2UsXG4gIGVycm9yID0gJycsXG59OiB7XG4gIGFsbFBlcm1pc3Npb25zOiBBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZzsgZGlzcGxheV9uYW1lOiBzdHJpbmc7IGNhdGVnb3J5OiBzdHJpbmcgfT47XG4gIGFzc2lnbmVkOiBzdHJpbmdbXTtcbiAgb25DaGFuZ2U6ICh1cGRhdGVkOiBzdHJpbmdbXSkgPT4gdm9pZDtcbiAgbG9hZGluZz86IGJvb2xlYW47XG4gIGVycm9yPzogc3RyaW5nO1xufSkgPT4ge1xuICAvLyBHcm91cCBwZXJtaXNzaW9ucyBieSBjYXRlZ29yeVxuICBjb25zdCBncm91cGVkID0gYWxsUGVybWlzc2lvbnMucmVkdWNlKChhY2M6IGFueSwgcGVybSkgPT4ge1xuICAgIGlmICghYWNjW3Blcm0uY2F0ZWdvcnldKSBhY2NbcGVybS5jYXRlZ29yeV0gPSBbXTtcbiAgICBhY2NbcGVybS5jYXRlZ29yeV0ucHVzaChwZXJtKTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlID0gKHBlcm1OYW1lOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoYXNzaWduZWQuaW5jbHVkZXMocGVybU5hbWUpKSB7XG4gICAgICBvbkNoYW5nZShhc3NpZ25lZC5maWx0ZXIobiA9PiBuICE9PSBwZXJtTmFtZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbkNoYW5nZShbLi4uYXNzaWduZWQsIHBlcm1OYW1lXSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIHtPYmplY3Qua2V5cyhncm91cGVkKS5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPk5vIHBlcm1pc3Npb25zIGF2YWlsYWJsZS48L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LWgtNjAgb3ZlcmZsb3cteS1hdXRvIGJvcmRlciByb3VuZGVkIHAtMiBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDBcIj5cbiAgICAgICAgICB7T2JqZWN0LmtleXMoZ3JvdXBlZCkubWFwKGNhdGVnb3J5ID0+IChcbiAgICAgICAgICAgIDxkaXYga2V5PXtjYXRlZ29yeX0gY2xhc3NOYW1lPVwibWItMlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC14cyB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0xXCI+e2NhdGVnb3J5fTwvZGl2PlxuICAgICAgICAgICAgICB7Z3JvdXBlZFtjYXRlZ29yeV0ubWFwKChwZXJtOiBhbnkpID0+IChcbiAgICAgICAgICAgICAgICA8bGFiZWwga2V5PXtwZXJtLmlkfSBodG1sRm9yPXtgcGVybS1jaGVja2JveC0ke3Blcm0uaWR9YH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgaWQ9e2BwZXJtLWNoZWNrYm94LSR7cGVybS5pZH1gfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXthc3NpZ25lZC5pbmNsdWRlcyhwZXJtLm5hbWUpfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gaGFuZGxlVG9nZ2xlKHBlcm0ubmFtZSl9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICB7cGVybS5kaXNwbGF5X25hbWV9XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPGRpdiBhcmlhLWxpdmU9XCJwb2xpdGVcIj5cbiAgICAgICAge2Vycm9yICYmIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwIG10LTJcIj57ZXJyb3J9PC9kaXY+fVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQZXJtaXNzaW9uQXNzaWdubWVudDsgIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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