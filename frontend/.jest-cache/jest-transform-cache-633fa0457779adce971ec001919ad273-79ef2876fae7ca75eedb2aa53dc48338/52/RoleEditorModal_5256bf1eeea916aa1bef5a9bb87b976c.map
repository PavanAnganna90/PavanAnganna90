{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/admin/role-management/RoleEditorModal.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Permission, Role, SystemRole } from '../../../types/role';\nimport { Button } from '../../ui/Button';\nimport { Checkbox } from '../../ui/Checkbox';\nimport { Modal } from '../../ui/Modal';\nimport { TextArea } from '../../ui/TextArea';\nimport { TextField } from '../../ui/TextField';\n\ninterface RoleEditorModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  role?: Role | null;\n  permissions: Permission[];\n  onSubmit: (roleData: RoleFormData) => void;\n  isLoading: boolean;\n}\n\ninterface RoleFormData {\n  name: string;\n  system_role: SystemRole | '';\n  description: string;\n  permission_ids: number[];\n  is_active: boolean;\n}\n\nconst SYSTEM_ROLE_OPTIONS = [\n  {\n    value: SystemRole.SUPER_ADMIN,\n    label: 'Super Admin',\n    description: 'Platform-wide access across all organizations',\n  },\n  {\n    value: SystemRole.ORGANIZATION_OWNER,\n    label: 'Organization Owner',\n    description: 'Full access to organization resources',\n  },\n  {\n    value: SystemRole.DEVOPS_ADMIN,\n    label: 'DevOps Admin',\n    description: 'Operational access to infrastructure',\n  },\n  { value: SystemRole.MANAGER, label: 'Manager', description: 'Management-level access' },\n  { value: SystemRole.ENGINEER, label: 'Engineer', description: 'Engineering access' },\n  { value: SystemRole.VIEWER, label: 'Viewer', description: 'Read-only access' },\n  {\n    value: SystemRole.API_ONLY,\n    label: 'API Only',\n    description: 'Programmatic access for integrations',\n  },\n];\n\n/**\n * Modal for creating and editing roles with comprehensive permission assignment\n */\nconst RoleEditorModal: React.FC<RoleEditorModalProps> = ({\n  isOpen,\n  onClose,\n  role,\n  permissions,\n  onSubmit,\n  isLoading,\n}) => {\n  const [formData, setFormData] = useState<RoleFormData>({\n    name: '',\n    system_role: '',\n    description: '',\n    permission_ids: [],\n    is_active: true,\n  });\n\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\n\n  // Initialize form data when role changes\n  useEffect(() => {\n    if (role) {\n      setFormData({\n        name: role.name,\n        system_role: role.system_role,\n        description: role.description,\n        permission_ids: role.permissions?.map((p) => p.id) || [],\n        is_active: role.is_active,\n      });\n    } else {\n      setFormData({\n        name: '',\n        system_role: '',\n        description: '',\n        permission_ids: [],\n        is_active: true,\n      });\n    }\n    setErrors({});\n    setSearchTerm('');\n    setSelectedCategory('all');\n  }, [role, isOpen]);\n\n  // Group permissions by category\n  const permissionsByCategory = permissions.reduce<Record<string, Permission[]>>(\n    (acc, permission) => {\n      const category = permission.category || 'other';\n      if (!acc[category]) {\n        acc[category] = [];\n      }\n      acc[category].push(permission);\n      return acc;\n    },\n    {}\n  );\n\n  const categories = Object.keys(permissionsByCategory).sort();\n\n  // Filter permissions based on search and category\n  const filteredPermissions = permissions.filter((permission) => {\n    const matchesSearch =\n      permission.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      permission.description.toLowerCase().includes(searchTerm.toLowerCase());\n\n    const matchesCategory = selectedCategory === 'all' || permission.category === selectedCategory;\n\n    return matchesSearch && matchesCategory;\n  });\n\n  const validateForm = (): boolean => {\n    const newErrors: Record<string, string> = {};\n\n    if (!formData.name.trim()) {\n      newErrors.name = 'Role name is required';\n    }\n\n    if (formData.system_role === '') {\n      newErrors.system_role = 'System role is required';\n    }\n\n    if (formData.permission_ids.length === 0) {\n      newErrors.permissions = 'At least one permission must be selected';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = (e: React.FormEvent): void => {\n    e.preventDefault();\n\n    if (!validateForm()) {\n      return;\n    }\n\n    onSubmit({\n      ...formData,\n      system_role: formData.system_role as SystemRole,\n    });\n  };\n\n  const handlePermissionToggle = (permissionId: number): void => {\n    setFormData((prev) => ({\n      ...prev,\n      permission_ids: prev.permission_ids.includes(permissionId)\n        ? prev.permission_ids.filter((id) => id !== permissionId)\n        : [...prev.permission_ids, permissionId],\n    }));\n\n    // Clear permission errors when user selects permissions\n    setErrors((prev) => ({ ...prev, permissions: '' }));\n  };\n\n  const handleSelectAllInCategory = (category: string): void => {\n    const categoryPermissions = permissionsByCategory[category];\n    const categoryPermissionIds = categoryPermissions.map((p) => p.id);\n\n    const allSelected = categoryPermissionIds.every((id) => formData.permission_ids.includes(id));\n\n    if (allSelected) {\n      // Deselect all in category\n      setFormData((prev) => ({\n        ...prev,\n        permission_ids: prev.permission_ids.filter((id) => !categoryPermissionIds.includes(id)),\n      }));\n    } else {\n      // Select all in category\n      setFormData((prev) => ({\n        ...prev,\n        permission_ids: [...new Set([...prev.permission_ids, ...categoryPermissionIds])],\n      }));\n    }\n  };\n\n  const isPermissionSelected = (permissionId: number): boolean => {\n    return formData.permission_ids.includes(permissionId);\n  };\n\n  const getSelectedPermissionCount = (): number => {\n    return formData.permission_ids.length;\n  };\n\n  const getCategorySelectedCount = (category: string): number => {\n    const categoryPermissions = permissionsByCategory[category];\n    return categoryPermissions.filter((p) => formData.permission_ids.includes(p.id)).length;\n  };\n\n  const formatPermissionName = (name: string): string => {\n    return name.replace(/_/g, ' ').replace(/\\b\\w/g, (l) => l.toUpperCase());\n  };\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={onClose}\n      title={role ? 'Edit Role' : 'Create Role'}\n      size=\"xl\"\n      closeOnOverlayClick={!isLoading}\n      closeOnEscape={!isLoading}\n    >\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Basic Information */}\n        <div className=\"space-y-4\">\n          <h3 className=\"text-lg font-medium text-white\">Basic Information</h3>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <TextField\n              label=\"Role Name\"\n              value={formData.name}\n              onChange={(value) => {\n                setFormData((prev) => ({ ...prev, name: value }));\n                if (errors.name) setErrors((prev) => ({ ...prev, name: '' }));\n              }}\n              error={errors.name}\n              placeholder=\"Enter role name\"\n              required\n              disabled={isLoading}\n            />\n\n            <div className=\"space-y-2\">\n              <label className=\"block text-sm font-medium text-gray-300\">System Role *</label>\n              <select\n                value={formData.system_role}\n                onChange={(e) => {\n                  setFormData((prev) => ({ ...prev, system_role: e.target.value as SystemRole }));\n                  if (errors.system_role) setErrors((prev) => ({ ...prev, system_role: '' }));\n                }}\n                className={`w-full px-3 py-2 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.system_role ? 'border-red-500' : 'border-gray-600'\n                }`}\n                disabled={isLoading}\n              >\n                <option value=\"\">Select a system role</option>\n                {SYSTEM_ROLE_OPTIONS.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n              {errors.system_role && <p className=\"text-sm text-red-400\">{errors.system_role}</p>}\n              {formData.system_role && (\n                <p className=\"text-xs text-gray-400\">\n                  {\n                    SYSTEM_ROLE_OPTIONS.find((opt) => opt.value === formData.system_role)\n                      ?.description\n                  }\n                </p>\n              )}\n            </div>\n          </div>\n\n          <TextArea\n            label=\"Description\"\n            value={formData.description}\n            onChange={(value) => {\n              setFormData((prev) => ({ ...prev, description: value }));\n            }}\n            placeholder=\"Enter role description\"\n            rows={3}\n            disabled={isLoading}\n          />\n\n          <div className=\"flex items-center space-x-2\">\n            <Checkbox\n              checked={formData.is_active}\n              onChange={(checked) => {\n                setFormData((prev) => ({ ...prev, is_active: checked }));\n              }}\n              disabled={isLoading}\n            />\n            <label className=\"text-sm text-gray-300\">Active role</label>\n          </div>\n        </div>\n\n        {/* Permission Assignment */}\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-medium text-white\">\n              Permissions ({getSelectedPermissionCount()} selected)\n            </h3>\n            {errors.permissions && <p className=\"text-sm text-red-400\">{errors.permissions}</p>}\n          </div>\n\n          {/* Search and Filter */}\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <TextField\n                value={searchTerm}\n                onChange={setSearchTerm}\n                placeholder=\"Search permissions...\"\n                className=\"w-full\"\n                disabled={isLoading}\n              />\n            </div>\n            <div className=\"sm:w-48\">\n              <select\n                value={selectedCategory}\n                onChange={(e) => {\n                  setSelectedCategory(e.target.value);\n                }}\n                className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                disabled={isLoading}\n              >\n                <option value=\"all\">All Categories</option>\n                {categories.map((category) => (\n                  <option key={category} value={category}>\n                    {formatPermissionName(category)} ({permissionsByCategory[category].length})\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Permission List */}\n          <div className=\"max-h-96 overflow-y-auto border border-gray-600 rounded-lg\">\n            {selectedCategory === 'all' ? (\n              // Show by category\n              categories.map((category) => (\n                <div key={category} className=\"border-b border-gray-600 last:border-b-0\">\n                  <div className=\"bg-gray-700 px-4 py-3 flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <h4 className=\"font-medium text-white\">{formatPermissionName(category)}</h4>\n                      <span className=\"text-sm text-gray-400\">\n                        ({getCategorySelectedCount(category)}/\n                        {permissionsByCategory[category].length})\n                      </span>\n                    </div>\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => {\n                        handleSelectAllInCategory(category);\n                      }}\n                      disabled={isLoading}\n                    >\n                      {getCategorySelectedCount(category) === permissionsByCategory[category].length\n                        ? 'Deselect All'\n                        : 'Select All'}\n                    </Button>\n                  </div>\n                  <div className=\"p-4 space-y-2\">\n                    {permissionsByCategory[category].map((permission) => (\n                      <div\n                        key={permission.id}\n                        className=\"flex items-center space-x-3 p-2 rounded hover:bg-gray-600 transition-colors\"\n                      >\n                        <Checkbox\n                          checked={isPermissionSelected(permission.id)}\n                          onChange={() => {\n                            handlePermissionToggle(permission.id);\n                          }}\n                          disabled={isLoading}\n                        />\n                        <div className=\"flex-1\">\n                          <div className=\"font-medium text-white\">\n                            {formatPermissionName(permission.name)}\n                          </div>\n                          <div className=\"text-sm text-gray-400\">{permission.description}</div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              ))\n            ) : (\n              // Show filtered permissions\n              <div className=\"p-4 space-y-2\">\n                {filteredPermissions.map((permission) => (\n                  <div\n                    key={permission.id}\n                    className=\"flex items-center space-x-3 p-2 rounded hover:bg-gray-600 transition-colors\"\n                  >\n                    <Checkbox\n                      checked={isPermissionSelected(permission.id)}\n                      onChange={() => {\n                        handlePermissionToggle(permission.id);\n                      }}\n                      disabled={isLoading}\n                    />\n                    <div className=\"flex-1\">\n                      <div className=\"font-medium text-white\">\n                        {formatPermissionName(permission.name)}\n                      </div>\n                      <div className=\"text-sm text-gray-400\">{permission.description}</div>\n                      <div className=\"text-xs text-gray-500\">\n                        Category: {formatPermissionName(permission.category)}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n                {filteredPermissions.length === 0 && (\n                  <div className=\"text-center py-8 text-gray-400\">\n                    No permissions match your search criteria\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex justify-end space-x-3 pt-4 border-t border-gray-600\">\n          <Button type=\"button\" variant=\"ghost\" onClick={onClose} disabled={isLoading}>\n            Cancel\n          </Button>\n          <Button type=\"submit\" variant=\"primary\" isLoading={isLoading}>\n            {isLoading\n              ? role\n                ? 'Updating...'\n                : 'Creating...'\n              : role\n                ? 'Update Role'\n                : 'Create Role'}\n          </Button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default RoleEditorModal;\n"],"names":["SYSTEM_ROLE_OPTIONS","value","SystemRole","SUPER_ADMIN","label","description","ORGANIZATION_OWNER","DEVOPS_ADMIN","MANAGER","ENGINEER","VIEWER","API_ONLY","RoleEditorModal","isOpen","onClose","role","permissions","onSubmit","isLoading","formData","setFormData","useState","name","system_role","permission_ids","is_active","errors","setErrors","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","useEffect","map","p","id","permissionsByCategory","reduce","acc","permission","category","push","categories","Object","keys","sort","filteredPermissions","filter","matchesSearch","toLowerCase","includes","matchesCategory","validateForm","newErrors","trim","length","handleSubmit","e","preventDefault","handlePermissionToggle","permissionId","prev","handleSelectAllInCategory","categoryPermissions","categoryPermissionIds","allSelected","every","Set","isPermissionSelected","getSelectedPermissionCount","getCategorySelectedCount","formatPermissionName","replace","l","toUpperCase","Modal","title","size","closeOnOverlayClick","closeOnEscape","form","className","div","h3","TextField","onChange","error","placeholder","required","disabled","select","target","option","find","opt","TextArea","rows","Checkbox","checked","h4","span","Button","type","variant","onClick"],"mappings":"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"}