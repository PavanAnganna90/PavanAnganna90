{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/charts/__tests__/GitActivityHeatmap.test.tsx"],"sourcesContent":["/**\n * Git Activity Heatmap Component Tests\n * \n * Unit tests for the Git Activity Heatmap component including rendering,\n * interactions, tooltips, and data processing.\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport { format, subDays } from 'date-fns';\nimport GitActivityHeatmap from '../GitActivityHeatmap';\nimport { ActivityHeatmapData } from '../../../types/git-activity';\n\n// Mock framer-motion to avoid animation issues in tests\njest.mock('framer-motion', () => ({\n  motion: {\n    div: ({ children, ...props }: any) => <div {...props}>{children}</div>\n  },\n  AnimatePresence: ({ children }: any) => children\n}));\n\n// Mock date-fns functions for consistent testing\njest.mock('date-fns', () => ({\n  ...jest.requireActual('date-fns'),\n  format: jest.fn(),\n  startOfWeek: jest.fn(),\n  endOfWeek: jest.fn(),\n  eachDayOfInterval: jest.fn(),\n  startOfYear: jest.fn(),\n  endOfYear: jest.fn(),\n  getDay: jest.fn()\n}));\n\nconst mockFormat = format as jest.MockedFunction<typeof format>;\n\ndescribe('GitActivityHeatmap', () => {\n  const mockRepository = 'test-org/test-repo';\n  \n  const createMockData = (days: number = 30): ActivityHeatmapData[] => {\n    const data: ActivityHeatmapData[] = [];\n    const today = new Date();\n    \n    for (let i = 0; i < days; i++) {\n      const date = subDays(today, i);\n      data.push({\n        date: date.toISOString().split('T')[0],\n        activity_count: Math.floor(Math.random() * 20),\n        commit_count: Math.floor(Math.random() * 10),\n        pr_count: Math.floor(Math.random() * 5),\n        contributor_count: Math.floor(Math.random() * 3),\n        lines_added: Math.floor(Math.random() * 1000),\n        lines_deleted: Math.floor(Math.random() * 500),\n        files_changed: Math.floor(Math.random() * 20),\n        activity_types: ['commit', 'pr']\n      });\n    }\n    \n    return data.sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\n  };\n\n  beforeEach(() => {\n    mockFormat.mockImplementation((date, formatStr) => {\n      if (formatStr === 'MMM d, yyyy') return 'Jan 1, 2024';\n      if (formatStr === 'MMM') return 'Jan';\n      if (formatStr === 'EEEE') return 'Monday';\n      if (formatStr === 'yyyy-MM-dd') return '2024-01-01';\n      return 'formatted-date';\n    });\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Rendering', () => {\n    it('renders the heatmap with repository name', () => {\n      const data = createMockData(7);\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n        />\n      );\n\n      expect(screen.getByText(`Git Activity for ${mockRepository}`)).toBeInTheDocument();\n    });\n\n    it('renders loading state', () => {\n      render(\n        <GitActivityHeatmap\n          data={[]}\n          repository={mockRepository}\n          loading={true}\n        />\n      );\n\n      expect(screen.getByText('Loading activity data...')).toBeInTheDocument();\n      expect(screen.getByRole('status', { hidden: true })).toBeInTheDocument(); // Loading spinner\n    });\n\n    it('renders error state', () => {\n      const errorMessage = 'Failed to load data';\n      \n      render(\n        <GitActivityHeatmap\n          data={[]}\n          repository={mockRepository}\n          error={errorMessage}\n        />\n      );\n\n      expect(screen.getByText(`Error loading activity data: ${errorMessage}`)).toBeInTheDocument();\n    });\n\n    it('renders empty state when no data', () => {\n      render(\n        <GitActivityHeatmap\n          data={[]}\n          repository={mockRepository}\n        />\n      );\n\n      expect(screen.getByText(`No activity data available for ${mockRepository}`)).toBeInTheDocument();\n    });\n\n    it('renders heatmap cells for data', () => {\n      const data = createMockData(7);\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n        />\n      );\n\n      // Should render heatmap cells (exact count depends on date range and week structure)\n      const cells = screen.getAllByRole('button'); // Cells are clickable divs\n      expect(cells.length).toBeGreaterThan(0);\n    });\n\n    it('renders with custom color scheme', () => {\n      const data = createMockData(7);\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n          colorScheme=\"blue\"\n        />\n      );\n\n      // Component should render without errors\n      expect(screen.getByText(`Git Activity for ${mockRepository}`)).toBeInTheDocument();\n    });\n\n    it('renders weekday labels when enabled', () => {\n      const data = createMockData(7);\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n          showWeekdays={true}\n        />\n      );\n\n      // Should show some weekday labels (S, M, T, W, T, F, S - but only alternates)\n      expect(screen.getByText('M')).toBeInTheDocument();\n      expect(screen.getByText('W')).toBeInTheDocument();\n      expect(screen.getByText('F')).toBeInTheDocument();\n    });\n\n    it('hides weekday labels when disabled', () => {\n      const data = createMockData(7);\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n          showWeekdays={false}\n        />\n      );\n\n      // Weekday labels should not be present\n      expect(screen.queryByText('M')).not.toBeInTheDocument();\n      expect(screen.queryByText('W')).not.toBeInTheDocument();\n    });\n\n    it('renders legend', () => {\n      const data = createMockData(7);\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n        />\n      );\n\n      expect(screen.getByText('Less')).toBeInTheDocument();\n      expect(screen.getByText('More')).toBeInTheDocument();\n    });\n  });\n\n  describe('Interactions', () => {\n    it('calls onCellClick when cell is clicked', async () => {\n      const data = createMockData(7);\n      const onCellClick = jest.fn();\n      const user = userEvent.setup();\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n          onCellClick={onCellClick}\n        />\n      );\n\n      const cells = screen.getAllByRole('button');\n      await user.click(cells[0]);\n\n      expect(onCellClick).toHaveBeenCalledWith(\n        expect.any(String), // date\n        expect.objectContaining({\n          date: expect.any(String),\n          activity_count: expect.any(Number)\n        })\n      );\n    });\n\n    it('shows tooltip on cell hover', async () => {\n      const data = createMockData(7);\n      const user = userEvent.setup();\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n        />\n      );\n\n      const cells = screen.getAllByRole('button');\n      await user.hover(cells[0]);\n\n      // Tooltip should appear with activity information\n      await waitFor(() => {\n        expect(screen.getByText('Total Activity:')).toBeInTheDocument();\n        expect(screen.getByText('Commits:')).toBeInTheDocument();\n        expect(screen.getByText('Pull Requests:')).toBeInTheDocument();\n      });\n    });\n\n    it('hides tooltip on cell leave', async () => {\n      const data = createMockData(7);\n      const user = userEvent.setup();\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n        />\n      );\n\n      const cells = screen.getAllByRole('button');\n      \n      // Hover to show tooltip\n      await user.hover(cells[0]);\n      await waitFor(() => {\n        expect(screen.getByText('Total Activity:')).toBeInTheDocument();\n      });\n\n      // Unhover to hide tooltip\n      await user.unhover(cells[0]);\n      await waitFor(() => {\n        expect(screen.queryByText('Total Activity:')).not.toBeInTheDocument();\n      });\n    });\n\n    it('calls onCellHover with correct data', async () => {\n      const data = createMockData(7);\n      const onCellHover = jest.fn();\n      const user = userEvent.setup();\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n          onCellHover={onCellHover}\n        />\n      );\n\n      const cells = screen.getAllByRole('button');\n      await user.hover(cells[0]);\n\n      expect(onCellHover).toHaveBeenCalledWith(\n        expect.any(String), // date\n        expect.objectContaining({\n          date: expect.any(String),\n          activity_count: expect.any(Number)\n        })\n      );\n    });\n  });\n\n  describe('Data Processing', () => {\n    it('handles empty data gracefully', () => {\n      render(\n        <GitActivityHeatmap\n          data={[]}\n          repository={mockRepository}\n        />\n      );\n\n      expect(screen.getByText(`No activity data available for ${mockRepository}`)).toBeInTheDocument();\n    });\n\n    it('processes data with missing dates', () => {\n      // Create sparse data with gaps\n      const data: ActivityHeatmapData[] = [\n        {\n          date: '2024-01-01',\n          activity_count: 5,\n          commit_count: 3,\n          pr_count: 2,\n          contributor_count: 1,\n          lines_added: 100,\n          lines_deleted: 50,\n          files_changed: 5,\n          activity_types: ['commit']\n        },\n        {\n          date: '2024-01-03', // Missing 2024-01-02\n          activity_count: 8,\n          commit_count: 5,\n          pr_count: 3,\n          contributor_count: 2,\n          lines_added: 200,\n          lines_deleted: 100,\n          files_changed: 10,\n          activity_types: ['commit', 'pr']\n        }\n      ];\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n        />\n      );\n\n      // Should render without errors and fill missing dates\n      expect(screen.getByText(`Git Activity for ${mockRepository}`)).toBeInTheDocument();\n    });\n\n    it('calculates activity levels correctly', () => {\n      const data: ActivityHeatmapData[] = [\n        {\n          date: '2024-01-01',\n          activity_count: 0, // Level 0\n          commit_count: 0,\n          pr_count: 0,\n          contributor_count: 0,\n          lines_added: 0,\n          lines_deleted: 0,\n          files_changed: 0,\n          activity_types: []\n        },\n        {\n          date: '2024-01-02',\n          activity_count: 20, // High activity\n          commit_count: 15,\n          pr_count: 5,\n          contributor_count: 3,\n          lines_added: 1000,\n          lines_deleted: 500,\n          files_changed: 25,\n          activity_types: ['commit', 'pr']\n        }\n      ];\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n        />\n      );\n\n      // Should render different activity levels\n      expect(screen.getByText(`Git Activity for ${mockRepository}`)).toBeInTheDocument();\n    });\n  });\n\n  describe('Customization', () => {\n    it('applies custom cell size', () => {\n      const data = createMockData(7);\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n          cellSize={16}\n        />\n      );\n\n      // Component should render with custom cell size\n      expect(screen.getByText(`Git Activity for ${mockRepository}`)).toBeInTheDocument();\n    });\n\n    it('applies custom class name', () => {\n      const data = createMockData(7);\n      const customClass = 'custom-heatmap-class';\n      \n      const { container } = render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n          className={customClass}\n        />\n      );\n\n      expect(container.firstChild).toHaveClass(customClass);\n    });\n\n    it('uses custom date range', () => {\n      const data = createMockData(7);\n      const startDate = new Date('2024-01-01');\n      const endDate = new Date('2024-01-31');\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n          dateRange={{ startDate, endDate }}\n        />\n      );\n\n      // Should render with custom date range\n      expect(screen.getByText(`Git Activity for ${mockRepository}`)).toBeInTheDocument();\n    });\n  });\n\n  describe('Accessibility', () => {\n    it('has proper ARIA labels', () => {\n      const data = createMockData(7);\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n        />\n      );\n\n      const cells = screen.getAllByRole('button');\n      expect(cells.length).toBeGreaterThan(0);\n      \n      // Each cell should have a title attribute for accessibility\n      cells.forEach(cell => {\n        expect(cell).toHaveAttribute('title');\n      });\n    });\n\n    it('supports keyboard navigation', async () => {\n      const data = createMockData(7);\n      const onCellClick = jest.fn();\n      const user = userEvent.setup();\n      \n      render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n          onCellClick={onCellClick}\n        />\n      );\n\n      const cells = screen.getAllByRole('button');\n      \n      // Focus first cell and press Enter\n      cells[0].focus();\n      await user.keyboard('{Enter}');\n\n      expect(onCellClick).toHaveBeenCalled();\n    });\n  });\n\n  describe('Performance', () => {\n    it('handles large datasets efficiently', () => {\n      const largeData = createMockData(365); // Full year of data\n      \n      const startTime = performance.now();\n      render(\n        <GitActivityHeatmap\n          data={largeData}\n          repository={mockRepository}\n        />\n      );\n      const endTime = performance.now();\n\n      // Should render within reasonable time (less than 1 second)\n      expect(endTime - startTime).toBeLessThan(1000);\n      expect(screen.getByText(`Git Activity for ${mockRepository}`)).toBeInTheDocument();\n    });\n\n    it('memoizes processed data correctly', () => {\n      const data = createMockData(30);\n      \n      const { rerender } = render(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n        />\n      );\n\n      // Rerender with same data should not cause issues\n      rerender(\n        <GitActivityHeatmap\n          data={data}\n          repository={mockRepository}\n        />\n      );\n\n      expect(screen.getByText(`Git Activity for ${mockRepository}`)).toBeInTheDocument();\n    });\n  });\n}); "],"names":["jest","mock","motion","div","children","props","AnimatePresence","requireActual","format","fn","startOfWeek","endOfWeek","eachDayOfInterval","startOfYear","endOfYear","getDay","mockFormat","describe","mockRepository","createMockData","days","data","today","Date","i","date","subDays","push","toISOString","split","activity_count","Math","floor","random","commit_count","pr_count","contributor_count","lines_added","lines_deleted","files_changed","activity_types","sort","a","b","getTime","beforeEach","mockImplementation","formatStr","afterEach","clearAllMocks","it","render","GitActivityHeatmap","repository","expect","screen","getByText","toBeInTheDocument","loading","getByRole","hidden","errorMessage","error","cells","getAllByRole","length","toBeGreaterThan","colorScheme","showWeekdays","queryByText","not","onCellClick","user","userEvent","setup","click","toHaveBeenCalledWith","any","String","objectContaining","Number","hover","waitFor","unhover","onCellHover","cellSize","customClass","container","className","firstChild","toHaveClass","startDate","endDate","dateRange","forEach","cell","toHaveAttribute","focus","keyboard","toHaveBeenCalled","largeData","startTime","performance","now","endTime","toBeLessThan","rerender"],"mappings":"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"}