{"version":3,"names":["_default","cov_26b3jdw8j7","s","RoleManagementPage","f","queryClient","_reactquery","useQueryClient","selectedRole","setSelectedRole","_react","useState","isModalOpen","setIsModalOpen","showDeleteModal","setShowDeleteModal","roleToDelete","setRoleToDelete","toast","setToast","message","type","show","data","roles","isLoading","rolesLoading","error","rolesError","refetch","refetchRoles","useQuery","queryKey","queryFn","_roleApi","roleApi","getRoles","staleTime","retry","retryDelay","attemptIndex","Math","min","permissions","permissionsLoading","getPermissions","createRoleMutation","useMutation","mutationFn","roleData","createRole","onSuccess","newRole","invalidateQueries","showToast","onError","b","updateRoleMutation","id","updateRole","updatedRole","deleteRoleMutation","roleId","deleteRole","setTimeout","prev","handleEditRole","role","handleCreateRole","handleDeleteRole","handleCloseModal","handleRoleSubmit","mutate","handleConfirmDelete","hasError","_jsxruntime","jsx","className","jsxs","_outline","ExclamationTriangleIcon","_Button","Button","variant","onClick","_PermissionGuard","PermissionGuard","permission","UserGroupIcon","leftIcon","PlusIcon","disabled","length","filter","r","is_system_role","_StatusIndicator","StatusIndicator","status","_RoleTable","default","onEditRole","onDeleteRole","onCreateRole","_RoleEditorModal","isOpen","onClose","onSubmit","isPending","_Modal","ConfirmationModal","onConfirm","title","display_name","confirmText","cancelText","_Toast","Toast"],"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/admin/role-management/RoleManagementPage.tsx"],"sourcesContent":["import { ExclamationTriangleIcon, PlusIcon, UserGroupIcon } from '@heroicons/react/24/outline';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport React, { useState } from 'react';\nimport { roleApi } from '../../../services/roleApi';\nimport { Role } from '../../../types/role';\nimport { PermissionGuard } from '../../rbac/PermissionGuard';\nimport { Button } from '../../ui/Button';\nimport { ConfirmationModal } from '../../ui/Modal';\nimport { StatusIndicator } from '../../ui/StatusIndicator';\nimport { Toast } from '../../ui/Toast';\nimport RoleEditorModal from './RoleEditorModal';\nimport RoleTable from './RoleTable';\n\n/**\n * Main page for managing roles and permissions.\n * Enhanced with comprehensive error handling, loading states, and user feedback.\n */\nconst RoleManagementPage: React.FC = () => {\n  const queryClient = useQueryClient();\n  const [selectedRole, setSelectedRole] = useState<Role | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [roleToDelete, setRoleToDelete] = useState<Role | null>(null);\n  const [toast, setToast] = useState<{\n    message: string;\n    type: 'success' | 'error' | 'warning' | 'info';\n    show: boolean;\n  }>({ message: '', type: 'success', show: false });\n\n  // Fetch roles\n  const {\n    data: roles,\n    isLoading: rolesLoading,\n    error: rolesError,\n    refetch: refetchRoles,\n  } = useQuery({\n    queryKey: ['roles'],\n    queryFn: () => roleApi.getRoles(true), // Include permissions\n    staleTime: 30000, // 30 seconds\n    retry: 3,\n    retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),\n  });\n\n  // Fetch permissions\n  const { data: permissions, isLoading: permissionsLoading } = useQuery({\n    queryKey: ['permissions'],\n    queryFn: () => roleApi.getPermissions(),\n    staleTime: 60000, // 1 minute\n    retry: 3,\n  });\n\n  // Create role mutation\n  const createRoleMutation = useMutation({\n    mutationFn: (roleData: any) => roleApi.createRole(roleData),\n    onSuccess: (newRole) => {\n      queryClient.invalidateQueries({ queryKey: ['roles'] });\n      setIsModalOpen(false);\n      setSelectedRole(null);\n      showToast('Role created successfully', 'success');\n    },\n    onError: (error: any) => {\n      const message = error.message || 'Failed to create role';\n      showToast(message, 'error');\n    },\n  });\n\n  // Update role mutation\n  const updateRoleMutation = useMutation({\n    mutationFn: ({ id, data }: { id: number; data: any }) => roleApi.updateRole(id, data),\n    onSuccess: (updatedRole) => {\n      queryClient.invalidateQueries({ queryKey: ['roles'] });\n      setIsModalOpen(false);\n      setSelectedRole(null);\n      showToast('Role updated successfully', 'success');\n    },\n    onError: (error: any) => {\n      const message = error.message || 'Failed to update role';\n      showToast(message, 'error');\n    },\n  });\n\n  // Delete role mutation\n  const deleteRoleMutation = useMutation({\n    mutationFn: (roleId: number) => roleApi.deleteRole(roleId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['roles'] });\n      setShowDeleteModal(false);\n      setRoleToDelete(null);\n      showToast('Role deleted successfully', 'success');\n    },\n    onError: (error: any) => {\n      const message = error.message || 'Failed to delete role';\n      showToast(message, 'error');\n      setShowDeleteModal(false);\n    },\n  });\n\n  const showToast = (message: string, type: 'success' | 'error' | 'warning' | 'info') => {\n    setToast({ message, type, show: true });\n    setTimeout(() => setToast((prev) => ({ ...prev, show: false })), 5000);\n  };\n\n  const handleEditRole = (role: Role) => {\n    setSelectedRole(role);\n    setIsModalOpen(true);\n  };\n\n  const handleCreateRole = () => {\n    setSelectedRole(null);\n    setIsModalOpen(true);\n  };\n\n  const handleDeleteRole = (role: Role) => {\n    setRoleToDelete(role);\n    setShowDeleteModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setSelectedRole(null);\n  };\n\n  const handleRoleSubmit = (roleData: any) => {\n    if (selectedRole) {\n      updateRoleMutation.mutate({ id: selectedRole.id, data: roleData });\n    } else {\n      createRoleMutation.mutate(roleData);\n    }\n  };\n\n  const handleConfirmDelete = () => {\n    if (roleToDelete) {\n      deleteRoleMutation.mutate(roleToDelete.id);\n    }\n  };\n\n  const isLoading = rolesLoading || permissionsLoading;\n  const hasError = rolesError;\n\n  // Error state\n  if (hasError) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 p-6\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"bg-red-900/20 border border-red-600 rounded-lg p-6 text-center\">\n            <ExclamationTriangleIcon className=\"h-12 w-12 text-red-400 mx-auto mb-4\" />\n            <h2 className=\"text-xl font-semibold text-red-400 mb-2\">Error Loading Roles</h2>\n            <p className=\"text-red-300 mb-4\">\n              {rolesError?.message || 'An error occurred while loading roles'}\n            </p>\n            <Button variant=\"outline\" onClick={() => refetchRoles()}>\n              Try Again\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <PermissionGuard permission=\"role:read\">\n      <div className=\"min-h-screen bg-gray-900 p-6\">\n        <div className=\"max-w-7xl mx-auto\">\n          {/* Header */}\n          <div className=\"flex justify-between items-center mb-8\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-white flex items-center\">\n                <UserGroupIcon className=\"h-8 w-8 mr-3 text-blue-500\" />\n                Role Management\n              </h1>\n              <p className=\"text-gray-400 mt-2\">\n                Manage roles, permissions, and access control for your organization\n              </p>\n            </div>\n            <PermissionGuard permission=\"role:create\">\n              <Button\n                variant=\"primary\"\n                leftIcon={<PlusIcon className=\"h-5 w-5\" />}\n                onClick={handleCreateRole}\n                disabled={isLoading}\n              >\n                Create Role\n              </Button>\n            </PermissionGuard>\n          </div>\n\n          {/* Stats Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n            <div className=\"bg-gray-800 rounded-lg p-6 border border-gray-700\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-gray-400 text-sm\">Total Roles</p>\n                  <p className=\"text-2xl font-bold text-white\">\n                    {isLoading ? '...' : roles?.length || 0}\n                  </p>\n                </div>\n                <UserGroupIcon className=\"h-8 w-8 text-blue-500\" />\n              </div>\n            </div>\n\n            <div className=\"bg-gray-800 rounded-lg p-6 border border-gray-700\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-gray-400 text-sm\">System Roles</p>\n                  <p className=\"text-2xl font-bold text-white\">\n                    {isLoading ? '...' : roles?.filter((r) => r.is_system_role).length || 0}\n                  </p>\n                </div>\n                <StatusIndicator status=\"info\" />\n              </div>\n            </div>\n\n            <div className=\"bg-gray-800 rounded-lg p-6 border border-gray-700\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-gray-400 text-sm\">Custom Roles</p>\n                  <p className=\"text-2xl font-bold text-white\">\n                    {isLoading ? '...' : roles?.filter((r) => !r.is_system_role).length || 0}\n                  </p>\n                </div>\n                <StatusIndicator status=\"success\" />\n              </div>\n            </div>\n          </div>\n\n          {/* Role Table */}\n          <RoleTable\n            roles={roles || []}\n            permissions={permissions || []}\n            isLoading={isLoading}\n            onEditRole={handleEditRole}\n            onDeleteRole={handleDeleteRole}\n            onCreateRole={handleCreateRole}\n          />\n\n          {/* Role Editor Modal */}\n          <RoleEditorModal\n            isOpen={isModalOpen}\n            onClose={handleCloseModal}\n            role={selectedRole}\n            permissions={permissions || []}\n            onSubmit={handleRoleSubmit}\n            isLoading={createRoleMutation.isPending || updateRoleMutation.isPending}\n          />\n\n          {/* Delete Confirmation Modal */}\n          <ConfirmationModal\n            isOpen={showDeleteModal}\n            onClose={() => setShowDeleteModal(false)}\n            onConfirm={handleConfirmDelete}\n            title=\"Delete Role\"\n            message={`Are you sure you want to delete the role \"${roleToDelete?.display_name}\"? This action cannot be undone and may affect users with this role.`}\n            confirmText=\"Delete\"\n            cancelText=\"Cancel\"\n            variant=\"danger\"\n            isLoading={deleteRoleMutation.isPending}\n          />\n\n          {/* Toast Notifications */}\n          {toast.show && (\n            <Toast\n              message={toast.message}\n              type={toast.type}\n              onClose={() => setToast((prev) => ({ ...prev, show: false }))}\n            />\n          )}\n        </div>\n      </div>\n    </PermissionGuard>\n  );\n};\n\nexport default RoleManagementPage;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}