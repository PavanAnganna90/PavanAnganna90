{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/tests/components/PipelineHealthDashboard.test.tsx"],"sourcesContent":["/**\n * Tests for PipelineHealthDashboard Component\n * \n * Comprehensive test suite covering:\n * - Component rendering and data display\n * - Filtering and sorting functionality\n * - Loading and error states\n * - Real-time updates and refresh\n * - Responsive design behavior\n * - Accessibility compliance\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor, act } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport '@testing-library/jest-dom';\nimport PipelineHealthDashboard from '../../components/dashboard/PipelineHealthDashboard';\n\n// Mock the useResponsive hook\njest.mock('../../hooks/useResponsive', () => ({\n  useResponsive: () => ({\n    isMobile: false,\n    isTablet: false,\n    isDesktop: true,\n    breakpoint: 'lg'\n  })\n}));\n\n// Mock fetch globally\nconst mockFetch = jest.fn();\nglobal.fetch = mockFetch;\n\n// Mock localStorage\nconst mockLocalStorage = {\n  getItem: jest.fn(() => 'mock-token'),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n};\nObject.defineProperty(window, 'localStorage', {\n  value: mockLocalStorage,\n});\n\n// Sample pipeline data for testing\nconst mockPipelines = [\n  {\n    id: 1,\n    name: 'Frontend CI/CD',\n    description: 'Frontend build and deployment pipeline',\n    repository_url: 'https://github.com/company/frontend',\n    branch: 'main',\n    pipeline_type: 'ci_cd',\n    last_run_status: 'success',\n    last_run_at: '2025-06-05T10:00:00Z',\n    total_runs: 150,\n    success_rate: 0.95,\n    average_duration: 300,\n    is_active: true,\n    project_id: 1,\n  },\n  {\n    id: 2,\n    name: 'Backend API Tests',\n    description: 'Backend API testing pipeline',\n    repository_url: 'https://github.com/company/backend',\n    branch: 'develop',\n    pipeline_type: 'ci',\n    last_run_status: 'running',\n    last_run_at: '2025-06-05T11:30:00Z',\n    total_runs: 89,\n    success_rate: 0.87,\n    average_duration: 180,\n    is_active: true,\n    project_id: 1,\n  },\n  {\n    id: 3,\n    name: 'Database Migration',\n    description: 'Database schema migration pipeline',\n    repository_url: 'https://github.com/company/db-migrations',\n    branch: 'main',\n    pipeline_type: 'cd',\n    last_run_status: 'failure',\n    last_run_at: '2025-06-05T09:15:00Z',\n    total_runs: 25,\n    success_rate: 0.72,\n    average_duration: 120,\n    is_active: true,\n    project_id: 2,\n  },\n];\n\ndescribe('PipelineHealthDashboard', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    mockFetch.mockClear();\n  });\n\n  afterEach(() => {\n    jest.restoreAllMocks();\n  });\n\n  describe('Component Rendering', () => {\n    it('renders the dashboard title and basic structure', async () => {\n      mockFetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      expect(screen.getByText('Pipeline Health Dashboard')).toBeInTheDocument();\n      expect(screen.getByText(/Last updated:/)).toBeInTheDocument();\n      \n      await waitFor(() => {\n        expect(screen.getByText('Pipelines (3)')).toBeInTheDocument();\n      });\n    });\n\n    it('displays pipeline metrics correctly', async () => {\n      mockFetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Total Pipelines')).toBeInTheDocument();\n        expect(screen.getByText('3')).toBeInTheDocument();\n        expect(screen.getByText('Average Success Rate')).toBeInTheDocument();\n        expect(screen.getByText('Running Pipelines')).toBeInTheDocument();\n      });\n    });\n\n    it('renders individual pipeline items with correct information', async () => {\n      mockFetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Frontend CI/CD')).toBeInTheDocument();\n        expect(screen.getByText('Backend API Tests')).toBeInTheDocument();\n        expect(screen.getByText('Database Migration')).toBeInTheDocument();\n        \n        expect(screen.getByText('Branch: main')).toBeInTheDocument();\n        expect(screen.getByText('Success Rate: 95%')).toBeInTheDocument();\n        expect(screen.getByText('Runs: 150')).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Loading States', () => {\n    it('shows loading skeletons while fetching data', () => {\n      mockFetch.mockImplementation(() => new Promise(() => {})); // Never resolves\n\n      render(<PipelineHealthDashboard />);\n\n      expect(screen.getAllByTestId('loading-skeleton')).toHaveLength(5); // 4 metric cards + 1 main content\n    });\n\n    it('shows loading state during refresh', async () => {\n      mockFetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Pipelines (3)')).toBeInTheDocument();\n      });\n\n      // Mock a slow refresh\n      mockFetch.mockImplementation(() => new Promise(resolve => \n        setTimeout(() => resolve({\n          ok: true,\n          json: async () => mockPipelines,\n        }), 100)\n      ));\n\n      const refreshButton = screen.getByText('Refresh');\n      fireEvent.click(refreshButton);\n\n      expect(screen.getByText('Refreshing...')).toBeInTheDocument();\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('displays error message when fetch fails', async () => {\n      mockFetch.mockRejectedValueOnce(new Error('Network error'));\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Failed to load pipeline data')).toBeInTheDocument();\n        expect(screen.getByText('Network error')).toBeInTheDocument();\n        expect(screen.getByText('Retry')).toBeInTheDocument();\n      });\n    });\n\n    it('displays error message when API returns error status', async () => {\n      mockFetch.mockResolvedValueOnce({\n        ok: false,\n        statusText: 'Unauthorized',\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Failed to load pipeline data')).toBeInTheDocument();\n        expect(screen.getByText('Failed to fetch pipelines: Unauthorized')).toBeInTheDocument();\n      });\n    });\n\n    it('allows retry after error', async () => {\n      // First call fails\n      mockFetch.mockRejectedValueOnce(new Error('Network error'));\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Failed to load pipeline data')).toBeInTheDocument();\n      });\n\n      // Second call succeeds\n      mockFetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n\n      const retryButton = screen.getByText('Retry');\n      fireEvent.click(retryButton);\n\n      await waitFor(() => {\n        expect(screen.getByText('Pipelines (3)')).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Filtering and Sorting', () => {\n    beforeEach(async () => {\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n    });\n\n    it('filters pipelines by status', async () => {\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Pipelines (3)')).toBeInTheDocument();\n      });\n\n      // Filter by success status\n      const statusFilter = screen.getByDisplayValue('All Status');\n      fireEvent.change(statusFilter, { target: { value: 'success' } });\n\n      await waitFor(() => {\n        expect(screen.getByText('Pipelines (1)')).toBeInTheDocument();\n        expect(screen.getByText('Frontend CI/CD')).toBeInTheDocument();\n        expect(screen.queryByText('Backend API Tests')).not.toBeInTheDocument();\n      });\n    });\n\n    it('sorts pipelines by different criteria', async () => {\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Pipelines (3)')).toBeInTheDocument();\n      });\n\n      // Sort by name\n      const sortSelect = screen.getByDisplayValue('Last Run');\n      fireEvent.change(sortSelect, { target: { value: 'name' } });\n\n      // Check if pipelines are sorted alphabetically\n      const pipelineNames = screen.getAllByText(/CI\\/CD|Tests|Migration/);\n      expect(pipelineNames[0]).toHaveTextContent('Backend API Tests');\n      expect(pipelineNames[1]).toHaveTextContent('Database Migration');\n      expect(pipelineNames[2]).toHaveTextContent('Frontend CI/CD');\n    });\n\n    it('shows empty state when no pipelines match filters', async () => {\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Pipelines (3)')).toBeInTheDocument();\n      });\n\n      // Filter by cancelled status (none exist)\n      const statusFilter = screen.getByDisplayValue('All Status');\n      fireEvent.change(statusFilter, { target: { value: 'cancelled' } });\n\n      await waitFor(() => {\n        expect(screen.getByText('Pipelines (0)')).toBeInTheDocument();\n        expect(screen.getByText('No pipelines found matching the current filters.')).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Real-time Updates', () => {\n    it('refreshes data at specified intervals', async () => {\n      jest.useFakeTimers();\n\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n\n      render(<PipelineHealthDashboard refreshInterval={5000} />);\n\n      // Initial load\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalledTimes(1);\n      });\n\n      // Fast-forward time\n      act(() => {\n        jest.advanceTimersByTime(5000);\n      });\n\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalledTimes(2);\n      });\n\n      jest.useRealTimers();\n    });\n\n    it('does not refresh when interval is 0', async () => {\n      jest.useFakeTimers();\n\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n\n      render(<PipelineHealthDashboard refreshInterval={0} />);\n\n      // Initial load\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalledTimes(1);\n      });\n\n      // Fast-forward time\n      act(() => {\n        jest.advanceTimersByTime(10000);\n      });\n\n      // Should not have called fetch again\n      expect(mockFetch).toHaveBeenCalledTimes(1);\n\n      jest.useRealTimers();\n    });\n  });\n\n  describe('Project Filtering', () => {\n    it('includes project_id in API request when provided', async () => {\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => mockPipelines.filter(p => p.project_id === 1),\n      });\n\n      render(<PipelineHealthDashboard projectId={1} />);\n\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalledWith(\n          expect.stringContaining('project_id=1'),\n          expect.any(Object)\n        );\n      });\n    });\n  });\n\n  describe('Pipeline Interaction', () => {\n    it('handles pipeline selection on click', async () => {\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Frontend CI/CD')).toBeInTheDocument();\n      });\n\n      const pipelineItem = screen.getByText('Frontend CI/CD').closest('div');\n      fireEvent.click(pipelineItem!);\n\n      // Note: In a real implementation, this would trigger some action\n      // For now, we just verify the click doesn't cause errors\n      expect(pipelineItem).toBeInTheDocument();\n    });\n  });\n\n  describe('Accessibility', () => {\n    it('has proper ARIA labels and roles', async () => {\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Pipeline Health Dashboard')).toBeInTheDocument();\n      });\n\n      // Check for proper heading structure\n      expect(screen.getByRole('heading', { level: 2 })).toHaveTextContent('Pipeline Health Dashboard');\n      expect(screen.getByRole('heading', { level: 3 })).toHaveTextContent('Pipelines (3)');\n\n      // Check for proper form controls\n      expect(screen.getByRole('combobox', { name: /status/i })).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: /refresh/i })).toBeInTheDocument();\n    });\n\n    it('supports keyboard navigation', async () => {\n      const user = userEvent.setup();\n      \n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Refresh')).toBeInTheDocument();\n      });\n\n      // Tab to refresh button and activate with Enter\n      await user.tab();\n      await user.keyboard('{Enter}');\n\n      expect(mockFetch).toHaveBeenCalledTimes(2); // Initial + refresh\n    });\n  });\n\n  describe('Edge Cases', () => {\n    it('handles empty pipeline list', async () => {\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => [],\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Pipelines (0)')).toBeInTheDocument();\n        expect(screen.getByText('No pipelines found matching the current filters.')).toBeInTheDocument();\n      });\n\n      // Check that metrics show zero values\n      expect(screen.getByText('Total Pipelines')).toBeInTheDocument();\n      expect(screen.getByText('0')).toBeInTheDocument();\n    });\n\n    it('handles pipelines with missing optional fields', async () => {\n      const incompletePipeline = {\n        id: 4,\n        name: 'Incomplete Pipeline',\n        repository_url: 'https://github.com/company/incomplete',\n        branch: 'main',\n        pipeline_type: 'ci',\n        total_runs: 0,\n        success_rate: 0,\n        is_active: true,\n        project_id: 1,\n        // Missing: last_run_status, last_run_at, average_duration, description\n      };\n\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => [incompletePipeline],\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Incomplete Pipeline')).toBeInTheDocument();\n        expect(screen.getByText('Last run: Never')).toBeInTheDocument();\n      });\n    });\n\n    it('handles very large numbers gracefully', async () => {\n      const largePipeline = {\n        ...mockPipelines[0],\n        total_runs: 999999,\n        average_duration: 86400, // 24 hours\n      };\n\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => [largePipeline],\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Runs: 999999')).toBeInTheDocument();\n        expect(screen.getByText('Avg: 1440m 0s')).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Performance', () => {\n    it('memoizes component to prevent unnecessary re-renders', () => {\n      const MemoizedComponent = React.memo(PipelineHealthDashboard);\n      expect(MemoizedComponent).toBeDefined();\n    });\n\n    it('handles rapid filter changes without issues', async () => {\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => mockPipelines,\n      });\n\n      render(<PipelineHealthDashboard />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Pipelines (3)')).toBeInTheDocument();\n      });\n\n      const statusFilter = screen.getByDisplayValue('All Status');\n\n      // Rapidly change filters\n      fireEvent.change(statusFilter, { target: { value: 'success' } });\n      fireEvent.change(statusFilter, { target: { value: 'failure' } });\n      fireEvent.change(statusFilter, { target: { value: 'running' } });\n      fireEvent.change(statusFilter, { target: { value: 'all' } });\n\n      // Should not cause errors and should show all pipelines again\n      await waitFor(() => {\n        expect(screen.getByText('Pipelines (3)')).toBeInTheDocument();\n      });\n    });\n  });\n}); "],"names":["jest","mock","useResponsive","isMobile","isTablet","isDesktop","breakpoint","mockFetch","fn","global","fetch","mockLocalStorage","getItem","setItem","removeItem","Object","defineProperty","window","value","mockPipelines","id","name","description","repository_url","branch","pipeline_type","last_run_status","last_run_at","total_runs","success_rate","average_duration","is_active","project_id","describe","beforeEach","clearAllMocks","mockClear","afterEach","restoreAllMocks","it","mockResolvedValueOnce","ok","json","render","PipelineHealthDashboard","expect","screen","getByText","toBeInTheDocument","waitFor","mockImplementation","Promise","getAllByTestId","toHaveLength","resolve","setTimeout","refreshButton","fireEvent","click","mockRejectedValueOnce","Error","statusText","retryButton","mockResolvedValue","statusFilter","getByDisplayValue","change","target","queryByText","not","sortSelect","pipelineNames","getAllByText","toHaveTextContent","useFakeTimers","refreshInterval","toHaveBeenCalledTimes","act","advanceTimersByTime","useRealTimers","filter","p","projectId","toHaveBeenCalledWith","stringContaining","any","pipelineItem","closest","getByRole","level","user","userEvent","setup","tab","keyboard","incompletePipeline","largePipeline","MemoizedComponent","React","memo","toBeDefined"],"mappings":"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"}