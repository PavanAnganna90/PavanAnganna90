{"version":3,"names":["CommandCenterPanel","cov_2atkql20a6","f","panelVisibility","refreshInterval","s","_SettingsContext","useSettings","data","liveMetrics","isLoading","isLoadingMetrics","error","errorMetrics","refetch","refetchMetrics","_reactquery","useQuery","queryKey","queryFn","_dashboardApi","fetchLiveMetrics","events","isLoadingEvents","errorEvents","refetchEvents","fetchEvents","commandCenter","b","_react","useEffect","interval","setInterval","_analytics","trackEvent","panel","clearInterval","handleRefresh","Promise","all","_jsxruntime","jsxs","className","jsx","String","_EmptyState","default","illustration","title","description","action","label","onClick","cpu","memory","deployments","length","map","d","service","status","timestamp","id","alerts","e","type","message"],"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/dashboard/CommandCenterPanel.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { fetchLiveMetrics, fetchEvents } from '../../services/dashboardApi';\nimport { useSettings } from '../../contexts/SettingsContext';\nimport { trackEvent } from '../../utils/analytics';\nimport EmptyState from '../ui/EmptyState';\n\nexport default function CommandCenterPanel() {\n  const { panelVisibility, refreshInterval } = useSettings();\n  const {\n    data: liveMetrics,\n    isLoading: isLoadingMetrics,\n    error: errorMetrics,\n    refetch: refetchMetrics\n  } = useQuery({ queryKey: ['liveMetrics'], queryFn: fetchLiveMetrics });\n  const {\n    data: events,\n    isLoading: isLoadingEvents,\n    error: errorEvents,\n    refetch: refetchEvents\n  } = useQuery({ queryKey: ['events'], queryFn: fetchEvents });\n\n  // Hide panel if not visible\n  if (!panelVisibility.commandCenter) return null;\n\n  // Auto-refresh logic\n  useEffect(() => {\n    if (refreshInterval > 0) {\n      const interval = setInterval(() => {\n        trackEvent('auto-refresh', { panel: 'CommandCenter' });\n        refetchMetrics();\n        refetchEvents();\n      }, refreshInterval * 1000);\n      return () => clearInterval(interval);\n    }\n  }, [refreshInterval, refetchMetrics, refetchEvents]);\n\n  const handleRefresh = async () => {\n    trackEvent('refresh', { panel: 'CommandCenter' });\n    await Promise.all([refetchMetrics(), refetchEvents()]);\n  };\n\n  if (isLoadingMetrics || isLoadingEvents) {\n    return (\n      <section className=\"bg-white/80 dark:bg-gray-900/80 rounded-xl shadow-lg p-6 flex flex-col gap-6 min-h-[320px] items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mb-2\" aria-label=\"Loading command center\" />\n        <span className=\"text-gray-500\">Loading command center...</span>\n      </section>\n    );\n  }\n\n  if (errorMetrics || errorEvents) {\n    trackEvent('error', { panel: 'CommandCenter', error: String(errorMetrics || errorEvents) });\n    return (\n      <section className=\"bg-white/80 dark:bg-gray-900/80 rounded-xl shadow-lg p-6 flex flex-col gap-6 min-h-[320px] items-center justify-center\">\n        <EmptyState\n          illustration=\"mascot\"\n          title=\"Error Loading Data\"\n          description=\"We couldn't load command center data. Please try again.\"\n          action={{ label: 'Retry', onClick: handleRefresh }}\n        />\n      </section>\n    );\n  }\n\n  // Render live metrics and events\n  return (\n    <section className=\"bg-white/80 dark:bg-gray-900/80 rounded-xl shadow-lg p-6 flex flex-col gap-6 relative overflow-hidden min-h-[320px]\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <div className=\"font-medium\">Live Metrics & Events</div>\n        <div className=\"flex items-center gap-2\">\n          {refreshInterval > 0 && (\n            <span className=\"text-xs text-blue-400\" title=\"Auto-refresh enabled\">\n              Auto-refresh: {refreshInterval}s\n            </span>\n          )}\n          <button\n            onClick={handleRefresh}\n            className=\"px-3 py-1 rounded bg-blue-500 text-white font-medium hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 transition\"\n          >\n            Refresh\n          </button>\n        </div>\n      </div>\n      {/* Live Metrics */}\n      <div className=\"flex flex-col gap-2\">\n        <div className=\"font-medium\">CPU Usage: <span className=\"text-blue-600\">{liveMetrics?.cpu ?? '--'}%</span></div>\n        <div className=\"font-medium\">Memory Usage: <span className=\"text-blue-600\">{liveMetrics?.memory ?? '--'}%</span></div>\n        <div className=\"font-medium mt-2\">Deployments</div>\n        <ul className=\"text-sm text-gray-700 dark:text-gray-200\">\n          {liveMetrics?.deployments?.length ? (\n            liveMetrics.deployments.map((d: any) => (\n              <li key={d.id}>\n                {d.service}: <span className=\"font-semibold\">{d.status}</span> <span className=\"text-xs text-gray-400\">({d.timestamp})</span>\n              </li>\n            ))\n          ) : (\n            <li>No deployments</li>\n          )}\n        </ul>\n        <div className=\"font-medium mt-2\">Active Alerts: <span className=\"text-red-600\">{liveMetrics?.alerts ?? 0}</span></div>\n      </div>\n      {/* Events Feed */}\n      <div className=\"mt-4\">\n        <div className=\"font-medium mb-1\">Events Feed</div>\n        <ul className=\"text-sm text-gray-700 dark:text-gray-200\">\n          {events?.length ? (\n            events.map((e: any) => (\n              <li key={e.id}>\n                <span className=\"font-semibold\">[{e.type}]</span> {e.message} <span className=\"text-xs text-gray-400\">({e.timestamp})</span>\n              </li>\n            ))\n          ) : (\n            <li>No events</li>\n          )}\n        </ul>\n      </div>\n    </section>\n  );\n} "],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}