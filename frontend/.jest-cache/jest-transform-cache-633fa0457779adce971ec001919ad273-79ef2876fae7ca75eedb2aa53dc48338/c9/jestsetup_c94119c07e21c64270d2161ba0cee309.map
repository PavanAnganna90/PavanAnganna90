{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/jest.setup.js"],"sourcesContent":["// Learn more: https://github.com/testing-library/jest-dom\nimport '@testing-library/jest-dom';\n\n// Mock fetch globally with comprehensive implementation\nconst createFetchMock = () => {\n  const mockFetch = jest.fn();\n  \n  // Default successful response\n  mockFetch.mockResolvedValue({\n    ok: true,\n    status: 200,\n    statusText: 'OK',\n    headers: new Headers(),\n    json: jest.fn().mockResolvedValue({}),\n    text: jest.fn().mockResolvedValue(''),\n    blob: jest.fn().mockResolvedValue(new Blob()),\n    arrayBuffer: jest.fn().mockResolvedValue(new ArrayBuffer(0)),\n    clone: jest.fn(() => ({\n      ok: true,\n      status: 200,\n      json: jest.fn().mockResolvedValue({}),\n      text: jest.fn().mockResolvedValue(''),\n    })),\n  });\n  \n  return mockFetch;\n};\n\nglobal.fetch = createFetchMock();\n\n// Also ensure fetch is available on window\nif (typeof window !== 'undefined') {\n  window.fetch = global.fetch;\n}\n\n// Mock import.meta.env for Vite environment variables\nconst mockImportMeta = {\n  env: {\n    VITE_API_BASE_URL: 'http://localhost:8000/api/v1',\n    VITE_GITHUB_CLIENT_ID: 'test-client-id',\n    VITE_GITHUB_REDIRECT_URI: 'http://localhost:3000/auth/callback',\n    MODE: 'test',\n    DEV: false,\n    PROD: false,\n    SSR: false,\n    NODE_ENV: 'test',\n  },\n  url: 'http://localhost:3000',\n  hot: undefined,\n};\n\n// Mock for ES modules\nObject.defineProperty(global, 'import', {\n  value: {\n    meta: mockImportMeta,\n  },\n  writable: true,\n  configurable: true,\n});\n\n// Mock for direct import.meta usage\nif (typeof global.import === 'undefined') {\n  global.import = { meta: mockImportMeta };\n}\n\n// Ensure import.meta is available in all contexts\nglobal.importMeta = mockImportMeta;\n\n// Mock Next.js router (legacy)\njest.mock('next/router', () => ({\n  useRouter() {\n    return {\n      route: '/',\n      pathname: '',\n      query: {},\n      asPath: '',\n      push: jest.fn(),\n      replace: jest.fn(),\n      reload: jest.fn(),\n      back: jest.fn(),\n      prefetch: jest.fn(),\n      beforePopState: jest.fn(),\n      events: {\n        on: jest.fn(),\n        off: jest.fn(),\n        emit: jest.fn(),\n      },\n      isFallback: false,\n    };\n  },\n}));\n\n// Mock Next.js App Router navigation hooks\njest.mock('next/navigation', () => ({\n  useRouter() {\n    return {\n      push: jest.fn(),\n      replace: jest.fn(),\n      back: jest.fn(),\n      forward: jest.fn(),\n      refresh: jest.fn(),\n      prefetch: jest.fn(),\n    };\n  },\n  usePathname() {\n    return '/';\n  },\n  useSearchParams() {\n    return new URLSearchParams();\n  },\n  useParams() {\n    return {};\n  },\n  redirect: jest.fn(),\n  permanentRedirect: jest.fn(),\n  notFound: jest.fn(),\n}));\n\n// Mock next/image\njest.mock('next/image', () => ({\n  __esModule: true,\n  default: (props) => {\n    // eslint-disable-next-line jsx-a11y/alt-text\n    return <img {...props} />;\n  },\n}));\n\n// Enhanced DOM setup for proper test environment\nbeforeEach(() => {\n  // Reset DOM state before each test (if document.body exists)\n  if (document && document.body) {\n    document.body.innerHTML = '';\n    document.body.className = '';\n  }\n  \n  // Clear all localStorage data (check if clear method exists)\n  if (localStorage && typeof localStorage.clear === 'function') {\n    localStorage.clear();\n  }\n  \n  // Reset all mocks\n  jest.clearAllMocks();\n\n  // Mock document.activeElement if needed (only if not already defined)\n  if (document && typeof document.activeElement === 'undefined') {\n    try {\n      Object.defineProperty(document, 'activeElement', {\n        value: null,\n        writable: true,\n        configurable: true,\n      });\n    } catch (e) {\n      // Ignore if already defined\n    }\n  }\n\n\n});\n\n// Mock localStorage with proper implementation\nconst createLocalStorageMock = () => {\n  let store = new Map();\n  \n  return {\n    getItem: jest.fn((key) => store.get(key) || null),\n    setItem: jest.fn((key, value) => {\n      store.set(key, String(value));\n    }),\n    removeItem: jest.fn((key) => {\n      store.delete(key);\n    }),\n    clear: jest.fn(() => {\n      store.clear();\n    }),\n    get length() {\n      return store.size;\n    },\n    key: jest.fn((index) => {\n      const keys = Array.from(store.keys());\n      return keys[index] || null;\n    }),\n  };\n};\n\nObject.defineProperty(window, 'localStorage', {\n  value: createLocalStorageMock(),\n  writable: true,\n});\n\n// Mock sessionStorage as well\nObject.defineProperty(window, 'sessionStorage', {\n  value: createLocalStorageMock(),\n  writable: true,\n});\n\n// Mock matchMedia for theme context tests\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: jest.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: jest.fn(), // deprecated\n    removeListener: jest.fn(), // deprecated\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  })),\n});\n\n// Mock window.getComputedStyle\nObject.defineProperty(window, 'getComputedStyle', {\n  value: (element) => ({\n    getPropertyValue: jest.fn((prop) => {\n      if (prop === 'color') return 'rgb(0, 0, 0)';\n      if (prop === 'background-color') return 'rgb(255, 255, 255)';\n      return '';\n    }),\n    backgroundColor: 'rgb(255, 255, 255)',\n    color: 'rgb(0, 0, 0)',\n  }),\n});\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = class IntersectionObserver {\n  constructor() {}\n  observe() {\n    return null;\n  }\n  disconnect() {\n    return null;\n  }\n  unobserve() {\n    return null;\n  }\n};\n\n// Mock ResizeObserver\nglobal.ResizeObserver = class ResizeObserver {\n  constructor() {}\n  observe() {\n    return null;\n  }\n  disconnect() {\n    return null;\n  }\n  unobserve() {\n    return null;\n  }\n};\n\n// Mock Web Animations API\nglobal.Animation = class Animation {\n  constructor() {\n    this.playState = 'idle';\n    this.ready = Promise.resolve();\n    this.finished = Promise.resolve();\n  }\n  play() {\n    this.playState = 'running';\n    return this;\n  }\n  pause() {\n    this.playState = 'paused';\n    return this;\n  }\n  cancel() {\n    this.playState = 'idle';\n    return this;\n  }\n  finish() {\n    this.playState = 'finished';\n    return this;\n  }\n};\n\n// Mock Element.animate\nif (!Element.prototype.animate) {\n  Element.prototype.animate = jest.fn(() => new Animation());\n}\n\n// Ensure DOM elements have required methods\nif (typeof Element !== 'undefined') {\n  // Mock getAttribute if not present\n  if (!Element.prototype.getAttribute) {\n    Element.prototype.getAttribute = jest.fn(function(name) {\n      return this.attributes && this.attributes[name] ? this.attributes[name].value : null;\n    });\n  }\n  \n  // Mock setAttribute if not present\n  if (!Element.prototype.setAttribute) {\n    Element.prototype.setAttribute = jest.fn(function(name, value) {\n      if (!this.attributes) this.attributes = {};\n      this.attributes[name] = { value: String(value) };\n    });\n  }\n  \n  // Mock removeAttribute if not present\n  if (!Element.prototype.removeAttribute) {\n    Element.prototype.removeAttribute = jest.fn(function(name) {\n      if (this.attributes && this.attributes[name]) {\n        delete this.attributes[name];\n      }\n    });\n  }\n  \n  // Mock focus if not present\n  if (!Element.prototype.focus) {\n    Element.prototype.focus = jest.fn();\n  }\n  \n  // Mock blur if not present\n  if (!Element.prototype.blur) {\n    Element.prototype.blur = jest.fn();\n  }\n  \n  // Mock click if not present\n  if (!Element.prototype.click) {\n    Element.prototype.click = jest.fn();\n  }\n}\n\n// Mock Performance API for theme transition tests\nObject.defineProperty(window, 'performance', {\n  value: {\n    now: jest.fn(() => Date.now()),\n    mark: jest.fn(),\n    measure: jest.fn(),\n    getEntriesByType: jest.fn(() => []),\n    navigation: {\n      type: 0\n    },\n    memory: {\n      usedJSHeapSize: 1000000,\n      totalJSHeapSize: 2000000,\n      jsHeapSizeLimit: 4000000\n    }\n  },\n  writable: true,\n});\n\n// Suppress console warnings during tests unless VERBOSE_TESTS is set\nconst originalWarn = console.warn;\nconst originalError = console.error;\n\nbeforeAll(() => {\n  if (!process.env.VERBOSE_TESTS) {\n    console.warn = jest.fn();\n    console.error = jest.fn();\n  }\n});\n\nafterAll(() => {\n  console.warn = originalWarn;\n  console.error = originalError;\n});\n\n// Mock import.meta for Vite environment variables\nif (!global.import) {\n  Object.defineProperty(global, 'import', {\n    value: {\n      meta: {\n        env: {\n          VITE_GITHUB_CLIENT_ID: 'test-client-id',\n          VITE_GITHUB_REDIRECT_URI: 'http://localhost:3000/auth/callback',\n          VITE_API_BASE_URL: 'http://localhost:8080/api',\n          NODE_ENV: 'test',\n          MODE: 'test'\n        }\n      }\n    },\n    writable: true,\n    configurable: true,\n  });\n} else {\n  // If import already exists, just update import.meta\n  if (!global.import.meta) {\n    global.import.meta = {\n      env: {\n        VITE_GITHUB_CLIENT_ID: 'test-client-id',\n        VITE_GITHUB_REDIRECT_URI: 'http://localhost:3000/auth/callback',\n        VITE_API_BASE_URL: 'http://localhost:8080/api',\n        NODE_ENV: 'test',\n        MODE: 'test'\n      }\n    };\n  }\n}\n\n// Mock TextEncoder and TextDecoder for Node.js environment\nif (typeof global.TextEncoder === 'undefined') {\n  const { TextEncoder, TextDecoder } = require('util');\n  global.TextEncoder = TextEncoder;\n  global.TextDecoder = TextDecoder;\n}\n\n// Mock DOM elements that may not exist in jsdom\nif (typeof window !== 'undefined') {\n  // Mock localStorage\n  const localStorageMock = {\n    getItem: jest.fn(),\n    setItem: jest.fn(),\n    removeItem: jest.fn(),\n    clear: jest.fn(),\n    length: 0,\n    key: jest.fn()\n  };\n  \n  if (!global.localStorage) {\n    global.localStorage = localStorageMock;\n  }\n  \n  // Mock sessionStorage\n  if (!global.sessionStorage) {\n    global.sessionStorage = localStorageMock;\n  }\n  \n  // Mock IntersectionObserver\n  global.IntersectionObserver = jest.fn().mockImplementation(() => ({\n    observe: jest.fn(),\n    unobserve: jest.fn(),\n    disconnect: jest.fn(),\n  }));\n  \n  // Mock ResizeObserver\n  global.ResizeObserver = jest.fn().mockImplementation(() => ({\n    observe: jest.fn(),\n    unobserve: jest.fn(),\n    disconnect: jest.fn(),\n  }));\n  \n  // Mock matchMedia\n  Object.defineProperty(window, 'matchMedia', {\n    writable: true,\n    value: jest.fn().mockImplementation(query => ({\n      matches: false,\n      media: query,\n      onchange: null,\n      addListener: jest.fn(),\n      removeListener: jest.fn(),\n      addEventListener: jest.fn(),\n      removeEventListener: jest.fn(),\n      dispatchEvent: jest.fn(),\n    })),\n  });\n}\n\n// Mock document methods more safely\nif (typeof document !== 'undefined') {\n  // Mock document.body methods safely\n  if (document.body) {\n    if (!document.body.classList) {\n      document.body.classList = {\n        add: jest.fn(),\n        remove: jest.fn(),\n        contains: jest.fn(() => false),\n        toggle: jest.fn(),\n      };\n    }\n  }\n}\n\n// Mock environment variables for tests\nprocess.env.VITE_GITHUB_CLIENT_ID = 'test-client-id';\nprocess.env.VITE_API_BASE_URL = 'http://localhost:8000/api/v1';\n\n// Mock monitoring system\njest.mock('@/utils/monitoring', () => ({\n  initializeMonitoring: jest.fn(),\n  trackEvent: jest.fn(),\n  trackError: jest.fn(),\n  setUser: jest.fn(),\n  clearUser: jest.fn(),\n}));\n\n// Mock monitoring hooks\njest.mock('@/hooks/useMonitoring', () => ({\n  useMonitoring: jest.fn(() => ({\n    isInitialized: true,\n    trackEvent: jest.fn(),\n    trackError: jest.fn(),\n    setUser: jest.fn(),\n    clearUser: jest.fn(),\n  })),\n}));\n\n// Mock notification service\njest.mock('@/services/notificationService', () => ({\n  showNotification: jest.fn(),\n  showError: jest.fn(),\n  showSuccess: jest.fn(),\n  showWarning: jest.fn(),\n}));\n\n// Mock websocket service with comprehensive implementation\njest.mock('@/services/websocket', () => ({\n  connect: jest.fn(),\n  disconnect: jest.fn(),\n  subscribe: jest.fn(),\n  unsubscribe: jest.fn(),\n  send: jest.fn(),\n  isConnected: jest.fn(() => true),\n  getWebSocketService: jest.fn(() => ({\n    connect: jest.fn(),\n    disconnect: jest.fn(),\n    subscribe: jest.fn(),\n    unsubscribe: jest.fn(),\n    send: jest.fn(),\n    isConnected: jest.fn(() => true),\n    isConnectedStatus: jest.fn(() => true),\n    getConnectionStatus: jest.fn(() => 'connected'),\n    onConnectionChange: jest.fn(),\n    removeConnectionListener: jest.fn(),\n  })),\n  createWebSocketService: jest.fn(() => ({\n    connect: jest.fn(),\n    disconnect: jest.fn(),\n    subscribe: jest.fn(),\n    unsubscribe: jest.fn(),\n    send: jest.fn(),\n    isConnected: jest.fn(() => true),\n    isConnectedStatus: jest.fn(() => true),\n  })),\n}));\n\n// Remove problematic mocks for now\n\n// Mock analytics utils\njest.mock('@/utils/analytics', () => ({\n  trackEvent: jest.fn(),\n  trackError: jest.fn(),\n  trackPageView: jest.fn(),\n})); "],"names":["jest","mock","useRouter","route","pathname","query","asPath","push","fn","replace","reload","back","prefetch","beforePopState","events","on","off","emit","isFallback","forward","refresh","usePathname","useSearchParams","URLSearchParams","useParams","redirect","permanentRedirect","notFound","__esModule","default","props","img","initializeMonitoring","trackEvent","trackError","setUser","clearUser","useMonitoring","isInitialized","showNotification","showError","showSuccess","showWarning","connect","disconnect","subscribe","unsubscribe","send","isConnected","getWebSocketService","isConnectedStatus","getConnectionStatus","onConnectionChange","removeConnectionListener","createWebSocketService","trackPageView","createFetchMock","mockFetch","mockResolvedValue","ok","status","statusText","headers","Headers","json","text","blob","Blob","arrayBuffer","ArrayBuffer","clone","global","fetch","window","mockImportMeta","env","VITE_API_BASE_URL","VITE_GITHUB_CLIENT_ID","VITE_GITHUB_REDIRECT_URI","MODE","DEV","PROD","SSR","NODE_ENV","url","hot","undefined","Object","defineProperty","value","meta","writable","configurable","import","importMeta","beforeEach","document","body","innerHTML","className","localStorage","clear","clearAllMocks","activeElement","e","createLocalStorageMock","store","Map","getItem","key","get","setItem","set","String","removeItem","delete","length","size","index","keys","Array","from","mockImplementation","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","element","getPropertyValue","prop","backgroundColor","color","IntersectionObserver","constructor","observe","unobserve","ResizeObserver","Animation","playState","ready","Promise","resolve","finished","play","pause","cancel","finish","Element","prototype","animate","getAttribute","name","attributes","setAttribute","removeAttribute","focus","blur","click","now","Date","mark","measure","getEntriesByType","navigation","type","memory","usedJSHeapSize","totalJSHeapSize","jsHeapSizeLimit","originalWarn","console","warn","originalError","error","beforeAll","process","VERBOSE_TESTS","afterAll","TextEncoder","TextDecoder","require","localStorageMock","sessionStorage","classList","add","remove","contains","toggle"],"mappings":"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"}