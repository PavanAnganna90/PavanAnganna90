9592db3f8efc7d577e9373fd90ce509c
/**
 * @jest-environment jsdom
 */ "use strict";
// Mock Heroicons
jest.mock('@heroicons/react/24/outline', ()=>({
        FunnelIcon: ({ className })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "funnel-icon",
                className: className
            }),
        XMarkIcon: ({ className })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "x-mark-icon",
                className: className
            }),
        ChevronDownIcon: ({ className })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "chevron-down-icon",
                className: className
            }),
        GlobeAltIcon: ({ className })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "globe-alt-icon",
                className: className
            }),
        CubeIcon: ({ className })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "cube-icon",
                className: className
            }),
        AdjustmentsHorizontalIcon: ({ className })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "adjustments-horizontal-icon",
                className: className
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
require("@testing-library/jest-dom");
const _AwsCostFilters = require("../AwsCostFilters");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('AwsCostFilters', ()=>{
    const mockFilters = {
        services: [],
        regions: [],
        tags: {},
        dateRange: {
            start: '2024-01-01',
            end: '2024-01-31'
        },
        groupBy: 'service',
        granularity: 'daily',
        costType: 'unblended',
        includeCredits: false,
        includeRefunds: false,
        includeUpfront: false
    };
    const mockProps = {
        filters: mockFilters,
        availableServices: [
            'EC2',
            'S3',
            'RDS',
            'Lambda'
        ],
        availableRegions: [
            'us-east-1',
            'us-west-2',
            'eu-west-1'
        ],
        availableTags: {},
        onFiltersChange: jest.fn(),
        onResetFilters: jest.fn()
    };
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Component Rendering', ()=>{
        it('renders the component with basic elements', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AwsCostFilters.AwsCostFilters, {
                ...mockProps
            }));
            expect(_react1.screen.getByText('Filters & View Options')).toBeInTheDocument();
            expect(_react1.screen.getByText('Services')).toBeInTheDocument();
            expect(_react1.screen.getByText('Regions')).toBeInTheDocument();
            expect(_react1.screen.getByDisplayValue('Group by Service')).toBeInTheDocument();
        });
        it('renders date range inputs', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AwsCostFilters.AwsCostFilters, {
                ...mockProps
            }));
            expect(_react1.screen.getByLabelText('Start Date')).toBeInTheDocument();
            expect(_react1.screen.getByLabelText('End Date')).toBeInTheDocument();
            expect(_react1.screen.getByDisplayValue('2024-01-01')).toBeInTheDocument();
            expect(_react1.screen.getByDisplayValue('2024-01-31')).toBeInTheDocument();
        });
        it('shows active filter count when filters are applied', ()=>{
            const filtersWithSelections = {
                ...mockFilters,
                services: [
                    'EC2',
                    'S3'
                ],
                regions: [
                    'us-east-1'
                ]
            };
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AwsCostFilters.AwsCostFilters, {
                ...mockProps,
                filters: filtersWithSelections
            }));
            expect(_react1.screen.getByText('3 active')).toBeInTheDocument();
            expect(_react1.screen.getByText('Clear all')).toBeInTheDocument();
        });
        it('does not show active filter count when no filters are applied', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AwsCostFilters.AwsCostFilters, {
                ...mockProps
            }));
            expect(_react1.screen.queryByText(/active/)).not.toBeInTheDocument();
            expect(_react1.screen.queryByText('Clear all')).not.toBeInTheDocument();
        });
    });
    describe('Service Filtering', ()=>{
        it('opens services dropdown when clicked', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AwsCostFilters.AwsCostFilters, {
                ...mockProps
            }));
            const servicesButton = _react1.screen.getByText('Services');
            await user.click(servicesButton);
            expect(_react1.screen.getByText('EC2')).toBeInTheDocument();
            expect(_react1.screen.getByText('S3')).toBeInTheDocument();
            expect(_react1.screen.getByText('RDS')).toBeInTheDocument();
            expect(_react1.screen.getByText('Lambda')).toBeInTheDocument();
        });
        it('selects and deselects services', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AwsCostFilters.AwsCostFilters, {
                ...mockProps
            }));
            // Open dropdown
            await user.click(_react1.screen.getByText('Services'));
            // Select EC2
            const ec2Checkbox = _react1.screen.getByRole('checkbox', {
                name: /EC2/
            });
            await user.click(ec2Checkbox);
            expect(mockProps.onFiltersChange).toHaveBeenCalledWith({
                ...mockFilters,
                services: [
                    'EC2'
                ]
            });
        });
        it('shows selected service count in button', ()=>{
            const filtersWithServices = {
                ...mockFilters,
                services: [
                    'EC2',
                    'S3'
                ]
            };
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AwsCostFilters.AwsCostFilters, {
                ...mockProps,
                filters: filtersWithServices
            }));
            expect(_react1.screen.getByText('2')).toBeInTheDocument();
        });
    });
    describe('Reset Functionality', ()=>{
        it('calls onResetFilters when clear all is clicked', async ()=>{
            const user = _userevent.default.setup();
            const filtersWithSelections = {
                ...mockFilters,
                services: [
                    'EC2'
                ],
                regions: [
                    'us-east-1'
                ]
            };
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AwsCostFilters.AwsCostFilters, {
                ...mockProps,
                filters: filtersWithSelections
            }));
            const clearAllButton = _react1.screen.getByText('Clear all');
            await user.click(clearAllButton);
            expect(mockProps.onResetFilters).toHaveBeenCalled();
        });
    });
    describe('Accessibility', ()=>{
        it('has proper ARIA labels and roles', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AwsCostFilters.AwsCostFilters, {
                ...mockProps
            }));
            expect(_react1.screen.getByLabelText('Start Date')).toBeInTheDocument();
            expect(_react1.screen.getByLabelText('End Date')).toBeInTheDocument();
        });
    });
    describe('Loading State', ()=>{
        it('handles loading state properly', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AwsCostFilters.AwsCostFilters, {
                ...mockProps,
                isLoading: true
            }));
            // Component should still render but could show loading indicators
            expect(_react1.screen.getByText('Filters & View Options')).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvY29tcG9uZW50cy9pbmZyYXN0cnVjdHVyZS9fX3Rlc3RzX18vQXdzQ29zdEZpbHRlcnMudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAamVzdC1lbnZpcm9ubWVudCBqc2RvbVxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xuaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJztcbmltcG9ydCB7IEF3c0Nvc3RGaWx0ZXJzLCBGaWx0ZXJPcHRpb25zIH0gZnJvbSAnLi4vQXdzQ29zdEZpbHRlcnMnO1xuXG4vLyBNb2NrIEhlcm9pY29uc1xuamVzdC5tb2NrKCdAaGVyb2ljb25zL3JlYWN0LzI0L291dGxpbmUnLCAoKSA9PiAoe1xuICBGdW5uZWxJY29uOiAoeyBjbGFzc05hbWUgfTogeyBjbGFzc05hbWU/OiBzdHJpbmcgfSkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cImZ1bm5lbC1pY29uXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9IC8+LFxuICBYTWFya0ljb246ICh7IGNsYXNzTmFtZSB9OiB7IGNsYXNzTmFtZT86IHN0cmluZyB9KSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwieC1tYXJrLWljb25cIiBjbGFzc05hbWU9e2NsYXNzTmFtZX0gLz4sXG4gIENoZXZyb25Eb3duSWNvbjogKHsgY2xhc3NOYW1lIH06IHsgY2xhc3NOYW1lPzogc3RyaW5nIH0pID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJjaGV2cm9uLWRvd24taWNvblwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSAvPixcbiAgR2xvYmVBbHRJY29uOiAoeyBjbGFzc05hbWUgfTogeyBjbGFzc05hbWU/OiBzdHJpbmcgfSkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cImdsb2JlLWFsdC1pY29uXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9IC8+LFxuICBDdWJlSWNvbjogKHsgY2xhc3NOYW1lIH06IHsgY2xhc3NOYW1lPzogc3RyaW5nIH0pID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJjdWJlLWljb25cIiBjbGFzc05hbWU9e2NsYXNzTmFtZX0gLz4sXG4gIEFkanVzdG1lbnRzSG9yaXpvbnRhbEljb246ICh7IGNsYXNzTmFtZSB9OiB7IGNsYXNzTmFtZT86IHN0cmluZyB9KSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiYWRqdXN0bWVudHMtaG9yaXpvbnRhbC1pY29uXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9IC8+XG59KSk7XG5cbmRlc2NyaWJlKCdBd3NDb3N0RmlsdGVycycsICgpID0+IHtcbiAgY29uc3QgbW9ja0ZpbHRlcnM6IEZpbHRlck9wdGlvbnMgPSB7XG4gICAgc2VydmljZXM6IFtdLFxuICAgIHJlZ2lvbnM6IFtdLFxuICAgIHRhZ3M6IHt9LFxuICAgIGRhdGVSYW5nZToge1xuICAgICAgc3RhcnQ6ICcyMDI0LTAxLTAxJyxcbiAgICAgIGVuZDogJzIwMjQtMDEtMzEnXG4gICAgfSxcbiAgICBncm91cEJ5OiAnc2VydmljZScsXG4gICAgZ3JhbnVsYXJpdHk6ICdkYWlseScsXG4gICAgY29zdFR5cGU6ICd1bmJsZW5kZWQnLFxuICAgIGluY2x1ZGVDcmVkaXRzOiBmYWxzZSxcbiAgICBpbmNsdWRlUmVmdW5kczogZmFsc2UsXG4gICAgaW5jbHVkZVVwZnJvbnQ6IGZhbHNlXG4gIH07XG5cbiAgY29uc3QgbW9ja1Byb3BzID0ge1xuICAgIGZpbHRlcnM6IG1vY2tGaWx0ZXJzLFxuICAgIGF2YWlsYWJsZVNlcnZpY2VzOiBbJ0VDMicsICdTMycsICdSRFMnLCAnTGFtYmRhJ10sXG4gICAgYXZhaWxhYmxlUmVnaW9uczogWyd1cy1lYXN0LTEnLCAndXMtd2VzdC0yJywgJ2V1LXdlc3QtMSddLFxuICAgIGF2YWlsYWJsZVRhZ3M6IHt9LFxuICAgIG9uRmlsdGVyc0NoYW5nZTogamVzdC5mbigpLFxuICAgIG9uUmVzZXRGaWx0ZXJzOiBqZXN0LmZuKClcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbXBvbmVudCBSZW5kZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3JlbmRlcnMgdGhlIGNvbXBvbmVudCB3aXRoIGJhc2ljIGVsZW1lbnRzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxBd3NDb3N0RmlsdGVycyB7Li4ubW9ja1Byb3BzfSAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGaWx0ZXJzICYgVmlldyBPcHRpb25zJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VydmljZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdSZWdpb25zJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5RGlzcGxheVZhbHVlKCdHcm91cCBieSBTZXJ2aWNlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgncmVuZGVycyBkYXRlIHJhbmdlIGlucHV0cycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8QXdzQ29zdEZpbHRlcnMgey4uLm1vY2tQcm9wc30gLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdTdGFydCBEYXRlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdFbmQgRGF0ZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnMjAyNC0wMS0wMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnMjAyNC0wMS0zMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3dzIGFjdGl2ZSBmaWx0ZXIgY291bnQgd2hlbiBmaWx0ZXJzIGFyZSBhcHBsaWVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgZmlsdGVyc1dpdGhTZWxlY3Rpb25zID0ge1xuICAgICAgICAuLi5tb2NrRmlsdGVycyxcbiAgICAgICAgc2VydmljZXM6IFsnRUMyJywgJ1MzJ10sXG4gICAgICAgIHJlZ2lvbnM6IFsndXMtZWFzdC0xJ11cbiAgICAgIH07XG5cbiAgICAgIHJlbmRlcig8QXdzQ29zdEZpbHRlcnMgey4uLm1vY2tQcm9wc30gZmlsdGVycz17ZmlsdGVyc1dpdGhTZWxlY3Rpb25zfSAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCczIGFjdGl2ZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NsZWFyIGFsbCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RvZXMgbm90IHNob3cgYWN0aXZlIGZpbHRlciBjb3VudCB3aGVuIG5vIGZpbHRlcnMgYXJlIGFwcGxpZWQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEF3c0Nvc3RGaWx0ZXJzIHsuLi5tb2NrUHJvcHN9IC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgvYWN0aXZlLykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnQ2xlYXIgYWxsJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2VydmljZSBGaWx0ZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ29wZW5zIHNlcnZpY2VzIGRyb3Bkb3duIHdoZW4gY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8QXdzQ29zdEZpbHRlcnMgey4uLm1vY2tQcm9wc30gLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBzZXJ2aWNlc0J1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ1NlcnZpY2VzJyk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNlcnZpY2VzQnV0dG9uKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0VDMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1MzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUkRTJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTGFtYmRhJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2VsZWN0cyBhbmQgZGVzZWxlY3RzIHNlcnZpY2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxBd3NDb3N0RmlsdGVycyB7Li4ubW9ja1Byb3BzfSAvPik7XG4gICAgICBcbiAgICAgIC8vIE9wZW4gZHJvcGRvd25cbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnU2VydmljZXMnKSk7XG4gICAgICBcbiAgICAgIC8vIFNlbGVjdCBFQzJcbiAgICAgIGNvbnN0IGVjMkNoZWNrYm94ID0gc2NyZWVuLmdldEJ5Um9sZSgnY2hlY2tib3gnLCB7IG5hbWU6IC9FQzIvIH0pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhlYzJDaGVja2JveCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2NrUHJvcHMub25GaWx0ZXJzQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIC4uLm1vY2tGaWx0ZXJzLFxuICAgICAgICBzZXJ2aWNlczogWydFQzInXVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvd3Mgc2VsZWN0ZWQgc2VydmljZSBjb3VudCBpbiBidXR0b24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBmaWx0ZXJzV2l0aFNlcnZpY2VzID0ge1xuICAgICAgICAuLi5tb2NrRmlsdGVycyxcbiAgICAgICAgc2VydmljZXM6IFsnRUMyJywgJ1MzJ11cbiAgICAgIH07XG5cbiAgICAgIHJlbmRlcig8QXdzQ29zdEZpbHRlcnMgey4uLm1vY2tQcm9wc30gZmlsdGVycz17ZmlsdGVyc1dpdGhTZXJ2aWNlc30gLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVzZXQgRnVuY3Rpb25hbGl0eScsICgpID0+IHtcbiAgICBpdCgnY2FsbHMgb25SZXNldEZpbHRlcnMgd2hlbiBjbGVhciBhbGwgaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIGNvbnN0IGZpbHRlcnNXaXRoU2VsZWN0aW9ucyA9IHtcbiAgICAgICAgLi4ubW9ja0ZpbHRlcnMsXG4gICAgICAgIHNlcnZpY2VzOiBbJ0VDMiddLFxuICAgICAgICByZWdpb25zOiBbJ3VzLWVhc3QtMSddXG4gICAgICB9O1xuXG4gICAgICByZW5kZXIoPEF3c0Nvc3RGaWx0ZXJzIHsuLi5tb2NrUHJvcHN9IGZpbHRlcnM9e2ZpbHRlcnNXaXRoU2VsZWN0aW9uc30gLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBjbGVhckFsbEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0NsZWFyIGFsbCcpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhjbGVhckFsbEJ1dHRvbik7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2NrUHJvcHMub25SZXNldEZpbHRlcnMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ2hhcyBwcm9wZXIgQVJJQSBsYWJlbHMgYW5kIHJvbGVzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxBd3NDb3N0RmlsdGVycyB7Li4ubW9ja1Byb3BzfSAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1N0YXJ0IERhdGUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0VuZCBEYXRlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdMb2FkaW5nIFN0YXRlJywgKCkgPT4ge1xuICAgIGl0KCdoYW5kbGVzIGxvYWRpbmcgc3RhdGUgcHJvcGVybHknLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEF3c0Nvc3RGaWx0ZXJzIHsuLi5tb2NrUHJvcHN9IGlzTG9hZGluZz17dHJ1ZX0gLz4pO1xuICAgICAgXG4gICAgICAvLyBDb21wb25lbnQgc2hvdWxkIHN0aWxsIHJlbmRlciBidXQgY291bGQgc2hvdyBsb2FkaW5nIGluZGljYXRvcnNcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGaWx0ZXJzICYgVmlldyBPcHRpb25zJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJGdW5uZWxJY29uIiwiY2xhc3NOYW1lIiwiZGl2IiwiZGF0YS10ZXN0aWQiLCJYTWFya0ljb24iLCJDaGV2cm9uRG93bkljb24iLCJHbG9iZUFsdEljb24iLCJDdWJlSWNvbiIsIkFkanVzdG1lbnRzSG9yaXpvbnRhbEljb24iLCJkZXNjcmliZSIsIm1vY2tGaWx0ZXJzIiwic2VydmljZXMiLCJyZWdpb25zIiwidGFncyIsImRhdGVSYW5nZSIsInN0YXJ0IiwiZW5kIiwiZ3JvdXBCeSIsImdyYW51bGFyaXR5IiwiY29zdFR5cGUiLCJpbmNsdWRlQ3JlZGl0cyIsImluY2x1ZGVSZWZ1bmRzIiwiaW5jbHVkZVVwZnJvbnQiLCJtb2NrUHJvcHMiLCJmaWx0ZXJzIiwiYXZhaWxhYmxlU2VydmljZXMiLCJhdmFpbGFibGVSZWdpb25zIiwiYXZhaWxhYmxlVGFncyIsIm9uRmlsdGVyc0NoYW5nZSIsImZuIiwib25SZXNldEZpbHRlcnMiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwicmVuZGVyIiwiQXdzQ29zdEZpbHRlcnMiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImdldEJ5RGlzcGxheVZhbHVlIiwiZ2V0QnlMYWJlbFRleHQiLCJmaWx0ZXJzV2l0aFNlbGVjdGlvbnMiLCJxdWVyeUJ5VGV4dCIsIm5vdCIsInVzZXIiLCJ1c2VyRXZlbnQiLCJzZXR1cCIsInNlcnZpY2VzQnV0dG9uIiwiY2xpY2siLCJlYzJDaGVja2JveCIsImdldEJ5Um9sZSIsIm5hbWUiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImZpbHRlcnNXaXRoU2VydmljZXMiLCJjbGVhckFsbEJ1dHRvbiIsInRvSGF2ZUJlZW5DYWxsZWQiLCJpc0xvYWRpbmciXSwibWFwcGluZ3MiOiJBQUFBOztDQUVDO0FBUUQsaUJBQWlCO0FBQ2pCQSxLQUFLQyxJQUFJLENBQUMsK0JBQStCLElBQU8sQ0FBQTtRQUM5Q0MsWUFBWSxDQUFDLEVBQUVDLFNBQVMsRUFBMEIsaUJBQUsscUJBQUNDO2dCQUFJQyxlQUFZO2dCQUFjRixXQUFXQTs7UUFDakdHLFdBQVcsQ0FBQyxFQUFFSCxTQUFTLEVBQTBCLGlCQUFLLHFC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