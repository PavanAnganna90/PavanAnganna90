{"version":3,"names":["AuthProvider","cov_12bdk279uk","f","s","default","_default","useAuth","initialState","isAuthenticated","isLoading","user","tokens","error","authReducer","state","action","type","b","payload","AuthContext","_react","createContext","undefined","STORAGE_KEYS","ACCESS_TOKEN","REFRESH_TOKEN","USER_DATA","getApiBaseUrl","isServerSide","window","process","env","API_BASE_URL","NEXT_PUBLIC_API_BASE_URL","children","dispatch","useReducer","useEffect","initializeAuth","accessToken","localStorage","getItem","refreshToken","userData","JSON","parse","access_token","refresh_token","token_type","_apiService","apiService","setAuthToken","getCurrentUser","clearStoredAuth","removeItem","clearCache","storeAuthData","setItem","stringify","authenticatedFetch","url","options","Error","response","fetch","headers","status","refreshError","logout","login","code","state_param","method","body","ok","json","detail","userResponse","message","console","warn","hasPermission","permission","organizationId","is_superuser","permissions","some","p","name","organization_id","roles","role","hasRole","r","hasAnyRole","hasAnyPermission","getUserPermissions","Map","forEach","set","id","Array","from","values","getUserRoles","isAdmin","canAccess","resource","permissionName","loginWithProvider","provider","redirectUri","availableProviders","getAvailableProviders","providerInfo","find","redirect_uri","location","origin","generateState","data","success","redirect_url","sessionStorage","href","relay_state","sso_url","oauth_providers","saml_providers","filter","enabled","Math","random","toString","substring","contextValue","_jsxruntime","jsx","Provider","value","context","useContext"],"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/contexts/AuthContext.tsx"],"sourcesContent":["/**\n * Enhanced Authentication context for managing user session state.\n * Provides authentication state, user data, auth methods, and backend integration.\n * Optimized for enterprise-grade authentication flow.\n */\n'use client';\n\nimport React, { createContext, useContext, useReducer, useEffect, ReactNode } from 'react';\nimport { apiService } from '@/services/apiService';\n\n// Types for authentication state\ninterface Role {\n  id: string;\n  name: string;\n  display_name: string;\n  description: string;\n  priority: number;\n  is_system_role: boolean;\n  permissions: Permission[];\n}\n\ninterface Permission {\n  id: string;\n  name: string;\n  display_name: string;\n  description: string;\n  category: string;\n  is_system_permission: boolean;\n  organization_id?: string; // Optional organization scope for permission\n}\n\ninterface User {\n  id: number;\n  github_id: string;\n  github_username: string;\n  email: string | null;\n  full_name: string | null;\n  avatar_url: string | null;\n  bio: string | null;\n  company: string | null;\n  location: string | null;\n  blog: string | null;\n  is_active: boolean;\n  is_superuser: boolean;\n  created_at: string | null;\n  updated_at: string | null;\n  last_login: string | null;\n  roles?: Role[];\n  permissions?: Permission[];\n  organization_id?: string;\n  // Multi-provider auth fields\n  auth_provider?: string;\n  provider_user_id?: string;\n  linked_accounts?: LinkedAccount[];\n}\n\ninterface LinkedAccount {\n  provider: string;\n  provider_user_id: string;\n  provider_username?: string;\n  linked_at: string;\n}\n\ninterface AuthTokens {\n  access_token: string;\n  refresh_token?: string;\n  token_type: string;\n  expires_in?: number;\n}\n\ninterface AuthState {\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  user: User | null;\n  tokens: AuthTokens | null;\n  error: string | null;\n}\n\n// Auth action types\ntype AuthAction =\n  | { type: 'AUTH_START' }\n  | { type: 'AUTH_SUCCESS'; payload: { user: User; tokens: AuthTokens } }\n  | { type: 'AUTH_FAILURE'; payload: string }\n  | { type: 'AUTH_LOGOUT' }\n  | { type: 'AUTH_REFRESH_SUCCESS'; payload: AuthTokens }\n  | { type: 'AUTH_UPDATE_USER'; payload: User };\n\n// Provider information interface\ninterface SSOProvider {\n  name: string;\n  display_name: string;\n  icon: string;\n  enabled: boolean;\n  type: 'oauth2' | 'saml';\n}\n\n// Auth context interface\ninterface AuthContextType {\n  state: AuthState;\n  login: (code: string, state?: string) => Promise<void>;\n  loginWithProvider: (provider: string, redirectUri?: string) => Promise<void>;\n  logout: () => Promise<void>;\n  refreshToken: () => Promise<void>;\n  getCurrentUser: () => Promise<void>;\n  getAvailableProviders: () => Promise<SSOProvider[]>;\n  hasPermission: (permission: string, organizationId?: string) => boolean;\n  hasRole: (role: string) => boolean;\n  hasAnyRole: (roles: string[]) => boolean;\n  hasAnyPermission: (permissions: string[]) => boolean;\n  getUserPermissions: () => Permission[];\n  getUserRoles: () => Role[];\n  isAdmin: () => boolean;\n  canAccess: (resource: string, action: string, organizationId?: string) => boolean;\n}\n\n// Initial state\nconst initialState: AuthState = {\n  isAuthenticated: false,\n  isLoading: false,\n  user: null,\n  tokens: null,\n  error: null,\n};\n\n// Auth reducer\nfunction authReducer(state: AuthState, action: AuthAction): AuthState {\n  switch (action.type) {\n    case 'AUTH_START':\n      return {\n        ...state,\n        isLoading: true,\n        error: null,\n      };\n    case 'AUTH_SUCCESS':\n      return {\n        ...state,\n        isAuthenticated: true,\n        isLoading: false,\n        user: action.payload.user,\n        tokens: action.payload.tokens,\n        error: null,\n      };\n    case 'AUTH_FAILURE':\n      return {\n        ...state,\n        isAuthenticated: false,\n        isLoading: false,\n        user: null,\n        tokens: null,\n        error: action.payload,\n      };\n    case 'AUTH_LOGOUT':\n      return {\n        ...initialState,\n      };\n    case 'AUTH_REFRESH_SUCCESS':\n      return {\n        ...state,\n        tokens: action.payload,\n        error: null,\n      };\n    case 'AUTH_UPDATE_USER':\n      return {\n        ...state,\n        user: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\n// Create context\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\n// Storage keys\nconst STORAGE_KEYS = {\n  ACCESS_TOKEN: 'opsight_access_token',\n  REFRESH_TOKEN: 'opsight_refresh_token',\n  USER_DATA: 'opsight_user_data',\n} as const;\n\n// API base URL - Use different URLs for server-side vs client-side\nconst getApiBaseUrl = () => {\n  const isServerSide = typeof window === 'undefined';\n  return isServerSide \n    ? (process.env.API_BASE_URL || 'http://backend:8000/api/v1')\n    : (process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:8000/api/v1');\n};\n\n/**\n * Authentication Provider Component\n * \n * Manages authentication state and provides auth methods to child components.\n * Handles token persistence, automatic refresh, and session restoration.\n * \n * @param children - Child components that need access to auth context\n */\nexport const AuthProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, initialState);\n\n  /**\n   * Initialize authentication state from stored tokens on app start.\n   */\n  useEffect(() => {\n    const initializeAuth = async () => {\n      const accessToken = localStorage.getItem(STORAGE_KEYS.ACCESS_TOKEN);\n      const refreshToken = localStorage.getItem(STORAGE_KEYS.REFRESH_TOKEN);\n      const userData = localStorage.getItem(STORAGE_KEYS.USER_DATA);\n\n      if (accessToken && userData) {\n        try {\n          const user = JSON.parse(userData);\n          const tokens = {\n            access_token: accessToken,\n            refresh_token: refreshToken || undefined,\n            token_type: 'bearer',\n          };\n\n          dispatch({\n            type: 'AUTH_SUCCESS',\n            payload: { user, tokens },\n          });\n\n          // Set token in API service\n          apiService.setAuthToken(accessToken);\n          \n          // Verify token is still valid by fetching current user\n          await getCurrentUser();\n        } catch (error) {\n          // Reason: Clear invalid stored data\n          clearStoredAuth();\n        }\n      }\n    };\n\n    initializeAuth();\n  }, []);\n\n  /**\n   * Clear stored authentication data from localStorage.\n   */\n  const clearStoredAuth = (): void => {\n    localStorage.removeItem(STORAGE_KEYS.ACCESS_TOKEN);\n    localStorage.removeItem(STORAGE_KEYS.REFRESH_TOKEN);\n    localStorage.removeItem(STORAGE_KEYS.USER_DATA);\n    apiService.setAuthToken(null);\n    apiService.clearCache(); // Clear any cached authenticated data\n  };\n\n  /**\n   * Store authentication data in localStorage and API service.\n   */\n  const storeAuthData = (user: User, tokens: AuthTokens): void => {\n    localStorage.setItem(STORAGE_KEYS.ACCESS_TOKEN, tokens.access_token);\n    if (tokens.refresh_token) {\n      localStorage.setItem(STORAGE_KEYS.REFRESH_TOKEN, tokens.refresh_token);\n    }\n    localStorage.setItem(STORAGE_KEYS.USER_DATA, JSON.stringify(user));\n    \n    // Set token in API service for authenticated requests\n    apiService.setAuthToken(tokens.access_token);\n  };\n\n  /**\n   * Make authenticated API request with automatic token refresh.\n   */\n  const authenticatedFetch = async (\n    url: string,\n    options: RequestInit = {}\n  ): Promise<Response> => {\n    const accessToken = state.tokens?.access_token;\n    \n    if (!accessToken) {\n      throw new Error('No access token available');\n    }\n\n    const response = await fetch(url, {\n      ...options,\n      headers: {\n        ...options.headers,\n        'Authorization': `Bearer ${accessToken}`,\n        'Content-Type': 'application/json',\n      },\n    });\n\n    // If token expired, try to refresh\n    if (response.status === 401 && state.tokens?.refresh_token) {\n      try {\n        await refreshToken();\n        // Retry the request with new token\n        return fetch(url, {\n          ...options,\n          headers: {\n            ...options.headers,\n            'Authorization': `Bearer ${state.tokens?.access_token}`,\n            'Content-Type': 'application/json',\n          },\n        });\n      } catch (refreshError) {\n        // Refresh failed, logout user\n        await logout();\n        throw new Error('Session expired. Please log in again.');\n      }\n    }\n\n    return response;\n  };\n\n  /**\n   * Login with GitHub OAuth code.\n   */\n  const login = async (code: string, state_param?: string): Promise<void> => {\n    dispatch({ type: 'AUTH_START' });\n\n    try {\n      const response = await fetch(`${getApiBaseUrl()}/auth/login/github`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          code,\n          state: state_param,\n        }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.detail || 'Login failed');\n      }\n\n      const tokens: AuthTokens = await response.json();\n\n      // Get user data\n      const userResponse = await fetch(`${getApiBaseUrl()}/auth/me`, {\n        headers: {\n          'Authorization': `Bearer ${tokens.access_token}`,\n        },\n      });\n\n      if (!userResponse.ok) {\n        throw new Error('Failed to fetch user data');\n      }\n\n      const user: User = await userResponse.json();\n\n      // Store auth data\n      storeAuthData(user, tokens);\n\n      dispatch({\n        type: 'AUTH_SUCCESS',\n        payload: { user, tokens },\n      });\n    } catch (error) {\n      const message = error instanceof Error ? error.message : 'Login failed';\n      dispatch({ type: 'AUTH_FAILURE', payload: message });\n      throw error;\n    }\n  };\n\n  /**\n   * Logout current user.\n   */\n  const logout = async (): Promise<void> => {\n    try {\n      // Call logout endpoint if authenticated\n      if (state.tokens?.access_token) {\n        await authenticatedFetch(`${getApiBaseUrl()}/auth/logout`, {\n          method: 'POST',\n        });\n      }\n    } catch (error) {\n      // Log error but continue with logout\n      console.warn('Logout API call failed:', error);\n    } finally {\n      // Always clear local state and storage\n      clearStoredAuth();\n      dispatch({ type: 'AUTH_LOGOUT' });\n    }\n  };\n\n  /**\n   * Refresh access token using refresh token.\n   */\n  const refreshToken = async (): Promise<void> => {\n    const refresh_token = state.tokens?.refresh_token;\n    \n    if (!refresh_token) {\n      throw new Error('No refresh token available');\n    }\n\n    try {\n      const response = await fetch(`${getApiBaseUrl()}/auth/refresh`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          refresh_token,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Token refresh failed');\n      }\n\n      const tokens: AuthTokens = await response.json();\n\n      // Update stored tokens\n      localStorage.setItem(STORAGE_KEYS.ACCESS_TOKEN, tokens.access_token);\n      if (tokens.refresh_token) {\n        localStorage.setItem(STORAGE_KEYS.REFRESH_TOKEN, tokens.refresh_token);\n      }\n\n      dispatch({\n        type: 'AUTH_REFRESH_SUCCESS',\n        payload: tokens,\n      });\n    } catch (error) {\n      // Refresh failed, logout user\n      await logout();\n      throw error;\n    }\n  };\n\n  /**\n   * Get current user data from API.\n   */\n  const getCurrentUser = async (): Promise<void> => {\n    try {\n      const response = await authenticatedFetch(`${getApiBaseUrl()}/auth/me`);\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch user data');\n      }\n\n      const user: User = await response.json();\n\n      // Update stored user data\n      localStorage.setItem(STORAGE_KEYS.USER_DATA, JSON.stringify(user));\n\n      dispatch({\n        type: 'AUTH_UPDATE_USER',\n        payload: user,\n      });\n    } catch (error) {\n      console.error('Failed to get current user:', error);\n      throw error;\n    }\n  };\n\n  /**\n   * Check if user has specific permission.\n   */\n  const hasPermission = (permission: string, organizationId?: string): boolean => {\n    if (!state.user || !state.isAuthenticated) return false;\n    \n    // Superuser has all permissions\n    if (state.user.is_superuser) return true;\n    \n    // Check user permissions\n    if (state.user.permissions) {\n      return state.user.permissions.some(p => \n        p.name === permission && \n        (!organizationId || !p.organization_id || p.organization_id === organizationId)\n      );\n    }\n    \n    // Check role permissions\n    if (state.user.roles) {\n      return state.user.roles.some(role => \n        role.permissions.some(p => \n          p.name === permission && \n          (!organizationId || !p.organization_id || p.organization_id === organizationId)\n        )\n      );\n    }\n    \n    return false;\n  };\n\n  /**\n   * Check if user has specific role.\n   */\n  const hasRole = (role: string): boolean => {\n    if (!state.user || !state.isAuthenticated) return false;\n    \n    return state.user.roles?.some(r => r.name === role) || false;\n  };\n\n  /**\n   * Check if user has any of the specified roles.\n   */\n  const hasAnyRole = (roles: string[]): boolean => {\n    if (!state.user || !state.isAuthenticated) return false;\n    \n    return roles.some(role => hasRole(role));\n  };\n\n  /**\n   * Check if user has any of the specified permissions.\n   */\n  const hasAnyPermission = (permissions: string[]): boolean => {\n    if (!state.user || !state.isAuthenticated) return false;\n    \n    return permissions.some(permission => hasPermission(permission));\n  };\n\n  /**\n   * Get all user permissions (direct + role-based).\n   */\n  const getUserPermissions = (): Permission[] => {\n    if (!state.user || !state.isAuthenticated) return [];\n    \n    const permissions = new Map<string, Permission>();\n    \n    // Add direct permissions\n    if (state.user.permissions) {\n      state.user.permissions.forEach(p => permissions.set(p.id, p));\n    }\n    \n    // Add role permissions\n    if (state.user.roles) {\n      state.user.roles.forEach(role => {\n        role.permissions.forEach(p => permissions.set(p.id, p));\n      });\n    }\n    \n    return Array.from(permissions.values());\n  };\n\n  /**\n   * Get all user roles.\n   */\n  const getUserRoles = (): Role[] => {\n    if (!state.user || !state.isAuthenticated) return [];\n    \n    return state.user.roles || [];\n  };\n\n  /**\n   * Check if user is admin (superuser or has admin role).\n   */\n  const isAdmin = (): boolean => {\n    if (!state.user || !state.isAuthenticated) return false;\n    \n    return state.user.is_superuser || hasRole('admin') || hasRole('organization_owner');\n  };\n\n  /**\n   * Check if user can access a resource with specific action.\n   */\n  const canAccess = (resource: string, action: string, organizationId?: string): boolean => {\n    if (!state.user || !state.isAuthenticated) return false;\n    \n    // Build permission name from resource and action\n    const permissionName = `${action}_${resource}`;\n    \n    return hasPermission(permissionName, organizationId);\n  };\n\n  /**\n   * Login with any supported provider (OAuth2 or SAML).\n   */\n  const loginWithProvider = async (provider: string, redirectUri?: string): Promise<void> => {\n    dispatch({ type: 'AUTH_START' });\n\n    try {\n      // Check if it's an OAuth2 or SAML provider\n      const availableProviders = await getAvailableProviders();\n      const providerInfo = availableProviders.find(p => p.name === provider);\n      \n      if (!providerInfo) {\n        throw new Error(`Unsupported provider: ${provider}`);\n      }\n\n      if (providerInfo.type === 'oauth2') {\n        // Handle OAuth2 flow\n        const response = await fetch(`${getApiBaseUrl()}/auth/sso/oauth/${provider}/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            provider,\n            redirect_uri: redirectUri || `${window.location.origin}/auth/callback`,\n            state: generateState()\n          }),\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to initiate OAuth login');\n        }\n\n        const data = await response.json();\n        \n        if (data.success && data.redirect_url) {\n          // Store state for callback validation\n          sessionStorage.setItem('oauth_state', data.state);\n          sessionStorage.setItem('oauth_provider', provider);\n          \n          // Redirect to OAuth provider\n          window.location.href = data.redirect_url;\n        } else {\n          throw new Error(data.error || 'OAuth login failed');\n        }\n      } else if (providerInfo.type === 'saml') {\n        // Handle SAML flow\n        const response = await fetch(`${getApiBaseUrl()}/auth/sso/saml/${provider}/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            provider,\n            relay_state: generateState()\n          }),\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to initiate SAML login');\n        }\n\n        const data = await response.json();\n        \n        if (data.success && data.sso_url) {\n          // Store state for callback validation\n          sessionStorage.setItem('saml_state', data.relay_state);\n          sessionStorage.setItem('saml_provider', provider);\n          \n          // Redirect to SAML provider\n          window.location.href = data.sso_url;\n        } else {\n          throw new Error(data.error || 'SAML login failed');\n        }\n      }\n    } catch (error) {\n      console.error('Provider login error:', error);\n      dispatch({\n        type: 'AUTH_FAILURE',\n        payload: error instanceof Error ? error.message : 'Provider login failed',\n      });\n      throw error;\n    }\n  };\n\n  /**\n   * Get available SSO providers.\n   */\n  const getAvailableProviders = async (): Promise<SSOProvider[]> => {\n    try {\n      const response = await fetch(`${getApiBaseUrl()}/auth/sso/config`);\n      \n      if (!response.ok) {\n        throw new Error('Failed to fetch SSO providers');\n      }\n\n      const data = await response.json();\n      \n      // Combine OAuth2 and SAML providers\n      return [\n        ...data.oauth_providers,\n        ...data.saml_providers\n      ].filter(provider => provider.enabled);\n    } catch (error) {\n      console.error('Error fetching providers:', error);\n      return [];\n    }\n  };\n\n  /**\n   * Generate random state for CSRF protection.\n   */\n  const generateState = (): string => {\n    return Math.random().toString(36).substring(2, 15) + \n           Math.random().toString(36).substring(2, 15);\n  };\n\n  const contextValue: AuthContextType = {\n    state,\n    login,\n    loginWithProvider,\n    logout,\n    refreshToken,\n    getCurrentUser,\n    getAvailableProviders,\n    hasPermission,\n    hasRole,\n    hasAnyRole,\n    hasAnyPermission,\n    getUserPermissions,\n    getUserRoles,\n    isAdmin,\n    canAccess,\n  };\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n/**\n * Hook to access authentication context.\n * \n * @returns AuthContextType - Authentication state and methods\n * @throws Error if used outside AuthProvider\n */\nexport const useAuth = (): AuthContextType => {\n  const context = useContext(AuthContext);\n  \n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  \n  return context;\n};\n\nexport default AuthContext; "],"mappings":"AAAA;;;;GAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}