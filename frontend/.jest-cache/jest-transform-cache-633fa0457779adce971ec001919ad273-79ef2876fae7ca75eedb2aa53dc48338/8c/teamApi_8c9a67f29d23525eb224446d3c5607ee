0d062e1e22addc14712c20784dafe8e4
/**
 * Team API Service
 * 
 * Service for connecting to team management backend endpoints.
 * Provides methods for team CRUD operations, member management, and team settings.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    default: function() {
        return _default;
    },
    teamApi: function() {
        return teamApi;
    }
});
class TeamApiService {
    constructor(){
        this.baseUrl = process.env.NODE_ENV === 'production' ? '/api/v1/teams' : 'http://localhost:8000/api/v1/teams';
    }
    getAuthToken() {
        return localStorage.getItem('authToken');
    }
    async request(endpoint, options = {}) {
        // In development mode, use mock data if backend is not available
        if (process.env.NODE_ENV === 'development') {
            try {
                const token = this.getAuthToken();
                const url = `${this.baseUrl}${endpoint}`;
                const defaultHeaders = {
                    'Content-Type': 'application/json'
                };
                if (token) {
                    defaultHeaders['Authorization'] = `Bearer ${token}`;
                }
                const config = {
                    ...options,
                    headers: {
                        ...defaultHeaders,
                        ...options.headers
                    }
                };
                const response = await fetch(url, config);
                if (response.status === 401) {
                    throw new Error('Authentication required. Please log in again.');
                }
                if (response.status === 403) {
                    throw new Error('Access denied. You do not have permission to perform this action.');
                }
                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`HTTP ${response.status}: ${errorText || response.statusText}`);
                }
                return await response.json();
            } catch (error) {
                // If fetch fails in development, return mock data
                console.warn('ðŸ”Œ Backend not available, using mock team data for development');
                return this.getMockData(endpoint, options);
            }
        } else {
            // Production mode - normal fetch behavior
            try {
                const token = this.getAuthToken();
                const url = `${this.baseUrl}${endpoint}`;
                const defaultHeaders = {
                    'Content-Type': 'application/json'
                };
                if (token) {
                    defaultHeaders['Authorization'] = `Bearer ${token}`;
                }
                const config = {
                    ...options,
                    headers: {
                        ...defaultHeaders,
                        ...options.headers
                    }
                };
                const response = await fetch(url, config);
                if (response.status === 401) {
                    throw new Error('Authentication required. Please log in again.');
                }
                if (response.status === 403) {
                    throw new Error('Access denied. You do not have permission to perform this action.');
                }
                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`HTTP ${response.status}: ${errorText || response.statusText}`);
                }
                return await response.json();
            } catch (error) {
                console.error(`Team API request failed: ${this.baseUrl}${endpoint}`, error);
                throw error;
            }
        }
    }
    /**
   * Get teams with filtering, sorting, and pagination
   */ async getTeams(filter, sort, page = 1, perPage = 20) {
        const queryParams = new URLSearchParams();
        // Pagination
        queryParams.append('page', page.toString());
        queryParams.append('per_page', perPage.toString());
        // Sorting
        if (sort) {
            queryParams.append('sort_by', sort.field);
            queryParams.append('sort_order', sort.direction);
        }
        // Filtering
        if (filter) {
            if (filter.search) {
                queryParams.append('search', filter.search);
            }
            if (filter.role) {
                queryParams.append('role', filter.role);
            }
            if (filter.is_active !== undefined) {
                queryParams.append('is_active', filter.is_active.toString());
            }
            if (filter.created_by) {
                queryParams.append('created_by', filter.created_by.toString());
            }
            if (filter.member_of) {
                queryParams.append('member_of', filter.member_of.toString());
            }
        }
        return this.request(`?${queryParams}`);
    }
    /**
   * Get a specific team by ID
   */ async getTeam(teamId) {
        return this.request(`/${teamId}`);
    }
    /**
   * Create a new team
   */ async createTeam(teamData) {
        return this.request('', {
            method: 'POST',
            body: JSON.stringify(teamData)
        });
    }
    /**
   * Update an existing team
   */ async updateTeam(teamId, teamData) {
        return this.request(`/${teamId}`, {
            method: 'PUT',
            body: JSON.stringify(teamData)
        });
    }
    /**
   * Delete a team
   */ async deleteTeam(teamId) {
        return this.request(`/${teamId}`, {
            method: 'DELETE'
        });
    }
    /**
   * Get team members
   */ async getTeamMembers(teamId) {
        return this.request(`/${teamId}/members`);
    }
    /**
   * Add a member to a team
   */ async addTeamMember(teamId, memberData) {
        return this.request(`/${teamId}/members`, {
            method: 'POST',
            body: JSON.stringify(memberData)
        });
    }
    /**
   * Update a team member's role
   */ async updateTeamMemberRole(teamId, userId, role) {
        return this.request(`/${teamId}/members/${userId}`, {
            method: 'PUT',
            body: JSON.stringify({
                role
            })
        });
    }
    /**
   * Remove a member from a team
   */ async removeTeamMember(teamId, userId) {
        return this.request(`/${teamId}/members/${userId}`, {
            method: 'DELETE'
        });
    }
    /**
   * Send team invitation
   */ async inviteToTeam(teamId, invitationData) {
        return this.request(`/${teamId}/invite`, {
            method: 'POST',
            body: JSON.stringify(invitationData)
        });
    }
    /**
   * Get team invitations
   */ async getTeamInvitations(teamId) {
        return this.request(`/${teamId}/invitations`);
    }
    /**
   * Cancel team invitation
   */ async cancelInvitation(teamId, invitationId) {
        return this.request(`/${teamId}/invitations/${invitationId}`, {
            method: 'DELETE'
        });
    }
    /**
   * Accept team invitation
   */ async acceptInvitation(token) {
        return this.request(`/invitations/accept`, {
            method: 'POST',
            body: JSON.stringify({
                token
            })
        });
    }
    /**
   * Get team statistics
   */ async getTeamStats() {
        return this.request('/stats');
    }
    /**
   * Get team activity log
   */ async getTeamActivity(teamId, limit = 50, offset = 0) {
        const queryParams = new URLSearchParams({
            limit: limit.toString(),
            offset: offset.toString()
        });
        return this.request(`/${teamId}/activity?${queryParams}`);
    }
    /**
   * Check if user can perform action on team
   */ async checkTeamPermission(teamId, action) {
        return this.request(`/${teamId}/permissions/${action}`);
    }
    /**
   * Get current user's teams
   */ async getUserTeams() {
        return this.request('/user/teams');
    }
    /**
   * Leave a team (remove self)
   */ async leaveTeam(teamId) {
        return this.request(`/${teamId}/leave`, {
            method: 'POST'
        });
    }
    /**
   * Transfer team ownership
   */ async transferOwnership(teamId, newOwnerId) {
        return this.request(`/${teamId}/transfer`, {
            method: 'POST',
            body: JSON.stringify({
                new_owner_id: newOwnerId
            })
        });
    }
    /**
   * Bulk add members to team
   */ async bulkAddMembers(teamId, members) {
        return this.request(`/${teamId}/members/bulk`, {
            method: 'POST',
            body: JSON.stringify({
                members
            })
        });
    }
    /**
   * Search for users to invite
   */ async searchUsers(query, excludeTeamId) {
        const queryParams = new URLSearchParams({
            q: query
        });
        if (excludeTeamId) {
            queryParams.append('exclude_team', excludeTeamId.toString());
        }
        return this.request(`/search/users?${queryParams}`);
    }
    /**
   * Get team health check
   */ async getTeamHealth() {
        return this.request('/health');
    }
    /**
   * Get mock data for development when backend is not available
   */ getMockData(endpoint, options = {}) {
        console.log(`ðŸŽ­ Serving mock data for: ${endpoint}`);
        // Mock teams data
        const mockTeams = [
            {
                id: 1,
                name: 'Frontend Team',
                description: 'Responsible for all frontend development and UI/UX',
                slug: 'frontend-team',
                visibility: 'public',
                owner_id: 1,
                created_at: '2024-01-01T00:00:00Z',
                updated_at: '2024-01-15T00:00:00Z',
                member_count: 5,
                settings: {
                    allow_member_invites: true,
                    require_approval_for_join: false,
                    default_member_role: 'member'
                }
            },
            {
                id: 2,
                name: 'Backend Team',
                description: 'Backend services, APIs, and infrastructure',
                slug: 'backend-team',
                visibility: 'public',
                owner_id: 2,
                created_at: '2024-01-02T00:00:00Z',
                updated_at: '2024-01-20T00:00:00Z',
                member_count: 4,
                settings: {
                    allow_member_invites: true,
                    require_approval_for_join: true,
                    default_member_role: 'member'
                }
            },
            {
                id: 3,
                name: 'DevOps Team',
                description: 'Infrastructure, deployment, and monitoring',
                slug: 'devops-team',
                visibility: 'private',
                owner_id: 3,
                created_at: '2024-01-03T00:00:00Z',
                updated_at: '2024-01-25T00:00:00Z',
                member_count: 3,
                settings: {
                    allow_member_invites: false,
                    require_approval_for_join: true,
                    default_member_role: 'viewer'
                }
            }
        ];
        // Route mock responses based on endpoint
        switch(endpoint){
            case '/user/teams':
                return mockTeams;
            case '/':
                if (options.method === 'GET') {
                    return {
                        teams: mockTeams,
                        total: mockTeams.length
                    };
                }
                if (options.method === 'POST') {
                    return {
                        ...mockTeams[0],
                        id: Date.now()
                    };
                }
                break;
            case '/health':
                return {
                    total_teams: mockTeams.length,
                    active_teams: mockTeams.length,
                    teams_without_owners: 0,
                    teams_with_single_member: 0,
                    average_team_size: 4,
                    recommendations: [
                        'Consider creating specialized teams for better focus'
                    ]
                };
            default:
                // Handle dynamic endpoints like /{id}, /{id}/members, etc.
                const teamIdMatch = endpoint.match(/^\/(\d+)/);
                if (teamIdMatch) {
                    const teamId = parseInt(teamIdMatch[1]);
                    const team = mockTeams.find((t)=>t.id === teamId);
                    if (endpoint === `/${teamId}`) {
                        return team || null;
                    }
                    if (endpoint === `/${teamId}/members`) {
                        return [
                            {
                                id: 1,
                                user_id: 1,
                                team_id: teamId,
                                role: 'owner',
                                joined_at: '2024-01-01T00:00:00Z',
                                user: {
                                    id: 1,
                                    email: 'owner@example.com',
                                    name: 'Team Owner',
                                    avatar_url: null
                                }
                            },
                            {
                                id: 2,
                                user_id: 2,
                                team_id: teamId,
                                role: 'admin',
                                joined_at: '2024-01-02T00:00:00Z',
                                user: {
                                    id: 2,
                                    email: 'admin@example.com',
                                    name: 'Team Admin',
                                    avatar_url: null
                                }
                            }
                        ];
                    }
                }
                // Default response for unhandled endpoints
                return {
                    message: 'Mock endpoint not implemented',
                    endpoint
                };
        }
        return {
            message: 'Success',
            data: null
        };
    }
}
const teamApi = new TeamApiService();
const _default = teamApi;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvc2VydmljZXMvdGVhbUFwaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRlYW0gQVBJIFNlcnZpY2VcbiAqIFxuICogU2VydmljZSBmb3IgY29ubmVjdGluZyB0byB0ZWFtIG1hbmFnZW1lbnQgYmFja2VuZCBlbmRwb2ludHMuXG4gKiBQcm92aWRlcyBtZXRob2RzIGZvciB0ZWFtIENSVUQgb3BlcmF0aW9ucywgbWVtYmVyIG1hbmFnZW1lbnQsIGFuZCB0ZWFtIHNldHRpbmdzLlxuICovXG5cbmltcG9ydCB7XG4gIFRlYW0sXG4gIFRlYW1DcmVhdGUsXG4gIFRlYW1VcGRhdGUsXG4gIFRlYW1NZW1iZXIsXG4gIFRlYW1NZW1iZXJzaGlwUmVxdWVzdCxcbiAgVGVhbU1lbWJlclJlc3BvbnNlLFxuICBUZWFtTGlzdFJlc3BvbnNlLFxuICBUZWFtTWVtYmVyc1Jlc3BvbnNlLFxuICBUZWFtRmlsdGVyLFxuICBUZWFtU29ydE9wdGlvbnMsXG4gIFRlYW1TdGF0cyxcbiAgVGVhbUludml0YXRpb24sXG4gIFRlYW1JbnZpdGF0aW9uUmVxdWVzdCxcbiAgVGVhbUFjdGl2aXR5XG59IGZyb20gJy4uL3R5cGVzL3RlYW0nO1xuXG5jbGFzcyBUZWFtQXBpU2VydmljZSB7XG4gIHByaXZhdGUgYmFzZVVybDogc3RyaW5nO1xuICBcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5iYXNlVXJsID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyBcbiAgICAgID8gJy9hcGkvdjEvdGVhbXMnIFxuICAgICAgOiAnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS92MS90ZWFtcyc7XG4gIH1cblxuICBwcml2YXRlIGdldEF1dGhUb2tlbigpOiBzdHJpbmcgfCBudWxsIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhUb2tlbicpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZXF1ZXN0PFQ+KGVuZHBvaW50OiBzdHJpbmcsIG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge30pOiBQcm9taXNlPFQ+IHtcbiAgICAvLyBJbiBkZXZlbG9wbWVudCBtb2RlLCB1c2UgbW9jayBkYXRhIGlmIGJhY2tlbmQgaXMgbm90IGF2YWlsYWJsZVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLmdldEF1dGhUb2tlbigpO1xuICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9JHtlbmRwb2ludH1gO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnNJbml0ID0ge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgZGVmYXVsdEhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29uZmlnOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRIZWFkZXJzLFxuICAgICAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIGNvbmZpZyk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkLiBQbGVhc2UgbG9nIGluIGFnYWluLicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjY2VzcyBkZW5pZWQuIFlvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtlcnJvclRleHQgfHwgcmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElmIGZldGNoIGZhaWxzIGluIGRldmVsb3BtZW50LCByZXR1cm4gbW9jayBkYXRhXG4gICAgICAgIGNvbnNvbGUud2Fybign8J+UjCBCYWNrZW5kIG5vdCBhdmFpbGFibGUsIHVzaW5nIG1vY2sgdGVhbSBkYXRhIGZvciBkZXZlbG9wbWVudCcpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNb2NrRGF0YShlbmRwb2ludCwgb3B0aW9ucykgYXMgVDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUHJvZHVjdGlvbiBtb2RlIC0gbm9ybWFsIGZldGNoIGJlaGF2aW9yXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHRoaXMuZ2V0QXV0aFRva2VuKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybH0ke2VuZHBvaW50fWA7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBkZWZhdWx0SGVhZGVyczogSGVhZGVyc0luaXQgPSB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICBkZWZhdWx0SGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3Rva2VufWA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb25maWc6IFJlcXVlc3RJbml0ID0ge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgLi4uZGVmYXVsdEhlYWRlcnMsXG4gICAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgY29uZmlnKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXV0aGVudGljYXRpb24gcmVxdWlyZWQuIFBsZWFzZSBsb2cgaW4gYWdhaW4uJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWNjZXNzIGRlbmllZC4gWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gcGVyZm9ybSB0aGlzIGFjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke2Vycm9yVGV4dCB8fCByZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgVGVhbSBBUEkgcmVxdWVzdCBmYWlsZWQ6ICR7dGhpcy5iYXNlVXJsfSR7ZW5kcG9pbnR9YCwgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRlYW1zIHdpdGggZmlsdGVyaW5nLCBzb3J0aW5nLCBhbmQgcGFnaW5hdGlvblxuICAgKi9cbiAgYXN5bmMgZ2V0VGVhbXMoXG4gICAgZmlsdGVyPzogVGVhbUZpbHRlcixcbiAgICBzb3J0PzogVGVhbVNvcnRPcHRpb25zLFxuICAgIHBhZ2U6IG51bWJlciA9IDEsXG4gICAgcGVyUGFnZTogbnVtYmVyID0gMjBcbiAgKTogUHJvbWlzZTxUZWFtTGlzdFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgXG4gICAgLy8gUGFnaW5hdGlvblxuICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZCgncGFnZScsIHBhZ2UudG9TdHJpbmcoKSk7XG4gICAgcXVlcnlQYXJhbXMuYXBwZW5kKCdwZXJfcGFnZScsIHBlclBhZ2UudG9TdHJpbmcoKSk7XG4gICAgXG4gICAgLy8gU29ydGluZ1xuICAgIGlmIChzb3J0KSB7XG4gICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoJ3NvcnRfYnknLCBzb3J0LmZpZWxkKTtcbiAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZCgnc29ydF9vcmRlcicsIHNvcnQuZGlyZWN0aW9uKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRmlsdGVyaW5nXG4gICAgaWYgKGZpbHRlcikge1xuICAgICAgaWYgKGZpbHRlci5zZWFyY2gpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKCdzZWFyY2gnLCBmaWx0ZXIuc2VhcmNoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGZpbHRlci5yb2xlKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZCgncm9sZScsIGZpbHRlci5yb2xlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGZpbHRlci5pc19hY3RpdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoJ2lzX2FjdGl2ZScsIGZpbHRlci5pc19hY3RpdmUudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChmaWx0ZXIuY3JlYXRlZF9ieSkge1xuICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoJ2NyZWF0ZWRfYnknLCBmaWx0ZXIuY3JlYXRlZF9ieS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGZpbHRlci5tZW1iZXJfb2YpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKCdtZW1iZXJfb2YnLCBmaWx0ZXIubWVtYmVyX29mLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8VGVhbUxpc3RSZXNwb25zZT4oYD8ke3F1ZXJ5UGFyYW1zfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHNwZWNpZmljIHRlYW0gYnkgSURcbiAgICovXG4gIGFzeW5jIGdldFRlYW0odGVhbUlkOiBudW1iZXIpOiBQcm9taXNlPFRlYW0+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFRlYW0+KGAvJHt0ZWFtSWR9YCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHRlYW1cbiAgICovXG4gIGFzeW5jIGNyZWF0ZVRlYW0odGVhbURhdGE6IFRlYW1DcmVhdGUpOiBQcm9taXNlPFRlYW0+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFRlYW0+KCcnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRlYW1EYXRhKSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgdGVhbVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlVGVhbSh0ZWFtSWQ6IG51bWJlciwgdGVhbURhdGE6IFRlYW1VcGRhdGUpOiBQcm9taXNlPFRlYW0+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFRlYW0+KGAvJHt0ZWFtSWR9YCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRlYW1EYXRhKSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSB0ZWFtXG4gICAqL1xuICBhc3luYyBkZWxldGVUZWFtKHRlYW1JZDogbnVtYmVyKTogUHJvbWlzZTx7IG1lc3NhZ2U6IHN0cmluZyB9PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDx7IG1lc3NhZ2U6IHN0cmluZyB9PihgLyR7dGVhbUlkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRlYW0gbWVtYmVyc1xuICAgKi9cbiAgYXN5bmMgZ2V0VGVhbU1lbWJlcnModGVhbUlkOiBudW1iZXIpOiBQcm9taXNlPFRlYW1NZW1iZXJbXT4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8VGVhbU1lbWJlcltdPihgLyR7dGVhbUlkfS9tZW1iZXJzYCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbWVtYmVyIHRvIGEgdGVhbVxuICAgKi9cbiAgYXN5bmMgYWRkVGVhbU1lbWJlcihcbiAgICB0ZWFtSWQ6IG51bWJlcixcbiAgICBtZW1iZXJEYXRhOiBUZWFtTWVtYmVyc2hpcFJlcXVlc3RcbiAgKTogUHJvbWlzZTxUZWFtTWVtYmVyUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFRlYW1NZW1iZXJSZXNwb25zZT4oYC8ke3RlYW1JZH0vbWVtYmVyc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWVtYmVyRGF0YSksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGEgdGVhbSBtZW1iZXIncyByb2xlXG4gICAqL1xuICBhc3luYyB1cGRhdGVUZWFtTWVtYmVyUm9sZShcbiAgICB0ZWFtSWQ6IG51bWJlcixcbiAgICB1c2VySWQ6IG51bWJlcixcbiAgICByb2xlOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxUZWFtTWVtYmVyUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFRlYW1NZW1iZXJSZXNwb25zZT4oYC8ke3RlYW1JZH0vbWVtYmVycy8ke3VzZXJJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyByb2xlIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIG1lbWJlciBmcm9tIGEgdGVhbVxuICAgKi9cbiAgYXN5bmMgcmVtb3ZlVGVhbU1lbWJlcih0ZWFtSWQ6IG51bWJlciwgdXNlcklkOiBudW1iZXIpOiBQcm9taXNlPHsgbWVzc2FnZTogc3RyaW5nIH0+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PHsgbWVzc2FnZTogc3RyaW5nIH0+KGAvJHt0ZWFtSWR9L21lbWJlcnMvJHt1c2VySWR9YCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIHRlYW0gaW52aXRhdGlvblxuICAgKi9cbiAgYXN5bmMgaW52aXRlVG9UZWFtKFxuICAgIHRlYW1JZDogbnVtYmVyLFxuICAgIGludml0YXRpb25EYXRhOiBUZWFtSW52aXRhdGlvblJlcXVlc3RcbiAgKTogUHJvbWlzZTxUZWFtSW52aXRhdGlvbj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8VGVhbUludml0YXRpb24+KGAvJHt0ZWFtSWR9L2ludml0ZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoaW52aXRhdGlvbkRhdGEpLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0ZWFtIGludml0YXRpb25zXG4gICAqL1xuICBhc3luYyBnZXRUZWFtSW52aXRhdGlvbnModGVhbUlkOiBudW1iZXIpOiBQcm9taXNlPFRlYW1JbnZpdGF0aW9uW10+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFRlYW1JbnZpdGF0aW9uW10+KGAvJHt0ZWFtSWR9L2ludml0YXRpb25zYCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VsIHRlYW0gaW52aXRhdGlvblxuICAgKi9cbiAgYXN5bmMgY2FuY2VsSW52aXRhdGlvbih0ZWFtSWQ6IG51bWJlciwgaW52aXRhdGlvbklkOiBudW1iZXIpOiBQcm9taXNlPHsgbWVzc2FnZTogc3RyaW5nIH0+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PHsgbWVzc2FnZTogc3RyaW5nIH0+KGAvJHt0ZWFtSWR9L2ludml0YXRpb25zLyR7aW52aXRhdGlvbklkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWNjZXB0IHRlYW0gaW52aXRhdGlvblxuICAgKi9cbiAgYXN5bmMgYWNjZXB0SW52aXRhdGlvbih0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxUZWFtTWVtYmVyUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFRlYW1NZW1iZXJSZXNwb25zZT4oYC9pbnZpdGF0aW9ucy9hY2NlcHRgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdG9rZW4gfSksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRlYW0gc3RhdGlzdGljc1xuICAgKi9cbiAgYXN5bmMgZ2V0VGVhbVN0YXRzKCk6IFByb21pc2U8VGVhbVN0YXRzPiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxUZWFtU3RhdHM+KCcvc3RhdHMnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGVhbSBhY3Rpdml0eSBsb2dcbiAgICovXG4gIGFzeW5jIGdldFRlYW1BY3Rpdml0eShcbiAgICB0ZWFtSWQ6IG51bWJlcixcbiAgICBsaW1pdDogbnVtYmVyID0gNTAsXG4gICAgb2Zmc2V0OiBudW1iZXIgPSAwXG4gICk6IFByb21pc2U8VGVhbUFjdGl2aXR5W10+IHtcbiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgbGltaXQ6IGxpbWl0LnRvU3RyaW5nKCksXG4gICAgICBvZmZzZXQ6IG9mZnNldC50b1N0cmluZygpLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxUZWFtQWN0aXZpdHlbXT4oYC8ke3RlYW1JZH0vYWN0aXZpdHk/JHtxdWVyeVBhcmFtc31gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB1c2VyIGNhbiBwZXJmb3JtIGFjdGlvbiBvbiB0ZWFtXG4gICAqL1xuICBhc3luYyBjaGVja1RlYW1QZXJtaXNzaW9uKFxuICAgIHRlYW1JZDogbnVtYmVyLFxuICAgIGFjdGlvbjogJ3ZpZXcnIHwgJ2VkaXQnIHwgJ2RlbGV0ZScgfCAnbWFuYWdlX21lbWJlcnMnIHwgJ2ludml0ZSdcbiAgKTogUHJvbWlzZTx7IGFsbG93ZWQ6IGJvb2xlYW47IHJlYXNvbj86IHN0cmluZyB9PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDx7IGFsbG93ZWQ6IGJvb2xlYW47IHJlYXNvbj86IHN0cmluZyB9PihcbiAgICAgIGAvJHt0ZWFtSWR9L3Blcm1pc3Npb25zLyR7YWN0aW9ufWBcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IHVzZXIncyB0ZWFtc1xuICAgKi9cbiAgYXN5bmMgZ2V0VXNlclRlYW1zKCk6IFByb21pc2U8VGVhbVtdPiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxUZWFtW10+KCcvdXNlci90ZWFtcycpO1xuICB9XG5cbiAgLyoqXG4gICAqIExlYXZlIGEgdGVhbSAocmVtb3ZlIHNlbGYpXG4gICAqL1xuICBhc3luYyBsZWF2ZVRlYW0odGVhbUlkOiBudW1iZXIpOiBQcm9taXNlPHsgbWVzc2FnZTogc3RyaW5nIH0+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PHsgbWVzc2FnZTogc3RyaW5nIH0+KGAvJHt0ZWFtSWR9L2xlYXZlYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmZXIgdGVhbSBvd25lcnNoaXBcbiAgICovXG4gIGFzeW5jIHRyYW5zZmVyT3duZXJzaGlwKFxuICAgIHRlYW1JZDogbnVtYmVyLFxuICAgIG5ld093bmVySWQ6IG51bWJlclxuICApOiBQcm9taXNlPHsgbWVzc2FnZTogc3RyaW5nIH0+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PHsgbWVzc2FnZTogc3RyaW5nIH0+KGAvJHt0ZWFtSWR9L3RyYW5zZmVyYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5ld19vd25lcl9pZDogbmV3T3duZXJJZCB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWxrIGFkZCBtZW1iZXJzIHRvIHRlYW1cbiAgICovXG4gIGFzeW5jIGJ1bGtBZGRNZW1iZXJzKFxuICAgIHRlYW1JZDogbnVtYmVyLFxuICAgIG1lbWJlcnM6IFRlYW1NZW1iZXJzaGlwUmVxdWVzdFtdXG4gICk6IFByb21pc2U8e1xuICAgIHN1Y2Nlc3NmdWw6IG51bWJlcjtcbiAgICBmYWlsZWQ6IG51bWJlcjtcbiAgICByZXN1bHRzOiBUZWFtTWVtYmVyUmVzcG9uc2VbXTtcbiAgfT4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8e1xuICAgICAgc3VjY2Vzc2Z1bDogbnVtYmVyO1xuICAgICAgZmFpbGVkOiBudW1iZXI7XG4gICAgICByZXN1bHRzOiBUZWFtTWVtYmVyUmVzcG9uc2VbXTtcbiAgICB9PihgLyR7dGVhbUlkfS9tZW1iZXJzL2J1bGtgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbWVtYmVycyB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWFyY2ggZm9yIHVzZXJzIHRvIGludml0ZVxuICAgKi9cbiAgYXN5bmMgc2VhcmNoVXNlcnMocXVlcnk6IHN0cmluZywgZXhjbHVkZVRlYW1JZD86IG51bWJlcik6IFByb21pc2U8e1xuICAgIHVzZXJzOiB7XG4gICAgICBpZDogbnVtYmVyO1xuICAgICAgZ2l0aHViX3VzZXJuYW1lOiBzdHJpbmc7XG4gICAgICBlbWFpbDogc3RyaW5nO1xuICAgICAgZnVsbF9uYW1lOiBzdHJpbmcgfCBudWxsO1xuICAgICAgYXZhdGFyX3VybDogc3RyaW5nIHwgbnVsbDtcbiAgICB9W107XG4gIH0+IHtcbiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBxOiBxdWVyeSB9KTtcbiAgICBpZiAoZXhjbHVkZVRlYW1JZCkge1xuICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKCdleGNsdWRlX3RlYW0nLCBleGNsdWRlVGVhbUlkLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8e1xuICAgICAgdXNlcnM6IHtcbiAgICAgICAgaWQ6IG51bWJlcjtcbiAgICAgICAgZ2l0aHViX3VzZXJuYW1lOiBzdHJpbmc7XG4gICAgICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgICAgIGZ1bGxfbmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgYXZhdGFyX3VybDogc3RyaW5nIHwgbnVsbDtcbiAgICAgIH1bXTtcbiAgICB9PihgL3NlYXJjaC91c2Vycz8ke3F1ZXJ5UGFyYW1zfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0ZWFtIGhlYWx0aCBjaGVja1xuICAgKi9cbiAgYXN5bmMgZ2V0VGVhbUhlYWx0aCgpOiBQcm9taXNlPHtcbiAgICB0b3RhbF90ZWFtczogbnVtYmVyO1xuICAgIGFjdGl2ZV90ZWFtczogbnVtYmVyO1xuICAgIHRlYW1zX3dpdGhvdXRfb3duZXJzOiBudW1iZXI7XG4gICAgdGVhbXNfd2l0aF9zaW5nbGVfbWVtYmVyOiBudW1iZXI7XG4gICAgYXZlcmFnZV90ZWFtX3NpemU6IG51bWJlcjtcbiAgICByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdO1xuICB9PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDx7XG4gICAgICB0b3RhbF90ZWFtczogbnVtYmVyO1xuICAgICAgYWN0aXZlX3RlYW1zOiBudW1iZXI7XG4gICAgICB0ZWFtc193aXRob3V0X293bmVyczogbnVtYmVyO1xuICAgICAgdGVhbXNfd2l0aF9zaW5nbGVfbWVtYmVyOiBudW1iZXI7XG4gICAgICBhdmVyYWdlX3RlYW1fc2l6ZTogbnVtYmVyO1xuICAgICAgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXTtcbiAgICB9PignL2hlYWx0aCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtb2NrIGRhdGEgZm9yIGRldmVsb3BtZW50IHdoZW4gYmFja2VuZCBpcyBub3QgYXZhaWxhYmxlXG4gICAqL1xuICBwcml2YXRlIGdldE1vY2tEYXRhKGVuZHBvaW50OiBzdHJpbmcsIG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge30pOiBhbnkge1xuICAgIGNvbnNvbGUubG9nKGDwn46tIFNlcnZpbmcgbW9jayBkYXRhIGZvcjogJHtlbmRwb2ludH1gKTtcbiAgICBcbiAgICAvLyBNb2NrIHRlYW1zIGRhdGFcbiAgICBjb25zdCBtb2NrVGVhbXM6IFRlYW1bXSA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIG5hbWU6ICdGcm9udGVuZCBUZWFtJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdSZXNwb25zaWJsZSBmb3IgYWxsIGZyb250ZW5kIGRldmVsb3BtZW50IGFuZCBVSS9VWCcsXG4gICAgICAgIHNsdWc6ICdmcm9udGVuZC10ZWFtJyxcbiAgICAgICAgdmlzaWJpbGl0eTogJ3B1YmxpYycsXG4gICAgICAgIG93bmVyX2lkOiAxLFxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0xNVQwMDowMDowMFonLFxuICAgICAgICBtZW1iZXJfY291bnQ6IDUsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgYWxsb3dfbWVtYmVyX2ludml0ZXM6IHRydWUsXG4gICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbF9mb3Jfam9pbjogZmFsc2UsXG4gICAgICAgICAgZGVmYXVsdF9tZW1iZXJfcm9sZTogJ21lbWJlcidcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IDIsXG4gICAgICAgIG5hbWU6ICdCYWNrZW5kIFRlYW0nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0JhY2tlbmQgc2VydmljZXMsIEFQSXMsIGFuZCBpbmZyYXN0cnVjdHVyZScsXG4gICAgICAgIHNsdWc6ICdiYWNrZW5kLXRlYW0nLFxuICAgICAgICB2aXNpYmlsaXR5OiAncHVibGljJyxcbiAgICAgICAgb3duZXJfaWQ6IDIsXG4gICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAyVDAwOjAwOjAwWicsXG4gICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTIwVDAwOjAwOjAwWicsXG4gICAgICAgIG1lbWJlcl9jb3VudDogNCxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBhbGxvd19tZW1iZXJfaW52aXRlczogdHJ1ZSxcbiAgICAgICAgICByZXF1aXJlX2FwcHJvdmFsX2Zvcl9qb2luOiB0cnVlLFxuICAgICAgICAgIGRlZmF1bHRfbWVtYmVyX3JvbGU6ICdtZW1iZXInXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAzLFxuICAgICAgICBuYW1lOiAnRGV2T3BzIFRlYW0nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0luZnJhc3RydWN0dXJlLCBkZXBsb3ltZW50LCBhbmQgbW9uaXRvcmluZycsXG4gICAgICAgIHNsdWc6ICdkZXZvcHMtdGVhbScsXG4gICAgICAgIHZpc2liaWxpdHk6ICdwcml2YXRlJyxcbiAgICAgICAgb3duZXJfaWQ6IDMsXG4gICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAzVDAwOjAwOjAwWicsXG4gICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTI1VDAwOjAwOjAwWicsXG4gICAgICAgIG1lbWJlcl9jb3VudDogMyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBhbGxvd19tZW1iZXJfaW52aXRlczogZmFsc2UsXG4gICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbF9mb3Jfam9pbjogdHJ1ZSxcbiAgICAgICAgICBkZWZhdWx0X21lbWJlcl9yb2xlOiAndmlld2VyJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcblxuICAgIC8vIFJvdXRlIG1vY2sgcmVzcG9uc2VzIGJhc2VkIG9uIGVuZHBvaW50XG4gICAgc3dpdGNoIChlbmRwb2ludCkge1xuICAgICAgY2FzZSAnL3VzZXIvdGVhbXMnOlxuICAgICAgICByZXR1cm4gbW9ja1RlYW1zO1xuICAgICAgXG4gICAgICBjYXNlICcvJzpcbiAgICAgICAgaWYgKG9wdGlvbnMubWV0aG9kID09PSAnR0VUJykge1xuICAgICAgICAgIHJldHVybiB7IHRlYW1zOiBtb2NrVGVhbXMsIHRvdGFsOiBtb2NrVGVhbXMubGVuZ3RoIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgICAgICByZXR1cm4geyAuLi5tb2NrVGVhbXNbMF0sIGlkOiBEYXRlLm5vdygpIH07XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBcbiAgICAgIGNhc2UgJy9oZWFsdGgnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRvdGFsX3RlYW1zOiBtb2NrVGVhbXMubGVuZ3RoLFxuICAgICAgICAgIGFjdGl2ZV90ZWFtczogbW9ja1RlYW1zLmxlbmd0aCxcbiAgICAgICAgICB0ZWFtc193aXRob3V0X293bmVyczogMCxcbiAgICAgICAgICB0ZWFtc193aXRoX3NpbmdsZV9tZW1iZXI6IDAsXG4gICAgICAgICAgYXZlcmFnZV90ZWFtX3NpemU6IDQsXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbJ0NvbnNpZGVyIGNyZWF0aW5nIHNwZWNpYWxpemVkIHRlYW1zIGZvciBiZXR0ZXIgZm9jdXMnXVxuICAgICAgICB9O1xuICAgICAgXG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBIYW5kbGUgZHluYW1pYyBlbmRwb2ludHMgbGlrZSAve2lkfSwgL3tpZH0vbWVtYmVycywgZXRjLlxuICAgICAgICBjb25zdCB0ZWFtSWRNYXRjaCA9IGVuZHBvaW50Lm1hdGNoKC9eXFwvKFxcZCspLyk7XG4gICAgICAgIGlmICh0ZWFtSWRNYXRjaCkge1xuICAgICAgICAgIGNvbnN0IHRlYW1JZCA9IHBhcnNlSW50KHRlYW1JZE1hdGNoWzFdKTtcbiAgICAgICAgICBjb25zdCB0ZWFtID0gbW9ja1RlYW1zLmZpbmQodCA9PiB0LmlkID09PSB0ZWFtSWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChlbmRwb2ludCA9PT0gYC8ke3RlYW1JZH1gKSB7XG4gICAgICAgICAgICByZXR1cm4gdGVhbSB8fCBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZW5kcG9pbnQgPT09IGAvJHt0ZWFtSWR9L21lbWJlcnNgKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogMSxcbiAgICAgICAgICAgICAgICB0ZWFtX2lkOiB0ZWFtSWQsXG4gICAgICAgICAgICAgICAgcm9sZTogJ293bmVyJyxcbiAgICAgICAgICAgICAgICBqb2luZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICAgICAgICBlbWFpbDogJ293bmVyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdUZWFtIE93bmVyJyxcbiAgICAgICAgICAgICAgICAgIGF2YXRhcl91cmw6IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogMixcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiAyLFxuICAgICAgICAgICAgICAgIHRlYW1faWQ6IHRlYW1JZCxcbiAgICAgICAgICAgICAgICByb2xlOiAnYWRtaW4nLFxuICAgICAgICAgICAgICAgIGpvaW5lZF9hdDogJzIwMjQtMDEtMDJUMDA6MDA6MDBaJyxcbiAgICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgICBpZDogMixcbiAgICAgICAgICAgICAgICAgIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgICAgICAgICAgbmFtZTogJ1RlYW0gQWRtaW4nLFxuICAgICAgICAgICAgICAgICAgYXZhdGFyX3VybDogbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIERlZmF1bHQgcmVzcG9uc2UgZm9yIHVuaGFuZGxlZCBlbmRwb2ludHNcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogJ01vY2sgZW5kcG9pbnQgbm90IGltcGxlbWVudGVkJywgZW5kcG9pbnQgfTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgbWVzc2FnZTogJ1N1Y2Nlc3MnLCBkYXRhOiBudWxsIH07XG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IHRlYW1BcGkgPSBuZXcgVGVhbUFwaVNlcnZpY2UoKTtcbmV4cG9ydCBkZWZhdWx0IHRlYW1BcGk7ICJdLCJuYW1lcyI6WyJ0ZWFtQXBpIiwiVGVhbUFwaVNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJnZXRBdXRoVG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVxdWVzdCIsImVuZHBvaW50Iiwib3B0aW9ucyIsInRva2VuIiwidXJsIiwiZGVmYXVsdEhlYWRlcnMiLCJjb25maWciLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJmZXRjaCIsInN0YXR1cyIsIkVycm9yIiwib2siLCJlcnJvclRleHQiLCJ0ZXh0Iiwic3RhdHVzVGV4dCIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiZ2V0TW9ja0RhdGEiLCJnZXRUZWFtcyIsImZpbHRlciIsInNvcnQiLCJwYWdlIiwicGVyUGFnZSIsInF1ZXJ5UGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwidG9TdHJpbmciLCJmaWVsZCIsImRpcmVjdGlvbiIsInNlYXJjaCIsInJvbGUiLCJpc19hY3RpdmUiLCJ1bmRlZmluZWQiLCJjcmVhdGVkX2J5IiwibWVtYmVyX29mIiwiZ2V0VGVhbSIsInRlYW1JZCIsImNyZWF0ZVRlYW0iLCJ0ZWFtRGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidXBkYXRlVGVhbSIsImRlbGV0ZVRlYW0iLCJnZXRUZWFtTWVtYmVycyIsImFkZFRlYW1NZW1iZXIiLCJtZW1iZXJEYXRhIiwidXBkYXRlVGVhbU1lbWJlclJvbGUiLCJ1c2VySWQiLCJyZW1vdmVUZWFtTWVtYmVyIiwiaW52aXRlVG9UZWFtIiwiaW52aXRhdGlvbkRhdGEiLCJnZXRUZWFtSW52aXRhdGlvbnMiLCJjYW5jZWxJbnZpdGF0aW9uIiwiaW52aXRhdGlvbklkIiwiYWNjZXB0SW52aXRhdGlvbiIsImdldFRlYW1TdGF0cyIsImdldFRlYW1BY3Rpdml0eSIsImxpbWl0Iiwib2Zmc2V0IiwiY2hlY2tUZWFtUGVybWlzc2lvbiIsImFjdGlvbiIsImdldFVzZXJUZWFtcyIsImxlYXZlVGVhbSIsInRyYW5zZmVyT3duZXJzaGlwIiwibmV3T3duZXJJZCIsIm5ld19vd25lcl9pZCIsImJ1bGtBZGRNZW1iZXJzIiwibWVtYmVycyIsInNlYXJjaFVzZXJzIiwicXVlcnkiLCJleGNsdWRlVGVhbUlkIiwicSIsImdldFRlYW1IZWFsdGgiLCJsb2ciLCJtb2NrVGVhbXMiLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInNsdWciLCJ2aXNpYmlsaXR5Iiwib3duZXJfaWQiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsIm1lbWJlcl9jb3VudCIsInNldHRpbmdzIiwiYWxsb3dfbWVtYmVyX2ludml0ZXMiLCJyZXF1aXJlX2FwcHJvdmFsX2Zvcl9qb2luIiwiZGVmYXVsdF9tZW1iZXJfcm9sZSIsInRlYW1zIiwidG90YWwiLCJsZW5ndGgiLCJEYXRlIiwibm93IiwidG90YWxfdGVhbXMiLCJhY3RpdmVfdGVhbXMiLCJ0ZWFtc193aXRob3V0X293bmVycyIsInRlYW1zX3dpdGhfc2luZ2xlX21lbWJlciIsImF2ZXJhZ2VfdGVhbV9zaXplIiwicmVjb21tZW5kYXRpb25zIiwidGVhbUlkTWF0Y2giLCJtYXRjaCIsInBhcnNlSW50IiwidGVhbSIsImZpbmQiLCJ0IiwidXNlcl9pZCIsInRlYW1faWQiLCJqb2luZWRfYXQiLCJ1c2VyIiwiZW1haWwiLCJhdmF0YXJfdXJsIiwibWVzc2FnZSIsImRhdGEiXSwibWFwcGluZ3MiOiJBQUFBOzs7OztDQUtDOzs7Ozs7Ozs7OztJQTJpQkQsT0FBdUI7ZUFBdkI7O0lBRGFBLE9BQU87ZUFBUEE7OztBQXZoQmIsTUFBTUM7SUFHSkMsYUFBYztRQUNaLElBQUksQ0FBQ0MsT0FBTyxHQUFHQyxRQUFRQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxlQUNwQyxrQkFDQTtJQUNOO0lBRVFDLGVBQThCO1FBQ3BDLE9BQU9DLGFBQWFDLE9BQU8sQ0FBQztJQUM5QjtJQUVBLE1BQWND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