{"version":3,"names":["_default","cov_4q52oxcop","s","RoleList","roles","b","onSelect","f","activeIdx","setActiveIdx","_react","useState","listRef","useRef","useEffect","length","current","item","querySelectorAll","focus","_jsxruntime","jsx","className","handleKeyDown","e","key","preventDefault","idx","ref","role","id","undefined","tabIndex","onKeyDown","map","onClick","onFocus","display_name","name"],"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/admin/RoleList.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\n/**\n * RoleList - List of roles with advanced keyboard navigation and accessibility.\n *\n * Props:\n *   roles: array of role objects\n *   onSelect: function(role)\n */\nconst RoleList = ({ roles = [], onSelect }: { roles?: any[]; onSelect: (role: any) => void }) => {\n  const [activeIdx, setActiveIdx] = useState(0);\n  const listRef = useRef<HTMLUListElement>(null);\n\n  // Reset active index if roles change\n  useEffect(() => {\n    setActiveIdx(0);\n  }, [roles?.length]);\n\n  // Focus the active item when activeIdx changes\n  useEffect(() => {\n    if (listRef.current && roles && roles.length > 0) {\n      const item = listRef.current.querySelectorAll('[role=\"option\"]')[activeIdx] as HTMLElement;\n      if (item) item.focus();\n    }\n  }, [activeIdx, roles]);\n\n  if (!roles || roles.length === 0) {\n    return (\n      <div aria-live=\"polite\" className=\"text-gray-500 p-4 text-center\">\n        No roles found. Create a new role to get started.\n      </div>\n    );\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (!roles || roles.length === 0) return;\n    if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      setActiveIdx(idx => (idx + 1) % roles.length);\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      setActiveIdx(idx => (idx - 1 + roles.length) % roles.length);\n    } else if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      onSelect(roles[activeIdx]);\n    }\n  };\n\n  return (\n    <ul\n      ref={listRef}\n      className=\"divide-y divide-gray-200 dark:divide-gray-700\"\n      role=\"listbox\"\n      aria-activedescendant={roles[activeIdx]?.id ? `role-option-${roles[activeIdx].id}` : undefined}\n      tabIndex={0}\n      onKeyDown={handleKeyDown}\n    >\n      {roles.map((role, idx) => (\n        <li\n          key={role.id}\n          id={`role-option-${role.id}`}\n          role=\"option\"\n          aria-selected={activeIdx === idx}\n          tabIndex={activeIdx === idx ? 0 : -1}\n          className={\n            `py-2 px-3 cursor-pointer rounded ` +\n            (activeIdx === idx\n              ? 'bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-white focus-visible:ring-2 focus-visible:ring-blue-500'\n              : 'hover:bg-blue-50 dark:hover:bg-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500')\n          }\n          onClick={() => onSelect(role)}\n          onKeyDown={e => {\n            if (e.key === 'Enter' || e.key === ' ') onSelect(role);\n          }}\n          onFocus={() => setActiveIdx(idx)}\n        >\n          <span className=\"font-medium\">{role.display_name || role.name}</span>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default RoleList; "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAmFA;;;;;;WAAAA,QAAA;;;;;;;;wEAnFmD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}