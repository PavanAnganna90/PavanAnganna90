1039b7a02f9a9a0742a74b161073cdc3
/**
 * Unit tests for PermissionGuard component.
 * Tests permission-based rendering, role checks, and resource access control.
 */ "use strict";
// Mock the useAuth hook
jest.mock('../../../contexts/AuthContext', ()=>({
        useAuth: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _PermissionGuard = require("../PermissionGuard");
const _AuthContext = require("../../../contexts/AuthContext");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockUseAuth = _AuthContext.useAuth;
// Test component to wrap with PermissionGuard
const TestComponent = ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        "data-testid": "protected-content",
        children: "Protected Content"
    });
describe('PermissionGuard', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('permission-based rendering', ()=>{
        it('renders children when user has required permission', ()=>{
            mockUseAuth.mockReturnValue({
                hasPermission: jest.fn(()=>true),
                hasRole: jest.fn(()=>false),
                hasAnyRole: jest.fn(()=>false),
                hasAnyPermission: jest.fn(()=>false),
                canAccess: jest.fn(()=>false),
                state: {
                    isAuthenticated: true,
                    user: null,
                    tokens: null,
                    isLoading: false,
                    error: null
                },
                login: jest.fn(),
                logout: jest.fn(),
                refreshToken: jest.fn(),
                getCurrentUser: jest.fn(),
                getUserPermissions: jest.fn(()=>[]),
                getUserRoles: jest.fn(()=>[]),
                isAdmin: jest.fn(()=>false)
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                permission: "view_dashboard",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
            }));
            expect(_react1.screen.getByTestId('protected-content')).toBeInTheDocument();
        });
        it('does not render children when user lacks required permission', ()=>{
            mockUseAuth.mockReturnValue({
                hasPermission: jest.fn(()=>false),
                hasRole: jest.fn(()=>false),
                hasAnyRole: jest.fn(()=>false),
                hasAnyPermission: jest.fn(()=>false),
                canAccess: jest.fn(()=>false),
                state: {
                    isAuthenticated: true,
                    user: null,
                    tokens: null,
                    isLoading: false,
                    error: null
                },
                login: jest.fn(),
                logout: jest.fn(),
                refreshToken: jest.fn(),
                getCurrentUser: jest.fn(),
                getUserPermissions: jest.fn(()=>[]),
                getUserRoles: jest.fn(()=>[]),
                isAdmin: jest.fn(()=>false)
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                permission: "view_dashboard",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
            }));
            expect(_react1.screen.queryByTestId('protected-content')).not.toBeInTheDocument();
        });
        it('renders fallback when user lacks permission and fallback is provided', ()=>{
            mockUseAuth.mockReturnValue({
                hasPermission: jest.fn(()=>false),
                hasRole: jest.fn(()=>false),
                hasAnyRole: jest.fn(()=>false),
                hasAnyPermission: jest.fn(()=>false),
                canAccess: jest.fn(()=>false),
                state: {
                    isAuthenticated: true,
                    user: null,
                    tokens: null,
                    isLoading: false,
                    error: null
                },
                login: jest.fn(),
                logout: jest.fn(),
                refreshToken: jest.fn(),
                getCurrentUser: jest.fn(),
                getUserPermissions: jest.fn(()=>[]),
                getUserRoles: jest.fn(()=>[]),
                isAdmin: jest.fn(()=>false)
            });
            const fallback = /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "fallback-content",
                children: "Access Denied"
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                permission: "view_dashboard",
                fallback: fallback,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
            }));
            expect(_react1.screen.queryByTestId('protected-content')).not.toBeInTheDocument();
            expect(_react1.screen.getByTestId('fallback-content')).toBeInTheDocument();
        });
    });
    describe('multiple permissions', ()=>{
        it('renders when user has any required permission (requireAll=false)', ()=>{
            mockUseAuth.mockReturnValue({
                hasPermission: jest.fn(()=>false),
                hasRole: jest.fn(()=>false),
                hasAnyRole: jest.fn(()=>false),
                hasAnyPermission: jest.fn(()=>true),
                canAccess: jest.fn(()=>false),
                state: {
                    isAuthenticated: true,
                    user: null,
                    tokens: null,
                    isLoading: false,
                    error: null
                },
                login: jest.fn(),
                logout: jest.fn(),
                refreshToken: jest.fn(),
                getCurrentUser: jest.fn(),
                getUserPermissions: jest.fn(()=>[]),
                getUserRoles: jest.fn(()=>[]),
                isAdmin: jest.fn(()=>false)
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                permissions: [
                    'view_dashboard',
                    'view_infrastructure'
                ],
                requireAll: false,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
            }));
            expect(_react1.screen.getByTestId('protected-content')).toBeInTheDocument();
        });
        it('does not render when user lacks all required permissions (requireAll=true)', ()=>{
            mockUseAuth.mockReturnValue({
                hasPermission: jest.fn(()=>false),
                hasRole: jest.fn(()=>false),
                hasAnyRole: jest.fn(()=>false),
                hasAnyPermission: jest.fn(()=>false),
                canAccess: jest.fn(()=>false),
                state: {
                    isAuthenticated: true,
                    user: null,
                    tokens: null,
                    isLoading: false,
                    error: null
                },
                login: jest.fn(),
                logout: jest.fn(),
                refreshToken: jest.fn(),
                getCurrentUser: jest.fn(),
                getUserPermissions: jest.fn(()=>[]),
                getUserRoles: jest.fn(()=>[]),
                isAdmin: jest.fn(()=>false)
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                permissions: [
                    'view_dashboard',
                    'view_infrastructure'
                ],
                requireAll: true,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
            }));
            expect(_react1.screen.queryByTestId('protected-content')).not.toBeInTheDocument();
        });
    });
    describe('role-based rendering', ()=>{
        it('renders when user has required role', ()=>{
            mockUseAuth.mockReturnValue({
                hasPermission: jest.fn(()=>false),
                hasRole: jest.fn(()=>true),
                hasAnyRole: jest.fn(()=>false),
                hasAnyPermission: jest.fn(()=>false),
                canAccess: jest.fn(()=>false),
                state: {
                    isAuthenticated: true,
                    user: null,
                    tokens: null,
                    isLoading: false,
                    error: null
                },
                login: jest.fn(),
                logout: jest.fn(),
                refreshToken: jest.fn(),
                getCurrentUser: jest.fn(),
                getUserPermissions: jest.fn(()=>[]),
                getUserRoles: jest.fn(()=>[]),
                isAdmin: jest.fn(()=>false)
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                role: "organization_owner",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
            }));
            expect(_react1.screen.getByTestId('protected-content')).toBeInTheDocument();
        });
        it('renders when user has any of the required roles', ()=>{
            mockUseAuth.mockReturnValue({
                hasPermission: jest.fn(()=>false),
                hasRole: jest.fn(()=>false),
                hasAnyRole: jest.fn(()=>true),
                hasAnyPermission: jest.fn(()=>false),
                canAccess: jest.fn(()=>false),
                state: {
                    isAuthenticated: true,
                    user: null,
                    tokens: null,
                    isLoading: false,
                    error: null
                },
                login: jest.fn(),
                logout: jest.fn(),
                refreshToken: jest.fn(),
                getCurrentUser: jest.fn(),
                getUserPermissions: jest.fn(()=>[]),
                getUserRoles: jest.fn(()=>[]),
                isAdmin: jest.fn(()=>false)
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                roles: [
                    'organization_owner',
                    'devops_admin'
                ],
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
            }));
            expect(_react1.screen.getByTestId('protected-content')).toBeInTheDocument();
        });
    });
    describe('resource-based access', ()=>{
        it('renders when user can access resource with specified action', ()=>{
            mockUseAuth.mockReturnValue({
                hasPermission: jest.fn(()=>false),
                hasRole: jest.fn(()=>false),
                hasAnyRole: jest.fn(()=>false),
                hasAnyPermission: jest.fn(()=>false),
                canAccess: jest.fn(()=>true),
                state: {
                    isAuthenticated: true,
                    user: null,
                    tokens: null,
                    isLoading: false,
                    error: null
                },
                login: jest.fn(),
                logout: jest.fn(),
                refreshToken: jest.fn(),
                getCurrentUser: jest.fn(),
                getUserPermissions: jest.fn(()=>[]),
                getUserRoles: jest.fn(()=>[]),
                isAdmin: jest.fn(()=>false)
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                resource: "infrastructure",
                action: "manage",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
            }));
            expect(_react1.screen.getByTestId('protected-content')).toBeInTheDocument();
        });
        it('does not render when user cannot access resource with specified action', ()=>{
            mockUseAuth.mockReturnValue({
                hasPermission: jest.fn(()=>false),
                hasRole: jest.fn(()=>false),
                hasAnyRole: jest.fn(()=>false),
                hasAnyPermission: jest.fn(()=>false),
                canAccess: jest.fn(()=>false),
                state: {
                    isAuthenticated: true,
                    user: null,
                    tokens: null,
                    isLoading: false,
                    error: null
                },
                login: jest.fn(),
                logout: jest.fn(),
                refreshToken: jest.fn(),
                getCurrentUser: jest.fn(),
                getUserPermissions: jest.fn(()=>[]),
                getUserRoles: jest.fn(()=>[]),
                isAdmin: jest.fn(()=>false)
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                resource: "infrastructure",
                action: "manage",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
            }));
            expect(_react1.screen.queryByTestId('protected-content')).not.toBeInTheDocument();
        });
    });
    describe('convenience components', ()=>{
        describe('AdminOnly', ()=>{
            it('renders for admin users', ()=>{
                mockUseAuth.mockReturnValue({
                    hasPermission: jest.fn(()=>false),
                    hasRole: jest.fn(()=>false),
                    hasAnyRole: jest.fn(()=>true),
                    hasAnyPermission: jest.fn(()=>false),
                    canAccess: jest.fn(()=>false),
                    state: {
                        isAuthenticated: true,
                        user: null,
                        tokens: null,
                        isLoading: false,
                        error: null
                    },
                    login: jest.fn(),
                    logout: jest.fn(),
                    refreshToken: jest.fn(),
                    getCurrentUser: jest.fn(),
                    getUserPermissions: jest.fn(()=>[]),
                    getUserRoles: jest.fn(()=>[]),
                    isAdmin: jest.fn(()=>false)
                });
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.AdminOnly, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
                }));
                expect(_react1.screen.getByTestId('protected-content')).toBeInTheDocument();
            });
            it('does not render for non-admin users', ()=>{
                mockUseAuth.mockReturnValue({
                    hasPermission: jest.fn(()=>false),
                    hasRole: jest.fn(()=>false),
                    hasAnyRole: jest.fn(()=>false),
                    hasAnyPermission: jest.fn(()=>false),
                    canAccess: jest.fn(()=>false),
                    state: {
                        isAuthenticated: true,
                        user: null,
                        tokens: null,
                        isLoading: false,
                        error: null
                    },
                    login: jest.fn(),
                    logout: jest.fn(),
                    refreshToken: jest.fn(),
                    getCurrentUser: jest.fn(),
                    getUserPermissions: jest.fn(()=>[]),
                    getUserRoles: jest.fn(()=>[]),
                    isAdmin: jest.fn(()=>false)
                });
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.AdminOnly, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
                }));
                expect(_react1.screen.queryByTestId('protected-content')).not.toBeInTheDocument();
            });
        });
        describe('RoleGuard', ()=>{
            it('renders when user has the specified role', ()=>{
                mockUseAuth.mockReturnValue({
                    hasPermission: jest.fn(()=>false),
                    hasRole: jest.fn(()=>true),
                    hasAnyRole: jest.fn(()=>false),
                    hasAnyPermission: jest.fn(()=>false),
                    canAccess: jest.fn(()=>false),
                    state: {
                        isAuthenticated: true,
                        user: null,
                        tokens: null,
                        isLoading: false,
                        error: null
                    },
                    login: jest.fn(),
                    logout: jest.fn(),
                    refreshToken: jest.fn(),
                    getCurrentUser: jest.fn(),
                    getUserPermissions: jest.fn(()=>[]),
                    getUserRoles: jest.fn(()=>[]),
                    isAdmin: jest.fn(()=>false)
                });
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.RoleGuard, {
                    role: "devops_admin",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
                }));
                expect(_react1.screen.getByTestId('protected-content')).toBeInTheDocument();
            });
        });
        describe('ResourceGuard', ()=>{
            it('renders when user can access the resource', ()=>{
                mockUseAuth.mockReturnValue({
                    hasPermission: jest.fn(()=>false),
                    hasRole: jest.fn(()=>false),
                    hasAnyRole: jest.fn(()=>false),
                    hasAnyPermission: jest.fn(()=>false),
                    canAccess: jest.fn(()=>true),
                    state: {
                        isAuthenticated: true,
                        user: null,
                        tokens: null,
                        isLoading: false,
                        error: null
                    },
                    login: jest.fn(),
                    logout: jest.fn(),
                    refreshToken: jest.fn(),
                    getCurrentUser: jest.fn(),
                    getUserPermissions: jest.fn(()=>[]),
                    getUserRoles: jest.fn(()=>[]),
                    isAdmin: jest.fn(()=>false)
                });
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.ResourceGuard, {
                    resource: "teams",
                    action: "create",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {})
                }));
                expect(_react1.screen.getByTestId('protected-content')).toBeInTheDocument();
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvY29tcG9uZW50cy9yYmFjL19fdGVzdHNfXy9QZXJtaXNzaW9uR3VhcmQudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVbml0IHRlc3RzIGZvciBQZXJtaXNzaW9uR3VhcmQgY29tcG9uZW50LlxuICogVGVzdHMgcGVybWlzc2lvbi1iYXNlZCByZW5kZXJpbmcsIHJvbGUgY2hlY2tzLCBhbmQgcmVzb3VyY2UgYWNjZXNzIGNvbnRyb2wuXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBQZXJtaXNzaW9uR3VhcmQsIEFkbWluT25seSwgUm9sZUd1YXJkLCBSZXNvdXJjZUd1YXJkIH0gZnJvbSAnLi4vUGVybWlzc2lvbkd1YXJkJztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICcuLi8uLi8uLi9jb250ZXh0cy9BdXRoQ29udGV4dCc7XG5cbi8vIE1vY2sgdGhlIHVzZUF1dGggaG9va1xuamVzdC5tb2NrKCcuLi8uLi8uLi9jb250ZXh0cy9BdXRoQ29udGV4dCcsICgpID0+ICh7XG4gIHVzZUF1dGg6IGplc3QuZm4oKSxcbn0pKTtcblxuY29uc3QgbW9ja1VzZUF1dGggPSB1c2VBdXRoIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIHVzZUF1dGg+O1xuXG4vLyBUZXN0IGNvbXBvbmVudCB0byB3cmFwIHdpdGggUGVybWlzc2lvbkd1YXJkXG5jb25zdCBUZXN0Q29tcG9uZW50ID0gKCkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cInByb3RlY3RlZC1jb250ZW50XCI+UHJvdGVjdGVkIENvbnRlbnQ8L2Rpdj47XG5cbmRlc2NyaWJlKCdQZXJtaXNzaW9uR3VhcmQnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgncGVybWlzc2lvbi1iYXNlZCByZW5kZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3JlbmRlcnMgY2hpbGRyZW4gd2hlbiB1c2VyIGhhcyByZXF1aXJlZCBwZXJtaXNzaW9uJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaGFzUGVybWlzc2lvbjogamVzdC5mbigoKSA9PiB0cnVlKSxcbiAgICAgICAgaGFzUm9sZTogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIGhhc0FueVJvbGU6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBoYXNBbnlQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgY2FuQWNjZXNzOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgc3RhdGU6IHsgaXNBdXRoZW50aWNhdGVkOiB0cnVlLCB1c2VyOiBudWxsLCB0b2tlbnM6IG51bGwsIGlzTG9hZGluZzogZmFsc2UsIGVycm9yOiBudWxsIH0sXG4gICAgICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgICAgIGxvZ291dDogamVzdC5mbigpLFxuICAgICAgICByZWZyZXNoVG9rZW46IGplc3QuZm4oKSxcbiAgICAgICAgZ2V0Q3VycmVudFVzZXI6IGplc3QuZm4oKSxcbiAgICAgICAgZ2V0VXNlclBlcm1pc3Npb25zOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICAgICAgZ2V0VXNlclJvbGVzOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICAgICAgaXNBZG1pbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8UGVybWlzc2lvbkd1YXJkIHBlcm1pc3Npb249XCJ2aWV3X2Rhc2hib2FyZFwiPlxuICAgICAgICAgIDxUZXN0Q29tcG9uZW50IC8+XG4gICAgICAgIDwvUGVybWlzc2lvbkd1YXJkPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncHJvdGVjdGVkLWNvbnRlbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdkb2VzIG5vdCByZW5kZXIgY2hpbGRyZW4gd2hlbiB1c2VyIGxhY2tzIHJlcXVpcmVkIHBlcm1pc3Npb24nLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBoYXNQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgaGFzUm9sZTogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIGhhc0FueVJvbGU6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBoYXNBbnlQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgY2FuQWNjZXNzOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgc3RhdGU6IHsgaXNBdXRoZW50aWNhdGVkOiB0cnVlLCB1c2VyOiBudWxsLCB0b2tlbnM6IG51bGwsIGlzTG9hZGluZzogZmFsc2UsIGVycm9yOiBudWxsIH0sXG4gICAgICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgICAgIGxvZ291dDogamVzdC5mbigpLFxuICAgICAgICByZWZyZXNoVG9rZW46IGplc3QuZm4oKSxcbiAgICAgICAgZ2V0Q3VycmVudFVzZXI6IGplc3QuZm4oKSxcbiAgICAgICAgZ2V0VXNlclBlcm1pc3Npb25zOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICAgICAgZ2V0VXNlclJvbGVzOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICAgICAgaXNBZG1pbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8UGVybWlzc2lvbkd1YXJkIHBlcm1pc3Npb249XCJ2aWV3X2Rhc2hib2FyZFwiPlxuICAgICAgICAgIDxUZXN0Q29tcG9uZW50IC8+XG4gICAgICAgIDwvUGVybWlzc2lvbkd1YXJkPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdwcm90ZWN0ZWQtY29udGVudCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdyZW5kZXJzIGZhbGxiYWNrIHdoZW4gdXNlciBsYWNrcyBwZXJtaXNzaW9uIGFuZCBmYWxsYmFjayBpcyBwcm92aWRlZCcsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGhhc1Blcm1pc3Npb246IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBoYXNSb2xlOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgaGFzQW55Um9sZTogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIGhhc0FueVBlcm1pc3Npb246IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBjYW5BY2Nlc3M6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBzdGF0ZTogeyBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsIHVzZXI6IG51bGwsIHRva2VuczogbnVsbCwgaXNMb2FkaW5nOiBmYWxzZSwgZXJyb3I6IG51bGwgfSxcbiAgICAgICAgbG9naW46IGplc3QuZm4oKSxcbiAgICAgICAgbG9nb3V0OiBqZXN0LmZuKCksXG4gICAgICAgIHJlZnJlc2hUb2tlbjogamVzdC5mbigpLFxuICAgICAgICBnZXRDdXJyZW50VXNlcjogamVzdC5mbigpLFxuICAgICAgICBnZXRVc2VyUGVybWlzc2lvbnM6IGplc3QuZm4oKCkgPT4gW10pLFxuICAgICAgICBnZXRVc2VyUm9sZXM6IGplc3QuZm4oKCkgPT4gW10pLFxuICAgICAgICBpc0FkbWluOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBmYWxsYmFjayA9IDxkaXYgZGF0YS10ZXN0aWQ9XCJmYWxsYmFjay1jb250ZW50XCI+QWNjZXNzIERlbmllZDwvZGl2PjtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8UGVybWlzc2lvbkd1YXJkIHBlcm1pc3Npb249XCJ2aWV3X2Rhc2hib2FyZFwiIGZhbGxiYWNrPXtmYWxsYmFja30+XG4gICAgICAgICAgPFRlc3RDb21wb25lbnQgLz5cbiAgICAgICAgPC9QZXJtaXNzaW9uR3VhcmQ+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ3Byb3RlY3RlZC1jb250ZW50JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnZmFsbGJhY2stY29udGVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnbXVsdGlwbGUgcGVybWlzc2lvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3JlbmRlcnMgd2hlbiB1c2VyIGhhcyBhbnkgcmVxdWlyZWQgcGVybWlzc2lvbiAocmVxdWlyZUFsbD1mYWxzZSknLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBoYXNQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgaGFzUm9sZTogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIGhhc0FueVJvbGU6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBoYXNBbnlQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IHRydWUpLFxuICAgICAgICBjYW5BY2Nlc3M6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBzdGF0ZTogeyBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsIHVzZXI6IG51bGwsIHRva2VuczogbnVsbCwgaXNMb2FkaW5nOiBmYWxzZSwgZXJyb3I6IG51bGwgfSxcbiAgICAgICAgbG9naW46IGplc3QuZm4oKSxcbiAgICAgICAgbG9nb3V0OiBqZXN0LmZuKCksXG4gICAgICAgIHJlZnJlc2hUb2tlbjogamVzdC5mbigpLFxuICAgICAgICBnZXRDdXJyZW50VXNlcjogamVzdC5mbigpLFxuICAgICAgICBnZXRVc2VyUGVybWlzc2lvbnM6IGplc3QuZm4oKCkgPT4gW10pLFxuICAgICAgICBnZXRVc2VyUm9sZXM6IGplc3QuZm4oKCkgPT4gW10pLFxuICAgICAgICBpc0FkbWluOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxQZXJtaXNzaW9uR3VhcmQgcGVybWlzc2lvbnM9e1sndmlld19kYXNoYm9hcmQnLCAndmlld19pbmZyYXN0cnVjdHVyZSddfSByZXF1aXJlQWxsPXtmYWxzZX0+XG4gICAgICAgICAgPFRlc3RDb21wb25lbnQgLz5cbiAgICAgICAgPC9QZXJtaXNzaW9uR3VhcmQ+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwcm90ZWN0ZWQtY29udGVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RvZXMgbm90IHJlbmRlciB3aGVuIHVzZXIgbGFja3MgYWxsIHJlcXVpcmVkIHBlcm1pc3Npb25zIChyZXF1aXJlQWxsPXRydWUpJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaGFzUGVybWlzc2lvbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIGhhc1JvbGU6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBoYXNBbnlSb2xlOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgaGFzQW55UGVybWlzc2lvbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIGNhbkFjY2VzczogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogbnVsbCwgdG9rZW5zOiBudWxsLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9LFxuICAgICAgICBsb2dpbjogamVzdC5mbigpLFxuICAgICAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgICAgICAgcmVmcmVzaFRva2VuOiBqZXN0LmZuKCksXG4gICAgICAgIGdldEN1cnJlbnRVc2VyOiBqZXN0LmZuKCksXG4gICAgICAgIGdldFVzZXJQZXJtaXNzaW9uczogamVzdC5mbigoKSA9PiBbXSksXG4gICAgICAgIGdldFVzZXJSb2xlczogamVzdC5mbigoKSA9PiBbXSksXG4gICAgICAgIGlzQWRtaW46IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFBlcm1pc3Npb25HdWFyZCBwZXJtaXNzaW9ucz17Wyd2aWV3X2Rhc2hib2FyZCcsICd2aWV3X2luZnJhc3RydWN0dXJlJ119IHJlcXVpcmVBbGw9e3RydWV9PlxuICAgICAgICAgIDxUZXN0Q29tcG9uZW50IC8+XG4gICAgICAgIDwvUGVybWlzc2lvbkd1YXJkPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdwcm90ZWN0ZWQtY29udGVudCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3JvbGUtYmFzZWQgcmVuZGVyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdyZW5kZXJzIHdoZW4gdXNlciBoYXMgcmVxdWlyZWQgcm9sZScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGhhc1Blcm1pc3Npb246IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBoYXNSb2xlOiBqZXN0LmZuKCgpID0+IHRydWUpLFxuICAgICAgICBoYXNBbnlSb2xlOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgaGFzQW55UGVybWlzc2lvbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIGNhbkFjY2VzczogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogbnVsbCwgdG9rZW5zOiBudWxsLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9LFxuICAgICAgICBsb2dpbjogamVzdC5mbigpLFxuICAgICAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgICAgICAgcmVmcmVzaFRva2VuOiBqZXN0LmZuKCksXG4gICAgICAgIGdldEN1cnJlbnRVc2VyOiBqZXN0LmZuKCksXG4gICAgICAgIGdldFVzZXJQZXJtaXNzaW9uczogamVzdC5mbigoKSA9PiBbXSksXG4gICAgICAgIGdldFVzZXJSb2xlczogamVzdC5mbigoKSA9PiBbXSksXG4gICAgICAgIGlzQWRtaW46IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFBlcm1pc3Npb25HdWFyZCByb2xlPVwib3JnYW5pemF0aW9uX293bmVyXCI+XG4gICAgICAgICAgPFRlc3RDb21wb25lbnQgLz5cbiAgICAgICAgPC9QZXJtaXNzaW9uR3VhcmQ+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwcm90ZWN0ZWQtY29udGVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JlbmRlcnMgd2hlbiB1c2VyIGhhcyBhbnkgb2YgdGhlIHJlcXVpcmVkIHJvbGVzJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaGFzUGVybWlzc2lvbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIGhhc1JvbGU6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBoYXNBbnlSb2xlOiBqZXN0LmZuKCgpID0+IHRydWUpLFxuICAgICAgICBoYXNBbnlQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgY2FuQWNjZXNzOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgc3RhdGU6IHsgaXNBdXRoZW50aWNhdGVkOiB0cnVlLCB1c2VyOiBudWxsLCB0b2tlbnM6IG51bGwsIGlzTG9hZGluZzogZmFsc2UsIGVycm9yOiBudWxsIH0sXG4gICAgICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgICAgIGxvZ291dDogamVzdC5mbigpLFxuICAgICAgICByZWZyZXNoVG9rZW46IGplc3QuZm4oKSxcbiAgICAgICAgZ2V0Q3VycmVudFVzZXI6IGplc3QuZm4oKSxcbiAgICAgICAgZ2V0VXNlclBlcm1pc3Npb25zOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICAgICAgZ2V0VXNlclJvbGVzOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICAgICAgaXNBZG1pbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8UGVybWlzc2lvbkd1YXJkIHJvbGVzPXtbJ29yZ2FuaXphdGlvbl9vd25lcicsICdkZXZvcHNfYWRtaW4nXX0+XG4gICAgICAgICAgPFRlc3RDb21wb25lbnQgLz5cbiAgICAgICAgPC9QZXJtaXNzaW9uR3VhcmQ+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwcm90ZWN0ZWQtY29udGVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncmVzb3VyY2UtYmFzZWQgYWNjZXNzJywgKCkgPT4ge1xuICAgIGl0KCdyZW5kZXJzIHdoZW4gdXNlciBjYW4gYWNjZXNzIHJlc291cmNlIHdpdGggc3BlY2lmaWVkIGFjdGlvbicsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGhhc1Blcm1pc3Npb246IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBoYXNSb2xlOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgaGFzQW55Um9sZTogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIGhhc0FueVBlcm1pc3Npb246IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBjYW5BY2Nlc3M6IGplc3QuZm4oKCkgPT4gdHJ1ZSksXG4gICAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogbnVsbCwgdG9rZW5zOiBudWxsLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9LFxuICAgICAgICBsb2dpbjogamVzdC5mbigpLFxuICAgICAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgICAgICAgcmVmcmVzaFRva2VuOiBqZXN0LmZuKCksXG4gICAgICAgIGdldEN1cnJlbnRVc2VyOiBqZXN0LmZuKCksXG4gICAgICAgIGdldFVzZXJQZXJtaXNzaW9uczogamVzdC5mbigoKSA9PiBbXSksXG4gICAgICAgIGdldFVzZXJSb2xlczogamVzdC5mbigoKSA9PiBbXSksXG4gICAgICAgIGlzQWRtaW46IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFBlcm1pc3Npb25HdWFyZCByZXNvdXJjZT1cImluZnJhc3RydWN0dXJlXCIgYWN0aW9uPVwibWFuYWdlXCI+XG4gICAgICAgICAgPFRlc3RDb21wb25lbnQgLz5cbiAgICAgICAgPC9QZXJtaXNzaW9uR3VhcmQ+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwcm90ZWN0ZWQtY29udGVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RvZXMgbm90IHJlbmRlciB3aGVuIHVzZXIgY2Fubm90IGFjY2VzcyByZXNvdXJjZSB3aXRoIHNwZWNpZmllZCBhY3Rpb24nLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBoYXNQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgaGFzUm9sZTogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIGhhc0FueVJvbGU6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICBoYXNBbnlQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgY2FuQWNjZXNzOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgc3RhdGU6IHsgaXNBdXRoZW50aWNhdGVkOiB0cnVlLCB1c2VyOiBudWxsLCB0b2tlbnM6IG51bGwsIGlzTG9hZGluZzogZmFsc2UsIGVycm9yOiBudWxsIH0sXG4gICAgICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgICAgIGxvZ291dDogamVzdC5mbigpLFxuICAgICAgICByZWZyZXNoVG9rZW46IGplc3QuZm4oKSxcbiAgICAgICAgZ2V0Q3VycmVudFVzZXI6IGplc3QuZm4oKSxcbiAgICAgICAgZ2V0VXNlclBlcm1pc3Npb25zOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICAgICAgZ2V0VXNlclJvbGVzOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICAgICAgaXNBZG1pbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8UGVybWlzc2lvbkd1YXJkIHJlc291cmNlPVwiaW5mcmFzdHJ1Y3R1cmVcIiBhY3Rpb249XCJtYW5hZ2VcIj5cbiAgICAgICAgICA8VGVzdENvbXBvbmVudCAvPlxuICAgICAgICA8L1Blcm1pc3Npb25HdWFyZD5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRlc3RJZCgncHJvdGVjdGVkLWNvbnRlbnQnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjb252ZW5pZW5jZSBjb21wb25lbnRzJywgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCdBZG1pbk9ubHknLCAoKSA9PiB7XG4gICAgICBpdCgncmVuZGVycyBmb3IgYWRtaW4gdXNlcnMnLCAoKSA9PiB7XG4gICAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgaGFzUGVybWlzc2lvbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgICAgaGFzUm9sZTogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgICAgaGFzQW55Um9sZTogamVzdC5mbigoKSA9PiB0cnVlKSxcbiAgICAgICAgICBoYXNBbnlQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgICBjYW5BY2Nlc3M6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogbnVsbCwgdG9rZW5zOiBudWxsLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9LFxuICAgICAgICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgICAgICAgbG9nb3V0OiBqZXN0LmZuKCksXG4gICAgICAgICAgcmVmcmVzaFRva2VuOiBqZXN0LmZuKCksXG4gICAgICAgICAgZ2V0Q3VycmVudFVzZXI6IGplc3QuZm4oKSxcbiAgICAgICAgICBnZXRVc2VyUGVybWlzc2lvbnM6IGplc3QuZm4oKCkgPT4gW10pLFxuICAgICAgICAgIGdldFVzZXJSb2xlczogamVzdC5mbigoKSA9PiBbXSksXG4gICAgICAgICAgaXNBZG1pbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QWRtaW5Pbmx5PlxuICAgICAgICAgICAgPFRlc3RDb21wb25lbnQgLz5cbiAgICAgICAgICA8L0FkbWluT25seT5cbiAgICAgICAgKTtcblxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwcm90ZWN0ZWQtY29udGVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdkb2VzIG5vdCByZW5kZXIgZm9yIG5vbi1hZG1pbiB1c2VycycsICgpID0+IHtcbiAgICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBoYXNQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgICBoYXNSb2xlOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgICBoYXNBbnlSb2xlOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgICBoYXNBbnlQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgICBjYW5BY2Nlc3M6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogbnVsbCwgdG9rZW5zOiBudWxsLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9LFxuICAgICAgICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgICAgICAgbG9nb3V0OiBqZXN0LmZuKCksXG4gICAgICAgICAgcmVmcmVzaFRva2VuOiBqZXN0LmZuKCksXG4gICAgICAgICAgZ2V0Q3VycmVudFVzZXI6IGplc3QuZm4oKSxcbiAgICAgICAgICBnZXRVc2VyUGVybWlzc2lvbnM6IGplc3QuZm4oKCkgPT4gW10pLFxuICAgICAgICAgIGdldFVzZXJSb2xlczogamVzdC5mbigoKSA9PiBbXSksXG4gICAgICAgICAgaXNBZG1pbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QWRtaW5Pbmx5PlxuICAgICAgICAgICAgPFRlc3RDb21wb25lbnQgLz5cbiAgICAgICAgICA8L0FkbWluT25seT5cbiAgICAgICAgKTtcblxuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ3Byb3RlY3RlZC1jb250ZW50JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnUm9sZUd1YXJkJywgKCkgPT4ge1xuICAgICAgaXQoJ3JlbmRlcnMgd2hlbiB1c2VyIGhhcyB0aGUgc3BlY2lmaWVkIHJvbGUnLCAoKSA9PiB7XG4gICAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgaGFzUGVybWlzc2lvbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgICAgaGFzUm9sZTogamVzdC5mbigoKSA9PiB0cnVlKSxcbiAgICAgICAgICBoYXNBbnlSb2xlOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgICBoYXNBbnlQZXJtaXNzaW9uOiBqZXN0LmZuKCgpID0+IGZhbHNlKSxcbiAgICAgICAgICBjYW5BY2Nlc3M6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICAgICAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogbnVsbCwgdG9rZW5zOiBudWxsLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9LFxuICAgICAgICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgICAgICAgbG9nb3V0OiBqZXN0LmZuKCksXG4gICAgICAgICAgcmVmcmVzaFRva2VuOiBqZXN0LmZuKCksXG4gICAgICAgICAgZ2V0Q3VycmVudFVzZXI6IGplc3QuZm4oKSxcbiAgICAgICAgICBnZXRVc2VyUGVybWlzc2lvbnM6IGplc3QuZm4oKCkgPT4gW10pLFxuICAgICAgICAgIGdldFVzZXJSb2xlczogamVzdC5mbigoKSA9PiBbXSksXG4gICAgICAgICAgaXNBZG1pbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8Um9sZUd1YXJkIHJvbGU9XCJkZXZvcHNfYWRtaW5cIj5cbiAgICAgICAgICAgIDxUZXN0Q29tcG9uZW50IC8+XG4gICAgICAgICAgPC9Sb2xlR3VhcmQ+XG4gICAgICAgICk7XG5cbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncHJvdGVjdGVkLWNvbnRlbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ1Jlc291cmNlR3VhcmQnLCAoKSA9PiB7XG4gICAgICBpdCgncmVuZGVycyB3aGVuIHVzZXIgY2FuIGFjY2VzcyB0aGUgcmVzb3VyY2UnLCAoKSA9PiB7XG4gICAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgaGFzUGVybWlzc2lvbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgICAgaGFzUm9sZTogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgICAgaGFzQW55Um9sZTogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgICAgaGFzQW55UGVybWlzc2lvbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgICAgY2FuQWNjZXNzOiBqZXN0LmZuKCgpID0+IHRydWUpLFxuICAgICAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogbnVsbCwgdG9rZW5zOiBudWxsLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9LFxuICAgICAgICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgICAgICAgbG9nb3V0OiBqZXN0LmZuKCksXG4gICAgICAgICAgcmVmcmVzaFRva2VuOiBqZXN0LmZuKCksXG4gICAgICAgICAgZ2V0Q3VycmVudFVzZXI6IGplc3QuZm4oKSxcbiAgICAgICAgICBnZXRVc2VyUGVybWlzc2lvbnM6IGplc3QuZm4oKCkgPT4gW10pLFxuICAgICAgICAgIGdldFVzZXJSb2xlczogamVzdC5mbigoKSA9PiBbXSksXG4gICAgICAgICAgaXNBZG1pbjogamVzdC5mbigoKSA9PiBmYWxzZSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8UmVzb3VyY2VHdWFyZCByZXNvdXJjZT1cInRlYW1zXCIgYWN0aW9uPVwiY3JlYXRlXCI+XG4gICAgICAgICAgICA8VGVzdENvbXBvbmVudCAvPlxuICAgICAgICAgIDwvUmVzb3VyY2VHdWFyZD5cbiAgICAgICAgKTtcblxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwcm90ZWN0ZWQtY29udGVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlQXV0aCIsImZuIiwibW9ja1VzZUF1dGgiLCJUZXN0Q29tcG9uZW50IiwiZGl2IiwiZGF0YS10ZXN0aWQiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJtb2NrUmV0dXJuVmFsdWUiLCJoYXNQZXJtaXNzaW9uIiwiaGFzUm9sZSIsImhhc0FueVJvbGUiLCJoYXNBbnlQZXJtaXNzaW9uIiwiY2FuQWNjZXNzIiwic3RhdGUiLCJpc0F1dGhlbnRpY2F0ZWQiLCJ1c2VyIiwidG9rZW5zIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJsb2dpbiIsImxvZ291dCIsInJlZnJlc2hUb2tlbiIsImdldEN1cnJlbnRVc2VyIiwiZ2V0VXNlclBlcm1pc3Npb25zIiwiZ2V0VXNlclJvbGVzIiwiaXNBZG1pbiIsInJlbmRlciIsIlBlcm1pc3Npb25HdWFyZCIsInBlcm1pc3Npb24iLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRlc3RJZCIsInRvQmVJblRoZURvY3VtZW50IiwicXVlcnlCeVRlc3RJZCIsIm5vdCIsImZhbGxiYWNrIiwicGVybWlzc2lvbnMiLCJyZXF1aXJlQWxsIiwicm9sZSIsInJvbGVzIiwicmVzb3VyY2UiLCJhY3Rpb24iLCJBZG1pbk9ubHkiLCJSb2xlR3VhcmQiLCJSZXNvdXJjZUd1YXJkIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0NBR0M7QUFPRCx3QkFBd0I7QUFDeEJBLEtBQUtDLElBQUksQ0FBQyxpQ0FBaUMsSUFBTyxDQUFBO1FBQ2hEQyxTQUFTRixLQUFLRyxFQUFFO0lBQ2xCLENBQUE7Ozs7OzhEQVJrQjt3QkFDYTtpQ0FDc0M7NkJBQzdDOzs7Ozs7QUFPeEIsTUFBTUMsY0FBY0Ysb0JBQU87QUFFM0IsOENBQThDO0FBQzlDLE1BQU1HLGdCQUFnQixrQkFBTSxxQkFBQ0M7UUFBSUMsZUFBWTtrQkFBb0I7O0FBRWpFQyxTQUFTLG1CQUFtQjtJQUMxQkMsV0FBVztRQUNUVCxLQUFLVSxhQUFhO0lBQ3BCO0lBRUFGLFNBQVMsOEJBQThCO1FBQ3JDRyxHQUFHLHNEQUFzRDtZQUN2RFAsWUFBWVEsZUFBZSxDQUFDO2dCQUMxQkMsZUFBZWIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQzdCVyxTQUFTZCxLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDdkJZLFlBQVlmLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUMxQmEsa0JBQWtCaEIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ2hDYyxXQUFXakIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ3pCZSxPQUFPO29CQUFFQyxpQkFBaUI7b0JBQU1DLE1BQU07b0JBQU1DLFFBQVE7b0JBQU1DLFdBQVc7b0JBQU9DLE9BQU87Z0JBQUs7Z0JBQ3hGQyxPQUFPeEIsS0FBS0csRUFBRTtnQkFDZHNCLFFBQVF6QixLQUFLRyxFQUFFO2dCQUNmdUIsY0FBYzFCLEtBQUtHLEVBQUU7Z0JBQ3JCd0IsZ0JBQWdCM0IsS0FBS0csRUFBRTtnQkFDdkJ5QixvQkFBb0I1QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO2dCQUNwQzBCLGNBQWM3QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO2dCQUM5QjJCLFNBQVM5QixLQUFLRyxFQUFFLENBQUMsSUFBTTtZQUN6QjtZQUVBNEIsSUFBQUEsY0FBTSxnQkFDSixxQkFBQ0MsZ0NBQWU7Z0JBQUNDLFlBQVc7MEJBQzFCLGNBQUEscUJBQUM1Qjs7WUFJTDZCLE9BQU9DLGNBQU0sQ0FBQ0MsV0FBVyxDQUFDLHNCQUFzQkMsaUJBQWlCO1FBQ25FO1FBRUExQixHQUFHLGdFQUFnRTtZQUNqRVAsWUFBWVEsZUFBZSxDQUFDO2dCQUMxQkMsZUFBZWIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQzdCVyxTQUFTZCxLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDdkJZLFlBQVlmLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUMxQmEsa0JBQWtCaEIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ2hDYyxXQUFXakIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ3pCZSxPQUFPO29CQUFFQyxpQkFBaUI7b0JBQU1DLE1BQU07b0JBQU1DLFFBQVE7b0JBQU1DLFdBQVc7b0JBQU9DLE9BQU87Z0JBQUs7Z0JBQ3hGQyxPQUFPeEIsS0FBS0csRUFBRTtnQkFDZHNCLFFBQVF6QixLQUFLRyxFQUFFO2dCQUNmdUIsY0FBYzFCLEtBQUtHLEVBQUU7Z0JBQ3JCd0IsZ0JBQWdCM0IsS0FBS0csRUFBRTtnQkFDdkJ5QixvQkFBb0I1QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO2dCQUNwQzBCLGNBQWM3QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO2dCQUM5QjJCLFNBQVM5QixLQUFLRyxFQUFFLENBQUMsSUFBTTtZQUN6QjtZQUVBNEIsSUFBQUEsY0FBTSxnQkFDSixxQkFBQ0MsZ0NBQWU7Z0JBQUNDLFlBQVc7MEJBQzFCLGNBQUEscUJBQUM1Qjs7WUFJTDZCLE9BQU9DLGNBQU0sQ0FBQ0csYUFBYSxDQUFDLHNCQUFzQkMsR0FBRyxDQUFDRixpQkFBaUI7UUFDekU7UUFFQTFCLEdBQUcsd0VBQXdFO1lBQ3pFUCxZQUFZUSxlQUFlLENBQUM7Z0JBQzFCQyxlQUFlYixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDN0JXLFNBQVNkLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUN2QlksWUFBWWYsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQzFCYSxrQkFBa0JoQixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDaENjLFdBQVdqQixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDekJlLE9BQU87b0JBQUVDLGlCQUFpQjtvQkFBTUMsTUFBTTtvQkFBTUMsUUFBUTtvQkFBTUMsV0FBVztvQkFBT0MsT0FBTztnQkFBSztnQkFDeEZDLE9BQU94QixLQUFLRyxFQUFFO2dCQUNkc0IsUUFBUXpCLEtBQUtHLEVBQUU7Z0JBQ2Z1QixjQUFjMUIsS0FBS0csRUFBRTtnQkFDckJ3QixnQkFBZ0IzQixLQUFLRyxFQUFFO2dCQUN2QnlCLG9CQUFvQjVCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNLEVBQUU7Z0JBQ3BDMEIsY0FBYzdCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNLEVBQUU7Z0JBQzlCMkIsU0FBUzlCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO1lBQ3pCO1lBRUEsTUFBTXFDLHlCQUFXLHFCQUFDbEM7Z0JBQUlDLGVBQVk7MEJBQW1COztZQUVyRHdCLElBQUFBLGNBQU0sZ0JBQ0oscUJBQUNDLGdDQUFlO2dCQUFDQyxZQUFXO2dCQUFpQk8sVUFBVUE7MEJBQ3JELGNBQUEscUJBQUNuQzs7WUFJTDZCLE9BQU9DLGNBQU0sQ0FBQ0csYUFBYSxDQUFDLHNCQUFzQkMsR0FBRyxDQUFDRixpQkFBaUI7WUFDdkVILE9BQU9DLGNBQU0sQ0FBQ0MsV0FBVyxDQUFDLHFCQUFxQkMsaUJBQWlCO1FBQ2xFO0lBQ0Y7SUFFQTdCLFNBQVMsd0JBQXdCO1FBQy9CRyxHQUFHLG9FQUFvRTtZQUNyRVAsWUFBWVEsZUFBZSxDQUFDO2dCQUMxQkMsZUFBZWIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQzdCVyxTQUFTZCxLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDdkJZLFlBQVlmLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUMxQmEsa0JBQWtCaEIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ2hDYyxXQUFXakIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ3pCZSxPQUFPO29CQUFFQyxpQkFBaUI7b0JBQU1DLE1BQU07b0JBQU1DLFFBQVE7b0JBQU1DLFdBQVc7b0JBQU9DLE9BQU87Z0JBQUs7Z0JBQ3hGQyxPQUFPeEIsS0FBS0csRUFBRTtnQkFDZHNCLFFBQVF6QixLQUFLRyxFQUFFO2dCQUNmdUIsY0FBYzFCLEtBQUtHLEVBQUU7Z0JBQ3JCd0IsZ0JBQWdCM0IsS0FBS0csRUFBRTtnQkFDdkJ5QixvQkFBb0I1QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO2dCQUNwQzBCLGNBQWM3QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO2dCQUM5QjJCLFNBQVM5QixLQUFLRyxFQUFFLENBQUMsSUFBTTtZQUN6QjtZQUVBNEIsSUFBQUEsY0FBTSxnQkFDSixxQkFBQ0MsZ0NBQWU7Z0JBQUNTLGFBQWE7b0JBQUM7b0JBQWtCO2lCQUFzQjtnQkFBRUMsWUFBWTswQkFDbkYsY0FBQSxxQkFBQ3JDOztZQUlMNkIsT0FBT0MsY0FBTSxDQUFDQyxXQUFXLENBQUMsc0JBQXNCQyxpQkFBaUI7UUFDbkU7UUFFQTFCLEdBQUcsOEVBQThFO1lBQy9FUCxZQUFZUSxlQUFlLENBQUM7Z0JBQzFCQyxlQUFlYixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDN0JXLFNBQVNkLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUN2QlksWUFBWWYsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQzFCYSxrQkFBa0JoQixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDaENjLFdBQVdqQixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDekJlLE9BQU87b0JBQUVDLGlCQUFpQjtvQkFBTUMsTUFBTTtvQkFBTUMsUUFBUTtvQkFBTUMsV0FBVztvQkFBT0MsT0FBTztnQkFBSztnQkFDeEZDLE9BQU94QixLQUFLRyxFQUFFO2dCQUNkc0IsUUFBUXpCLEtBQUtHLEVBQUU7Z0JBQ2Z1QixjQUFjMUIsS0FBS0csRUFBRTtnQkFDckJ3QixnQkFBZ0IzQixLQUFLRyxFQUFFO2dCQUN2QnlCLG9CQUFvQjVCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNLEVBQUU7Z0JBQ3BDMEIsY0FBYzdCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNLEVBQUU7Z0JBQzlCMkIsU0FBUzlCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO1lBQ3pCO1lBRUE0QixJQUFBQSxjQUFNLGdCQUNKLHFCQUFDQyxnQ0FBZTtnQkFBQ1MsYUFBYTtvQkFBQztvQkFBa0I7aUJBQXNCO2dCQUFFQyxZQUFZOzBCQUNuRixjQUFBLHFCQUFDckM7O1lBSUw2QixPQUFPQyxjQUFNLENBQUNHLGFBQWEsQ0FBQyxzQkFBc0JDLEdBQUcsQ0FBQ0YsaUJBQWlCO1FBQ3pFO0lBQ0Y7SUFFQTdCLFNBQVMsd0JBQXdCO1FBQy9CRyxHQUFHLHVDQUF1QztZQUN4Q1AsWUFBWVEsZUFBZSxDQUFDO2dCQUMxQkMsZUFBZWIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQzdCVyxTQUFTZCxLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDdkJZLFlBQVlmLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUMxQmEsa0JBQWtCaEIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ2hDYyxXQUFXakIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ3pCZSxPQUFPO29CQUFFQyxpQkFBaUI7b0JBQU1DLE1BQU07b0JBQU1DLFFBQVE7b0JBQU1DLFdBQVc7b0JBQU9DLE9BQU87Z0JBQUs7Z0JBQ3hGQyxPQUFPeEIsS0FBS0csRUFBRTtnQkFDZHNCLFFBQVF6QixLQUFLRyxFQUFFO2dCQUNmdUIsY0FBYzFCLEtBQUtHLEVBQUU7Z0JBQ3JCd0IsZ0JBQWdCM0IsS0FBS0csRUFBRTtnQkFDdkJ5QixvQkFBb0I1QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO2dCQUNwQzBCLGNBQWM3QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO2dCQUM5QjJCLFNBQVM5QixLQUFLRyxFQUFFLENBQUMsSUFBTTtZQUN6QjtZQUVBNEIsSUFBQUEsY0FBTSxnQkFDSixxQkFBQ0MsZ0NBQWU7Z0JBQUNXLE1BQUs7MEJBQ3BCLGNBQUEscUJBQUN0Qzs7WUFJTDZCLE9BQU9DLGNBQU0sQ0FBQ0MsV0FBVyxDQUFDLHNCQUFzQkMsaUJBQWlCO1FBQ25FO1FBRUExQixHQUFHLG1EQUFtRDtZQUNwRFAsWUFBWVEsZUFBZSxDQUFDO2dCQUMxQkMsZUFBZWIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQzdCVyxTQUFTZCxLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDdkJZLFlBQVlmLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUMxQmEsa0JBQWtCaEIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ2hDYyxXQUFXakIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ3pCZSxPQUFPO29CQUFFQyxpQkFBaUI7b0JBQU1DLE1BQU07b0JBQU1DLFFBQVE7b0JBQU1DLFdBQVc7b0JBQU9DLE9BQU87Z0JBQUs7Z0JBQ3hGQyxPQUFPeEIsS0FBS0csRUFBRTtnQkFDZHNCLFFBQVF6QixLQUFLRyxFQUFFO2dCQUNmdUIsY0FBYzFCLEtBQUtHLEVBQUU7Z0JBQ3JCd0IsZ0JBQWdCM0IsS0FBS0csRUFBRTtnQkFDdkJ5QixvQkFBb0I1QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO2dCQUNwQzBCLGNBQWM3QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO2dCQUM5QjJCLFNBQVM5QixLQUFLRyxFQUFFLENBQUMsSUFBTTtZQUN6QjtZQUVBNEIsSUFBQUEsY0FBTSxnQkFDSixxQkFBQ0MsZ0NBQWU7Z0JBQUNZLE9BQU87b0JBQUM7b0JBQXNCO2lCQUFlOzBCQUM1RCxjQUFBLHFCQUFDdkM7O1lBSUw2QixPQUFPQyxjQUFNLENBQUNDLFdBQVcsQ0FBQyxzQkFBc0JDLGlCQUFpQjtRQUNuRTtJQUNGO0lBRUE3QixTQUFTLHlCQUF5QjtRQUNoQ0csR0FBRywrREFBK0Q7WUFDaEVQLFlBQVlRLGVBQWUsQ0FBQztnQkFDMUJDLGVBQWViLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUM3QlcsU0FBU2QsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ3ZCWSxZQUFZZixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDMUJhLGtCQUFrQmhCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUNoQ2MsV0FBV2pCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUN6QmUsT0FBTztvQkFBRUMsaUJBQWlCO29CQUFNQyxNQUFNO29CQUFNQyxRQUFRO29CQUFNQyxXQUFXO29CQUFPQyxPQUFPO2dCQUFLO2dCQUN4RkMsT0FBT3hCLEtBQUtHLEVBQUU7Z0JBQ2RzQixRQUFRekIsS0FBS0csRUFBRTtnQkFDZnVCLGNBQWMxQixLQUFLRyxFQUFFO2dCQUNyQndCLGdCQUFnQjNCLEtBQUtHLEVBQUU7Z0JBQ3ZCeUIsb0JBQW9CNUIsS0FBS0csRUFBRSxDQUFDLElBQU0sRUFBRTtnQkFDcEMwQixjQUFjN0IsS0FBS0csRUFBRSxDQUFDLElBQU0sRUFBRTtnQkFDOUIyQixTQUFTOUIsS0FBS0csRUFBRSxDQUFDLElBQU07WUFDekI7WUFFQTRCLElBQUFBLGNBQU0sZ0JBQ0oscUJBQUNDLGdDQUFlO2dCQUFDYSxVQUFTO2dCQUFpQkMsUUFBTzswQkFDaEQsY0FBQSxxQkFBQ3pDOztZQUlMNkIsT0FBT0MsY0FBTSxDQUFDQyxXQUFXLENBQUMsc0JBQXNCQyxpQkFBaUI7UUFDbkU7UUFFQTFCLEdBQUcsMEVBQTBFO1lBQzNFUCxZQUFZUSxlQUFlLENBQUM7Z0JBQzFCQyxlQUFlYixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDN0JXLFNBQVNkLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUN2QlksWUFBWWYsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQzFCYSxrQkFBa0JoQixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDaENjLFdBQVdqQixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDekJlLE9BQU87b0JBQUVDLGlCQUFpQjtvQkFBTUMsTUFBTTtvQkFBTUMsUUFBUTtvQkFBTUMsV0FBVztvQkFBT0MsT0FBTztnQkFBSztnQkFDeEZDLE9BQU94QixLQUFLRyxFQUFFO2dCQUNkc0IsUUFBUXpCLEtBQUtHLEVBQUU7Z0JBQ2Z1QixjQUFjMUIsS0FBS0csRUFBRTtnQkFDckJ3QixnQkFBZ0IzQixLQUFLRyxFQUFFO2dCQUN2QnlCLG9CQUFvQjVCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNLEVBQUU7Z0JBQ3BDMEIsY0FBYzdCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNLEVBQUU7Z0JBQzlCMkIsU0FBUzlCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO1lBQ3pCO1lBRUE0QixJQUFBQSxjQUFNLGdCQUNKLHFCQUFDQyxnQ0FBZTtnQkFBQ2EsVUFBUztnQkFBaUJDLFFBQU87MEJBQ2hELGNBQUEscUJBQUN6Qzs7WUFJTDZCLE9BQU9DLGNBQU0sQ0FBQ0csYUFBYSxDQUFDLHNCQUFzQkMsR0FBRyxDQUFDRixpQkFBaUI7UUFDekU7SUFDRjtJQUVBN0IsU0FBUywwQkFBMEI7UUFDakNBLFNBQVMsYUFBYTtZQUNwQkcsR0FBRywyQkFBMkI7Z0JBQzVCUCxZQUFZUSxlQUFlLENBQUM7b0JBQzFCQyxlQUFlYixLQUFLRyxFQUFFLENBQUMsSUFBTTtvQkFDN0JXLFNBQVNkLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO29CQUN2QlksWUFBWWYsS0FBS0csRUFBRSxDQUFDLElBQU07b0JBQzFCYSxrQkFBa0JoQixLQUFLRyxFQUFFLENBQUMsSUFBTTtvQkFDaENjLFdBQVdqQixLQUFLRyxFQUFFLENBQUMsSUFBTTtvQkFDekJlLE9BQU87d0JBQUVDLGlCQUFpQjt3QkFBTUMsTUFBTTt3QkFBTUMsUUFBUTt3QkFBTUMsV0FBVzt3QkFBT0MsT0FBTztvQkFBSztvQkFDeEZDLE9BQU94QixLQUFLRyxFQUFFO29CQUNkc0IsUUFBUXpCLEtBQUtHLEVBQUU7b0JBQ2Z1QixjQUFjMUIsS0FBS0csRUFBRTtvQkFDckJ3QixnQkFBZ0IzQixLQUFLRyxFQUFFO29CQUN2QnlCLG9CQUFvQjVCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNLEVBQUU7b0JBQ3BDMEIsY0FBYzdCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNLEVBQUU7b0JBQzlCMkIsU0FBUzlCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUN6QjtnQkFFQTRCLElBQUFBLGNBQU0sZ0JBQ0oscUJBQUNnQiwwQkFBUzs4QkFDUixjQUFBLHFCQUFDMUM7O2dCQUlMNkIsT0FBT0MsY0FBTSxDQUFDQyxXQUFXLENBQUMsc0JBQXNCQyxpQkFBaUI7WUFDbkU7WUFFQTFCLEdBQUcsdUNBQXVDO2dCQUN4Q1AsWUFBWVEsZUFBZSxDQUFDO29CQUMxQkMsZUFBZWIsS0FBS0csRUFBRSxDQUFDLElBQU07b0JBQzdCVyxTQUFTZCxLQUFLRyxFQUFFLENBQUMsSUFBTTtvQkFDdkJZLFlBQVlmLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO29CQUMxQmEsa0JBQWtCaEIsS0FBS0csRUFBRSxDQUFDLElBQU07b0JBQ2hDYyxXQUFXakIsS0FBS0csRUFBRSxDQUFDLElBQU07b0JBQ3pCZSxPQUFPO3dCQUFFQyxpQkFBaUI7d0JBQU1DLE1BQU07d0JBQU1DLFFBQVE7d0JBQU1DLFdBQVc7d0JBQU9DLE9BQU87b0JBQUs7b0JBQ3hGQyxPQUFPeEIsS0FBS0csRUFBRTtvQkFDZHNCLFFBQVF6QixLQUFLRyxFQUFFO29CQUNmdUIsY0FBYzFCLEtBQUtHLEVBQUU7b0JBQ3JCd0IsZ0JBQWdCM0IsS0FBS0csRUFBRTtvQkFDdkJ5QixvQkFBb0I1QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO29CQUNwQzBCLGNBQWM3QixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO29CQUM5QjJCLFNBQVM5QixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFDekI7Z0JBRUE0QixJQUFBQSxjQUFNLGdCQUNKLHFCQUFDZ0IsMEJBQVM7OEJBQ1IsY0FBQSxxQkFBQzFDOztnQkFJTDZCLE9BQU9DLGNBQU0sQ0FBQ0csYUFBYSxDQUFDLHNCQUFzQkMsR0FBRyxDQUFDRixpQkFBaUI7WUFDekU7UUFDRjtRQUVBN0IsU0FBUyxhQUFhO1lBQ3BCRyxHQUFHLDRDQUE0QztnQkFDN0NQLFlBQVlRLGVBQWUsQ0FBQztvQkFDMUJDLGVBQWViLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO29CQUM3QlcsU0FBU2QsS0FBS0csRUFBRSxDQUFDLElBQU07b0JBQ3ZCWSxZQUFZZixLQUFLRyxFQUFFLENBQUMsSUFBTTtvQkFDMUJhLGtCQUFrQmhCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO29CQUNoQ2MsV0FBV2pCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO29CQUN6QmUsT0FBTzt3QkFBRUMsaUJBQWlCO3dCQUFNQyxNQUFNO3dCQUFNQyxRQUFRO3dCQUFNQyxXQUFXO3dCQUFPQyxPQUFPO29CQUFLO29CQUN4RkMsT0FBT3hCLEtBQUtHLEVBQUU7b0JBQ2RzQixRQUFRekIsS0FBS0csRUFBRTtvQkFDZnVCLGNBQWMxQixLQUFLRyxFQUFFO29CQUNyQndCLGdCQUFnQjNCLEtBQUtHLEVBQUU7b0JBQ3ZCeUIsb0JBQW9CNUIsS0FBS0csRUFBRSxDQUFDLElBQU0sRUFBRTtvQkFDcEMwQixjQUFjN0IsS0FBS0csRUFBRSxDQUFDLElBQU0sRUFBRTtvQkFDOUIyQixTQUFTOUIsS0FBS0csRUFBRSxDQUFDLElBQU07Z0JBQ3pCO2dCQUVBNEIsSUFBQUEsY0FBTSxnQkFDSixxQkFBQ2lCLDBCQUFTO29CQUFDTCxNQUFLOzhCQUNkLGNBQUEscUJBQUN0Qzs7Z0JBSUw2QixPQUFPQyxjQUFNLENBQUNDLFdBQVcsQ0FBQyxzQkFBc0JDLGlCQUFpQjtZQUNuRTtRQUNGO1FBRUE3QixTQUFTLGlCQUFpQjtZQUN4QkcsR0FBRyw2Q0FBNkM7Z0JBQzlDUCxZQUFZUSxlQUFlLENBQUM7b0JBQzFCQyxlQUFlYixLQUFLRyxFQUFFLENBQUMsSUFBTTtvQkFDN0JXLFNBQVNkLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO29CQUN2QlksWUFBWWYsS0FBS0csRUFBRSxDQUFDLElBQU07b0JBQzFCYSxrQkFBa0JoQixLQUFLRyxFQUFFLENBQUMsSUFBTTtvQkFDaENjLFdBQVdqQixLQUFLRyxFQUFFLENBQUMsSUFBTTtvQkFDekJlLE9BQU87d0JBQUVDLGlCQUFpQjt3QkFBTUMsTUFBTTt3QkFBTUMsUUFBUTt3QkFBTUMsV0FBVzt3QkFBT0MsT0FBTztvQkFBSztvQkFDeEZDLE9BQU94QixLQUFLRyxFQUFFO29CQUNkc0IsUUFBUXpCLEtBQUtHLEVBQUU7b0JBQ2Z1QixjQUFjMUIsS0FBS0csRUFBRTtvQkFDckJ3QixnQkFBZ0IzQixLQUFLRyxFQUFFO29CQUN2QnlCLG9CQUFvQjVCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNLEVBQUU7b0JBQ3BDMEIsY0FBYzdCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNLEVBQUU7b0JBQzlCMkIsU0FBUzlCLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUN6QjtnQkFFQTRCLElBQUFBLGNBQU0sZ0JBQ0oscUJBQUNrQiw4QkFBYTtvQkFBQ0osVUFBUztvQkFBUUMsUUFBTzs4QkFDckMsY0FBQSxxQkFBQ3pDOztnQkFJTDZCLE9BQU9DLGNBQU0sQ0FBQ0MsV0FBVyxDQUFDLHNCQUFzQkMsaUJBQWlCO1lBQ25FO1FBQ0Y7SUFDRjtBQUNGIn0=