{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/app/settings/__tests__/page.working.test.tsx"],"sourcesContent":["import React from 'react';\nimport { render, screen } from '@testing-library/react';\nimport { SettingsPageContent } from '@/components/settings/SettingsPageContent';\n\n// Mock all dependencies\njest.mock('@/contexts/SettingsContext', () => ({\n  useSettings: () => ({\n    settings: {\n      id: '1',\n      userId: 'user1',\n      notifications: {\n        emailNotifications: true,\n        pushNotifications: false,\n        deploymentAlerts: true,\n        performanceAlerts: false,\n        securityAlerts: true,\n      },\n      display: {\n        theme: 'light',\n        dashboardLayout: 'grid',\n        metricsTimeRange: '24h',\n        compactView: false,\n      },\n      integrations: {\n        githubEnabled: true,\n        githubRepositories: ['user/repo1', 'user/repo2'],\n        slackEnabled: false,\n        slackChannel: '#devops',\n        jiraEnabled: false,\n        jiraProject: 'OPS',\n      },\n      updatedAt: '2024-01-01T00:00:00Z',\n    },\n    loading: false,\n    error: null,\n    updateSettings: jest.fn().mockResolvedValue(undefined),\n    resetSettings: jest.fn().mockResolvedValue(undefined),\n    clearError: jest.fn(),\n  }),\n}));\n\njest.mock('@/components/settings/ThemeSelector', () => ({\n  ThemeSelector: () => <div data-testid=\"theme-selector\">Theme Selector</div>,\n}));\n\njest.mock('@/components/settings/ToggleSwitch', () => ({\n  ToggleSwitch: ({ label, description, checked, onChange }: any) => (\n    <div data-testid={`toggle-${label?.toLowerCase()?.replace(/\\s+/g, '-')}`}>\n      <label>\n        <input \n          type=\"checkbox\" \n          checked={checked} \n          onChange={(e) => onChange?.(e.target.checked)}\n        />\n        {label}\n      </label>\n      {description && <p>{description}</p>}\n    </div>\n  ),\n}));\n\njest.mock('@/components/settings/Toast', () => ({\n  Toast: ({ message, isVisible }: any) => (\n    isVisible ? <div data-testid=\"toast\">{message}</div> : null\n  ),\n}));\n\n// Mock icons\njest.mock('@heroicons/react/24/outline', () => {\n  const MockIcon = ({ className, ...props }: any) => (\n    <svg className={className} {...props} data-testid=\"mock-icon\">\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\n    </svg>\n  );\n\n  return {\n    CogIcon: MockIcon,\n    SwatchIcon: MockIcon,\n    BellIcon: MockIcon,\n    CodeBracketIcon: MockIcon,\n    ArrowPathIcon: MockIcon,\n  };\n});\n\ndescribe('SettingsPageContent - Direct Component Tests', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  test('renders main settings heading', () => {\n    render(<SettingsPageContent />);\n    expect(screen.getByText('Settings')).toBeInTheDocument();\n    expect(screen.getByText('Configure your DevOps dashboard preferences and integrations.')).toBeInTheDocument();\n  });\n\n  test('displays all main sections', () => {\n    render(<SettingsPageContent />);\n    \n    expect(screen.getByText('Theme & Appearance')).toBeInTheDocument();\n    expect(screen.getByText('Notifications')).toBeInTheDocument();\n    expect(screen.getByText('Integrations')).toBeInTheDocument();\n    expect(screen.getByText('Reset Settings')).toBeInTheDocument();\n  });\n\n  test('displays theme selector component', () => {\n    render(<SettingsPageContent />);\n    expect(screen.getByTestId('theme-selector')).toBeInTheDocument();\n  });\n\n  test('displays notification toggle switches', () => {\n    render(<SettingsPageContent />);\n    \n    expect(screen.getByText('Email Notifications')).toBeInTheDocument();\n    expect(screen.getByText('Push Notifications')).toBeInTheDocument();\n    expect(screen.getByText('Deployment Alerts')).toBeInTheDocument();\n    expect(screen.getByText('Performance Alerts')).toBeInTheDocument();\n    expect(screen.getByText('Security Alerts')).toBeInTheDocument();\n  });\n\n  test('displays integration options', () => {\n    render(<SettingsPageContent />);\n    \n    expect(screen.getByText('GitHub')).toBeInTheDocument();\n    expect(screen.getByText('Repository management and code tracking')).toBeInTheDocument();\n    expect(screen.getByText('2 repositories connected')).toBeInTheDocument();\n    \n    expect(screen.getByText('Slack')).toBeInTheDocument();\n    expect(screen.getByText('Team communication and notifications')).toBeInTheDocument();\n    \n    expect(screen.getByText('JIRA')).toBeInTheDocument();\n    expect(screen.getByText('Issue tracking and project management')).toBeInTheDocument();\n  });\n\n  test('displays reset settings section', () => {\n    render(<SettingsPageContent />);\n    \n    expect(screen.getByText('Reset Settings')).toBeInTheDocument();\n    expect(screen.getByText('Reset all settings to their default values.')).toBeInTheDocument();\n    expect(screen.getByText('Reset to Defaults')).toBeInTheDocument();\n  });\n\n  test('displays section descriptions', () => {\n    render(<SettingsPageContent />);\n    \n    expect(screen.getByText('Customize the look and feel of your dashboard.')).toBeInTheDocument();\n    expect(screen.getByText('Control when and how you receive notifications.')).toBeInTheDocument();\n    expect(screen.getByText('Connect your DevOps tools and services.')).toBeInTheDocument();\n  });\n\n  test('renders appropriate number of icons', () => {\n    render(<SettingsPageContent />);\n    \n    const icons = screen.getAllByTestId('mock-icon');\n    expect(icons.length).toBeGreaterThanOrEqual(5); // Main icon + section icons\n  });\n}); "],"names":["jest","mock","useSettings","settings","id","userId","notifications","emailNotifications","pushNotifications","deploymentAlerts","performanceAlerts","securityAlerts","display","theme","dashboardLayout","metricsTimeRange","compactView","integrations","githubEnabled","githubRepositories","slackEnabled","slackChannel","jiraEnabled","jiraProject","updatedAt","loading","error","updateSettings","fn","mockResolvedValue","undefined","resetSettings","clearError","ThemeSelector","div","data-testid","ToggleSwitch","label","description","checked","onChange","toLowerCase","replace","input","type","e","target","p","Toast","message","isVisible","MockIcon","className","props","svg","circle","cx","cy","r","CogIcon","SwatchIcon","BellIcon","CodeBracketIcon","ArrowPathIcon","describe","beforeEach","clearAllMocks","test","render","SettingsPageContent","expect","screen","getByText","toBeInTheDocument","getByTestId","icons","getAllByTestId","length","toBeGreaterThanOrEqual"],"mappings":"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"}