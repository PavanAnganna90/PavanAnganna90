{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/settings/__tests__/ThemeSelector.test.tsx"],"sourcesContent":["import React from 'react';\nimport { render, screen } from '@testing-library/react';\n\n// Mock the ThemeContext completely to avoid any dependency issues\nconst mockUseTheme = {\n  config: {\n    variant: 'minimal' as const,\n    colorMode: 'light' as const,\n    contextualTheme: 'default' as const,\n    respectSystemPreferences: true,\n    enableTransitions: true,\n  },\n  currentTheme: {\n    name: 'Minimal Light',\n  },\n  resolvedColorMode: 'light' as const,\n  setThemeVariant: jest.fn(),\n  setColorMode: jest.fn(),\n  setContextualTheme: jest.fn(),\n  toggleSystemPreferences: jest.fn(),\n  toggleTransitions: jest.fn(),\n  hasTransitions: true,\n  isReducedMotion: false,\n};\n\njest.mock('@/contexts/ThemeContext', () => ({\n  useTheme: () => mockUseTheme,\n  ThemeProvider: ({ children }: { children: React.ReactNode }) => <div>{children}</div>,\n}));\n\n// Mock Framer Motion\njest.mock('framer-motion', () => ({\n  motion: {\n    div: React.forwardRef<HTMLDivElement, any>(({ children, ...props }, ref) => (\n      <div ref={ref} {...props}>{children}</div>\n    )),\n    label: React.forwardRef<HTMLLabelElement, any>(({ children, ...props }, ref) => (\n      <label ref={ref} {...props}>{children}</label>\n    )),\n  },\n  AnimatePresence: ({ children }: { children: React.ReactNode }) => <>{children}</>,\n}));\n\n// Mock Headless UI RadioGroup - Define components inline to avoid hoisting issues\njest.mock('@headlessui/react', () => {\n  const MockRadioGroupOption = React.forwardRef<HTMLDivElement, any>(({ children, value, className, onMouseEnter, onMouseLeave }, ref) => {\n    const childrenFunction = typeof children === 'function' \n      ? children({ checked: false, active: false }) \n      : children;\n    \n    return (\n      <div \n        ref={ref}\n        className={className}\n        data-testid={`radio-option-${value}`}\n        data-value={value}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n      >\n        {childrenFunction}\n      </div>\n    );\n  });\n  MockRadioGroupOption.displayName = 'MockRadioGroupOption';\n\n  const MockRadioGroup: any = React.forwardRef<HTMLDivElement, any>(({ children, value, onChange, className }, ref) => (\n    <div ref={ref} className={className} data-testid=\"radio-group\" data-value={value}>\n      {children}\n    </div>\n  ));\n  MockRadioGroup.displayName = 'MockRadioGroup';\n  MockRadioGroup.Option = MockRadioGroupOption;\n\n  return {\n    RadioGroup: MockRadioGroup,\n  };\n});\n\n// Mock all the icons \njest.mock('@heroicons/react/24/outline', () => {\n  const MockIcon = ({ className, ...props }: any) => (\n    <svg className={className} {...props} data-testid=\"mock-icon\">\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\n    </svg>\n  );\n\n  return {\n    SunIcon: MockIcon,\n    MoonIcon: MockIcon,\n    ComputerDesktopIcon: MockIcon,\n    SparklesIcon: MockIcon,\n    BeakerIcon: MockIcon,\n    NewspaperIcon: MockIcon,\n    EyeIcon: MockIcon,\n    ClockIcon: MockIcon,\n    BoltIcon: MockIcon,\n    HeartIcon: MockIcon,\n    FireIcon: MockIcon,\n    SwatchIcon: MockIcon,\n    Cog6ToothIcon: MockIcon,\n    CheckIcon: MockIcon,\n  };\n});\n\n// Mock the cn utility\njest.mock('@/utils/cn', () => ({\n  cn: (...classes: any[]) => classes.filter(Boolean).join(' '),\n}));\n\n// Now import the component after all mocks are set up\nimport { ThemeSelector } from '../ThemeSelector';\n\ndescribe('ThemeSelector Component', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  test('renders the component without crashing', () => {\n    render(<ThemeSelector />);\n    expect(screen.getByText('Theme Customization')).toBeInTheDocument();\n  });\n\n  test('displays all main sections', () => {\n    render(<ThemeSelector />);\n    \n    expect(screen.getByText('Theme Style')).toBeInTheDocument();\n    expect(screen.getByText('Color Mode')).toBeInTheDocument();\n    expect(screen.getByText('Theme Context')).toBeInTheDocument();\n    expect(screen.getByText('Accessibility & Preferences')).toBeInTheDocument();\n  });\n\n  test('shows current theme configuration', () => {\n    render(<ThemeSelector />);\n    \n    expect(screen.getByText('Current Configuration')).toBeInTheDocument();\n    expect(screen.getByText('Minimal Light')).toBeInTheDocument();\n    expect(screen.getByText('light')).toBeInTheDocument();\n  });\n\n  test('renders accessibility toggles', () => {\n    render(<ThemeSelector />);\n    \n    expect(screen.getByText('Respect System Preferences')).toBeInTheDocument();\n    expect(screen.getByText('Enable Animations')).toBeInTheDocument();\n  });\n\n  test('contains radio groups for different theme options', () => {\n    render(<ThemeSelector />);\n    \n    // Should have multiple radio groups (theme variants, color modes, contextual themes)\n    const radioGroups = screen.getAllByTestId('radio-group');\n    expect(radioGroups.length).toBeGreaterThan(0);\n  });\n\n  test('displays theme variant options', () => {\n    render(<ThemeSelector />);\n    \n    // Check for some theme variant options\n    expect(screen.getByTestId('radio-option-minimal')).toBeInTheDocument();\n    expect(screen.getByTestId('radio-option-neo-brutalist')).toBeInTheDocument();\n  });\n\n  test('displays color mode options', () => {\n    render(<ThemeSelector />);\n    \n    // Check for color mode options\n    expect(screen.getByTestId('radio-option-light')).toBeInTheDocument();\n    expect(screen.getByTestId('radio-option-dark')).toBeInTheDocument();\n    expect(screen.getByTestId('radio-option-system')).toBeInTheDocument();\n  });\n\n  test('displays contextual theme options', () => {\n    render(<ThemeSelector />);\n    \n    // Check for contextual theme options\n    expect(screen.getByTestId('radio-option-default')).toBeInTheDocument();\n    expect(screen.getByTestId('radio-option-focus')).toBeInTheDocument();\n  });\n\n  test('renders multiple icons', () => {\n    render(<ThemeSelector />);\n    \n    // Should have multiple icons for different sections and options\n    const icons = screen.getAllByTestId('mock-icon');\n    expect(icons.length).toBeGreaterThan(5);\n  });\n\n  test('shows proper descriptions', () => {\n    render(<ThemeSelector />);\n    \n    expect(screen.getByText(/Personalize your OpsSight experience/)).toBeInTheDocument();\n    expect(screen.getByText(/Follow OS settings for motion and contrast/)).toBeInTheDocument();\n  });\n}); "],"names":["jest","mock","useTheme","mockUseTheme","ThemeProvider","children","div","motion","React","forwardRef","props","ref","label","AnimatePresence","MockRadioGroupOption","value","className","onMouseEnter","onMouseLeave","childrenFunction","checked","active","data-testid","data-value","displayName","MockRadioGroup","onChange","Option","RadioGroup","MockIcon","svg","circle","cx","cy","r","SunIcon","MoonIcon","ComputerDesktopIcon","SparklesIcon","BeakerIcon","NewspaperIcon","EyeIcon","ClockIcon","BoltIcon","HeartIcon","FireIcon","SwatchIcon","Cog6ToothIcon","CheckIcon","cn","classes","filter","Boolean","join","config","variant","colorMode","contextualTheme","respectSystemPreferences","enableTransitions","currentTheme","name","resolvedColorMode","setThemeVariant","fn","setColorMode","setContextualTheme","toggleSystemPreferences","toggleTransitions","hasTransitions","isReducedMotion","describe","beforeEach","clearAllMocks","test","render","ThemeSelector","expect","screen","getByText","toBeInTheDocument","radioGroups","getAllByTestId","length","toBeGreaterThan","getByTestId","icons"],"mappings":"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"}