de53af239a762139df69a0d641068bde
/**
 * Unit tests for withPermissions HOC.
 * Tests higher-order component for page-level permission protection.
 */ "use strict";
// Mock Next.js router
jest.mock('next/navigation', ()=>({
        useRouter: ()=>mockRouter
    }));
// Mock the useAuth hook
jest.mock('../../../contexts/AuthContext', ()=>({
        useAuth: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _withPermissions = require("../withPermissions");
const _AuthContext = require("../../../contexts/AuthContext");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock router
const mockRouter = {
    push: jest.fn(),
    replace: jest.fn(),
    back: jest.fn()
};
const mockUseAuth = _AuthContext.useAuth;
// Test component to wrap with HOCs
const TestComponent = ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        "data-testid": "protected-page",
        children: "Protected Page Content"
    });
// Create mock user
const createMockUser = ()=>({
        id: 1,
        github_id: 'gh_123',
        github_username: 'testuser',
        email: 'test@example.com',
        full_name: 'Test User',
        avatar_url: 'https://example.com/avatar.png',
        bio: 'Test bio',
        company: 'Test Company',
        location: 'Test Location',
        blog: 'https://example.com',
        is_active: true,
        is_superuser: false,
        created_at: '2024-01-01T00:00:00Z',
        updated_at: '2024-01-01T00:00:00Z',
        last_login: '2024-01-01T00:00:00Z'
    });
// Create mock permissions
const createMockPermissions = (names)=>names.map((name, index)=>({
            id: `perm_${index}`,
            name,
            display_name: name.replace(/_/g, ' ').replace(/\b\w/g, (l)=>l.toUpperCase()),
            description: `Permission for ${name}`,
            category: 'general',
            is_system_permission: true
        }));
// Create mock roles
const createMockRoles = (names)=>names.map((name, index)=>({
            id: `role_${index}`,
            name,
            display_name: name.replace(/_/g, ' ').replace(/\b\w/g, (l)=>l.toUpperCase()),
            description: `Role for ${name}`,
            priority: index,
            is_system_role: true,
            permissions: []
        }));
// Mock auth context
const createMockAuth = (permissionNames = [], roleNames = [], isAdmin = false)=>{
    const permissions = createMockPermissions(permissionNames);
    const roles = createMockRoles(roleNames);
    return {
        state: {
            isAuthenticated: true,
            user: createMockUser(),
            tokens: null,
            isLoading: false,
            error: null
        },
        login: jest.fn(),
        logout: jest.fn(),
        refreshToken: jest.fn(),
        getCurrentUser: jest.fn(),
        hasPermission: jest.fn((permission)=>permissionNames.includes(permission)),
        hasRole: jest.fn((role)=>roleNames.includes(role)),
        hasAnyRole: jest.fn((roleList)=>roleList.some((role)=>roleNames.includes(role))),
        hasAnyPermission: jest.fn((permList)=>permList.some((perm)=>permissionNames.includes(perm))),
        canAccess: jest.fn((resource)=>{
            const resourcePermissions = {
                'users': [
                    'view_users',
                    'manage_users'
                ],
                'roles': [
                    'view_roles',
                    'manage_roles'
                ],
                'infrastructure': [
                    'view_infrastructure',
                    'manage_infrastructure'
                ]
            };
            const requiredPerms = resourcePermissions[resource] || [];
            return requiredPerms.some((perm)=>permissionNames.includes(perm));
        }),
        getUserPermissions: jest.fn(()=>permissions),
        getUserRoles: jest.fn(()=>roles),
        isAdmin: jest.fn(()=>isAdmin)
    };
};
describe('withPermissions HOC', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        mockRouter.push.mockClear();
        mockRouter.replace.mockClear();
        mockRouter.back.mockClear();
    });
    describe('withPermissions', ()=>{
        it('renders component when user has required permission', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([
                'view_dashboard'
            ]));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard'
                ]
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.getByTestId('protected-page')).toBeInTheDocument();
        });
        it('renders access denied when user lacks required permission', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([]));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard'
                ]
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.queryByTestId('protected-page')).not.toBeInTheDocument();
            expect(_react1.screen.getByText('Access Denied')).toBeInTheDocument();
            expect(_react1.screen.getByText(/Required permissions: view_dashboard/)).toBeInTheDocument();
            expect(mockRouter.push).toHaveBeenCalledWith('/unauthorized');
        });
        it('renders component when user has any of multiple permissions (requireAll=false)', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([
                'view_dashboard'
            ]));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard',
                    'manage_infrastructure'
                ],
                requireAll: false
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.getByTestId('protected-page')).toBeInTheDocument();
        });
        it('requires all permissions when requireAll=true', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([
                'view_dashboard'
            ]));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard',
                    'manage_infrastructure'
                ],
                requireAll: true
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.queryByTestId('protected-page')).not.toBeInTheDocument();
            expect(_react1.screen.getByText('Access Denied')).toBeInTheDocument();
            expect(_react1.screen.getByText(/Required permissions: view_dashboard and manage_infrastructure/)).toBeInTheDocument();
            expect(mockRouter.push).toHaveBeenCalledWith('/unauthorized');
        });
        it('renders component when user has required role', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([], [
                'organization_owner'
            ]));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                roles: [
                    'organization_owner'
                ]
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.getByTestId('protected-page')).toBeInTheDocument();
        });
        it('renders component when user has any of multiple roles', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([], [
                'team_lead'
            ]));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                roles: [
                    'organization_owner',
                    'team_lead',
                    'devops_admin'
                ]
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.getByTestId('protected-page')).toBeInTheDocument();
        });
        it('renders access denied when user lacks required roles', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([], [
                'developer'
            ]));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                roles: [
                    'organization_owner',
                    'devops_admin'
                ]
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.queryByTestId('protected-page')).not.toBeInTheDocument();
            expect(_react1.screen.getByText('Access Denied')).toBeInTheDocument();
            expect(_react1.screen.getByText(/Required roles: organization_owner or devops_admin/)).toBeInTheDocument();
            expect(mockRouter.push).toHaveBeenCalledWith('/unauthorized');
        });
        it('renders component when user can access resource with required action', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([
                'manage_users'
            ]));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                resource: 'users',
                action: 'manage'
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.getByTestId('protected-page')).toBeInTheDocument();
        });
        it('renders access denied when user cannot access resource', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([
                'view_dashboard'
            ]));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                resource: 'users',
                action: 'manage'
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.queryByTestId('protected-page')).not.toBeInTheDocument();
            expect(_react1.screen.getByText('Access Denied')).toBeInTheDocument();
            expect(_react1.screen.getByText(/You don't have permission to manage users/)).toBeInTheDocument();
            expect(mockRouter.push).toHaveBeenCalledWith('/unauthorized');
        });
        it('renders custom fallback component when provided', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([]));
            const CustomFallback = ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    "data-testid": "custom-fallback",
                    children: "Custom Access Denied"
                });
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard'
                ],
                fallback: CustomFallback
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.queryByTestId('protected-page')).not.toBeInTheDocument();
            expect(_react1.screen.getByTestId('custom-fallback')).toBeInTheDocument();
            expect(mockRouter.push).toHaveBeenCalledWith('/unauthorized');
        });
        it('redirects to login when user is not authenticated', ()=>{
            mockUseAuth.mockReturnValue({
                ...createMockAuth([]),
                state: {
                    isAuthenticated: false,
                    user: null,
                    tokens: null,
                    isLoading: false,
                    error: null
                }
            });
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard'
                ]
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.getByText('Authentication Required')).toBeInTheDocument();
            expect(_react1.screen.getByText('Redirecting to login...')).toBeInTheDocument();
            expect(mockRouter.push).toHaveBeenCalledWith('/login');
        });
        it('handles complex permission combinations', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([
                'view_dashboard',
                'view_infrastructure'
            ], [
                'team_lead'
            ]));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard'
                ],
                roles: [
                    'team_lead'
                ],
                resource: 'infrastructure',
                action: 'view'
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.getByTestId('protected-page')).toBeInTheDocument();
        });
        it('denies access when any permission check fails in complex combinations', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([
                'view_dashboard'
            ], [
                'developer'
            ] // Wrong role
            ));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard'
                ],
                roles: [
                    'team_lead'
                ],
                resource: 'infrastructure',
                action: 'view'
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.queryByTestId('protected-page')).not.toBeInTheDocument();
            expect(_react1.screen.getByText('Access Denied')).toBeInTheDocument();
            expect(mockRouter.push).toHaveBeenCalledWith('/unauthorized');
        });
        it('uses custom redirect path when provided', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([]));
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard'
                ],
                redirectTo: '/custom-unauthorized'
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.queryByTestId('protected-page')).not.toBeInTheDocument();
            expect(mockRouter.push).toHaveBeenCalledWith('/custom-unauthorized');
        });
    });
    describe('withAdminAccess HOC', ()=>{
        it('renders component for admin users', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([
                'manage_roles',
                'manage_users'
            ], [
                'organization_owner'
            ], true));
            const AdminComponent = (0, _withPermissions.withAdminAccess)(TestComponent);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(AdminComponent, {}));
            expect(_react1.screen.getByTestId('protected-page')).toBeInTheDocument();
        });
        it('renders access denied for non-admin users', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([
                'view_dashboard'
            ], [
                'developer'
            ], false));
            const AdminComponent = (0, _withPermissions.withAdminAccess)(TestComponent);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(AdminComponent, {}));
            expect(_react1.screen.queryByTestId('protected-page')).not.toBeInTheDocument();
            expect(_react1.screen.getByText('Access Denied')).toBeInTheDocument();
            expect(_react1.screen.getByText('Administrator access required.')).toBeInTheDocument();
            expect(mockRouter.push).toHaveBeenCalledWith('/unauthorized');
        });
        it('preserves component props', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth([
                'manage_roles'
            ], [
                'organization_owner'
            ], true));
            const PropsTestComponent = ({ testProp })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    "data-testid": "props-test",
                    children: testProp
                });
            const AdminComponent = (0, _withPermissions.withAdminAccess)(PropsTestComponent);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(AdminComponent, {
                testProp: "test-value"
            }));
            expect(_react1.screen.getByTestId('props-test')).toHaveTextContent('test-value');
        });
        it('preserves component display name', ()=>{
            const NamedComponent = ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: "Test"
                });
            NamedComponent.displayName = 'NamedComponent';
            const AdminComponent = (0, _withPermissions.withAdminAccess)(NamedComponent);
            expect(AdminComponent.displayName).toBe('withPermissions(NamedComponent)');
        });
    });
    describe('HOC Edge Cases', ()=>{
        it('handles undefined permissions gracefully', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth());
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: undefined
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            // Should render component when no permissions are required
            expect(_react1.screen.getByTestId('protected-page')).toBeInTheDocument();
        });
        it('handles empty permissions array', ()=>{
            mockUseAuth.mockReturnValue(createMockAuth());
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: []
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            // Should render component when no permissions are required
            expect(_react1.screen.getByTestId('protected-page')).toBeInTheDocument();
        });
        it('handles missing auth context gracefully', ()=>{
            // Mock useAuth to throw error (simulating missing provider)
            mockUseAuth.mockImplementation(()=>{
                throw new Error('useAuth must be used within an AuthProvider');
            });
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard'
                ]
            });
            // Should throw when auth context is missing
            expect(()=>(0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}))).toThrow('useAuth must be used within an AuthProvider');
        });
        it('handles auth error state', ()=>{
            mockUseAuth.mockReturnValue({
                ...createMockAuth([]),
                state: {
                    isAuthenticated: false,
                    user: null,
                    tokens: null,
                    isLoading: false,
                    error: 'Authentication failed'
                }
            });
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard'
                ]
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            // When not authenticated, should redirect to login
            expect(_react1.screen.getByText('Authentication Required')).toBeInTheDocument();
            expect(mockRouter.push).toHaveBeenCalledWith('/login');
        });
        it('handles organization-scoped permissions', ()=>{
            const mockAuth = createMockAuth([
                'view_dashboard'
            ]);
            // The implementation doesn't actually check organizationId in hasPermission
            // so this test needs to be adjusted
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard'
                ],
                organizationId: 'org-123'
            });
            mockUseAuth.mockReturnValue(mockAuth);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            expect(_react1.screen.getByTestId('protected-page')).toBeInTheDocument();
        });
        it('handles loading state', ()=>{
            mockUseAuth.mockReturnValue({
                ...createMockAuth([
                    'view_dashboard'
                ]),
                state: {
                    isAuthenticated: true,
                    user: createMockUser(),
                    tokens: null,
                    isLoading: true,
                    error: null
                }
            });
            const ProtectedComponent = (0, _withPermissions.withPermissions)(TestComponent, {
                permissions: [
                    'view_dashboard'
                ]
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ProtectedComponent, {}));
            // Should render when loading if authenticated and has permissions
            expect(_react1.screen.getByTestId('protected-page')).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvY29tcG9uZW50cy9yYmFjL19fdGVzdHNfXy93aXRoUGVybWlzc2lvbnMudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVbml0IHRlc3RzIGZvciB3aXRoUGVybWlzc2lvbnMgSE9DLlxuICogVGVzdHMgaGlnaGVyLW9yZGVyIGNvbXBvbmVudCBmb3IgcGFnZS1sZXZlbCBwZXJtaXNzaW9uIHByb3RlY3Rpb24uXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyB3aXRoUGVybWlzc2lvbnMsIHdpdGhBZG1pbkFjY2VzcyB9IGZyb20gJy4uL3dpdGhQZXJtaXNzaW9ucyc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dHMvQXV0aENvbnRleHQnO1xuXG4vLyBNb2NrIHJvdXRlclxuY29uc3QgbW9ja1JvdXRlciA9IHtcbiAgcHVzaDogamVzdC5mbigpLFxuICByZXBsYWNlOiBqZXN0LmZuKCksXG4gIGJhY2s6IGplc3QuZm4oKSxcbn07XG5cbi8vIE1vY2sgTmV4dC5qcyByb3V0ZXJcbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiAoKSA9PiBtb2NrUm91dGVyLFxufSkpO1xuXG4vLyBNb2NrIHRoZSB1c2VBdXRoIGhvb2tcbmplc3QubW9jaygnLi4vLi4vLi4vY29udGV4dHMvQXV0aENvbnRleHQnLCAoKSA9PiAoe1xuICB1c2VBdXRoOiBqZXN0LmZuKCksXG59KSk7XG5cbmNvbnN0IG1vY2tVc2VBdXRoID0gdXNlQXV0aCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiB1c2VBdXRoPjtcblxuLy8gVGVzdCBjb21wb25lbnQgdG8gd3JhcCB3aXRoIEhPQ3NcbmNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwicHJvdGVjdGVkLXBhZ2VcIj5Qcm90ZWN0ZWQgUGFnZSBDb250ZW50PC9kaXY+O1xuXG4vLyBDcmVhdGUgbW9jayB1c2VyXG5jb25zdCBjcmVhdGVNb2NrVXNlciA9ICgpID0+ICh7XG4gIGlkOiAxLFxuICBnaXRodWJfaWQ6ICdnaF8xMjMnLFxuICBnaXRodWJfdXNlcm5hbWU6ICd0ZXN0dXNlcicsXG4gIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gIGZ1bGxfbmFtZTogJ1Rlc3QgVXNlcicsXG4gIGF2YXRhcl91cmw6ICdodHRwczovL2V4YW1wbGUuY29tL2F2YXRhci5wbmcnLFxuICBiaW86ICdUZXN0IGJpbycsXG4gIGNvbXBhbnk6ICdUZXN0IENvbXBhbnknLFxuICBsb2NhdGlvbjogJ1Rlc3QgTG9jYXRpb24nLFxuICBibG9nOiAnaHR0cHM6Ly9leGFtcGxlLmNvbScsXG4gIGlzX2FjdGl2ZTogdHJ1ZSxcbiAgaXNfc3VwZXJ1c2VyOiBmYWxzZSxcbiAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgbGFzdF9sb2dpbjogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbn0pO1xuXG4vLyBDcmVhdGUgbW9jayBwZXJtaXNzaW9uc1xuY29uc3QgY3JlYXRlTW9ja1Blcm1pc3Npb25zID0gKG5hbWVzOiBzdHJpbmdbXSkgPT4gbmFtZXMubWFwKChuYW1lLCBpbmRleCkgPT4gKHtcbiAgaWQ6IGBwZXJtXyR7aW5kZXh9YCxcbiAgbmFtZSxcbiAgZGlzcGxheV9uYW1lOiBuYW1lLnJlcGxhY2UoL18vZywgJyAnKS5yZXBsYWNlKC9cXGJcXHcvZywgbCA9PiBsLnRvVXBwZXJDYXNlKCkpLFxuICBkZXNjcmlwdGlvbjogYFBlcm1pc3Npb24gZm9yICR7bmFtZX1gLFxuICBjYXRlZ29yeTogJ2dlbmVyYWwnLFxuICBpc19zeXN0ZW1fcGVybWlzc2lvbjogdHJ1ZSxcbn0pKTtcblxuLy8gQ3JlYXRlIG1vY2sgcm9sZXNcbmNvbnN0IGNyZWF0ZU1vY2tSb2xlcyA9IChuYW1lczogc3RyaW5nW10pID0+IG5hbWVzLm1hcCgobmFtZSwgaW5kZXgpID0+ICh7XG4gIGlkOiBgcm9sZV8ke2luZGV4fWAsXG4gIG5hbWUsXG4gIGRpc3BsYXlfbmFtZTogbmFtZS5yZXBsYWNlKC9fL2csICcgJykucmVwbGFjZSgvXFxiXFx3L2csIGwgPT4gbC50b1VwcGVyQ2FzZSgpKSxcbiAgZGVzY3JpcHRpb246IGBSb2xlIGZvciAke25hbWV9YCxcbiAgcHJpb3JpdHk6IGluZGV4LFxuICBpc19zeXN0ZW1fcm9sZTogdHJ1ZSxcbiAgcGVybWlzc2lvbnM6IFtdLFxufSkpO1xuXG4vLyBNb2NrIGF1dGggY29udGV4dFxuY29uc3QgY3JlYXRlTW9ja0F1dGggPSAocGVybWlzc2lvbk5hbWVzOiBzdHJpbmdbXSA9IFtdLCByb2xlTmFtZXM6IHN0cmluZ1tdID0gW10sIGlzQWRtaW4gPSBmYWxzZSkgPT4ge1xuICBjb25zdCBwZXJtaXNzaW9ucyA9IGNyZWF0ZU1vY2tQZXJtaXNzaW9ucyhwZXJtaXNzaW9uTmFtZXMpO1xuICBjb25zdCByb2xlcyA9IGNyZWF0ZU1vY2tSb2xlcyhyb2xlTmFtZXMpO1xuICBcbiAgcmV0dXJuIHtcbiAgICBzdGF0ZToge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgdXNlcjogY3JlYXRlTW9ja1VzZXIoKSxcbiAgICAgIHRva2VuczogbnVsbCxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9LFxuICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgbG9nb3V0OiBqZXN0LmZuKCksXG4gICAgcmVmcmVzaFRva2VuOiBqZXN0LmZuKCksXG4gICAgZ2V0Q3VycmVudFVzZXI6IGplc3QuZm4oKSxcbiAgICBoYXNQZXJtaXNzaW9uOiBqZXN0LmZuKChwZXJtaXNzaW9uOiBzdHJpbmcpID0+IHBlcm1pc3Npb25OYW1lcy5pbmNsdWRlcyhwZXJtaXNzaW9uKSksXG4gICAgaGFzUm9sZTogamVzdC5mbigocm9sZTogc3RyaW5nKSA9PiByb2xlTmFtZXMuaW5jbHVkZXMocm9sZSkpLFxuICAgIGhhc0FueVJvbGU6IGplc3QuZm4oKHJvbGVMaXN0OiBzdHJpbmdbXSkgPT4gcm9sZUxpc3Quc29tZShyb2xlID0+IHJvbGVOYW1lcy5pbmNsdWRlcyhyb2xlKSkpLFxuICAgIGhhc0FueVBlcm1pc3Npb246IGplc3QuZm4oKHBlcm1MaXN0OiBzdHJpbmdbXSkgPT4gcGVybUxpc3Quc29tZShwZXJtID0+IHBlcm1pc3Npb25OYW1lcy5pbmNsdWRlcyhwZXJtKSkpLFxuICAgIGNhbkFjY2VzczogamVzdC5mbigocmVzb3VyY2U6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgcmVzb3VyY2VQZXJtaXNzaW9ucyA9IHtcbiAgICAgICAgJ3VzZXJzJzogWyd2aWV3X3VzZXJzJywgJ21hbmFnZV91c2VycyddLFxuICAgICAgICAncm9sZXMnOiBbJ3ZpZXdfcm9sZXMnLCAnbWFuYWdlX3JvbGVzJ10sXG4gICAgICAgICdpbmZyYXN0cnVjdHVyZSc6IFsndmlld19pbmZyYXN0cnVjdHVyZScsICdtYW5hZ2VfaW5mcmFzdHJ1Y3R1cmUnXSxcbiAgICAgIH07XG4gICAgICBjb25zdCByZXF1aXJlZFBlcm1zID0gcmVzb3VyY2VQZXJtaXNzaW9uc1tyZXNvdXJjZSBhcyBrZXlvZiB0eXBlb2YgcmVzb3VyY2VQZXJtaXNzaW9uc10gfHwgW107XG4gICAgICByZXR1cm4gcmVxdWlyZWRQZXJtcy5zb21lKHBlcm0gPT4gcGVybWlzc2lvbk5hbWVzLmluY2x1ZGVzKHBlcm0pKTtcbiAgICB9KSxcbiAgICBnZXRVc2VyUGVybWlzc2lvbnM6IGplc3QuZm4oKCkgPT4gcGVybWlzc2lvbnMpLFxuICAgIGdldFVzZXJSb2xlczogamVzdC5mbigoKSA9PiByb2xlcyksXG4gICAgaXNBZG1pbjogamVzdC5mbigoKSA9PiBpc0FkbWluKSxcbiAgfTtcbn07XG5cbmRlc2NyaWJlKCd3aXRoUGVybWlzc2lvbnMgSE9DJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBtb2NrUm91dGVyLnB1c2gubW9ja0NsZWFyKCk7XG4gICAgbW9ja1JvdXRlci5yZXBsYWNlLm1vY2tDbGVhcigpO1xuICAgIG1vY2tSb3V0ZXIuYmFjay5tb2NrQ2xlYXIoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3dpdGhQZXJtaXNzaW9ucycsICgpID0+IHtcbiAgICBpdCgncmVuZGVycyBjb21wb25lbnQgd2hlbiB1c2VyIGhhcyByZXF1aXJlZCBwZXJtaXNzaW9uJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKGNyZWF0ZU1vY2tBdXRoKFsndmlld19kYXNoYm9hcmQnXSkpO1xuICAgICAgXG4gICAgICBjb25zdCBQcm90ZWN0ZWRDb21wb25lbnQgPSB3aXRoUGVybWlzc2lvbnMoVGVzdENvbXBvbmVudCwge1xuICAgICAgICBwZXJtaXNzaW9uczogWyd2aWV3X2Rhc2hib2FyZCddXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxQcm90ZWN0ZWRDb21wb25lbnQgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwcm90ZWN0ZWQtcGFnZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JlbmRlcnMgYWNjZXNzIGRlbmllZCB3aGVuIHVzZXIgbGFja3MgcmVxdWlyZWQgcGVybWlzc2lvbicsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZShjcmVhdGVNb2NrQXV0aChbXSkpO1xuICAgICAgXG4gICAgICBjb25zdCBQcm90ZWN0ZWRDb21wb25lbnQgPSB3aXRoUGVybWlzc2lvbnMoVGVzdENvbXBvbmVudCwge1xuICAgICAgICBwZXJtaXNzaW9uczogWyd2aWV3X2Rhc2hib2FyZCddXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxQcm90ZWN0ZWRDb21wb25lbnQgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ3Byb3RlY3RlZC1wYWdlJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FjY2VzcyBEZW5pZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9SZXF1aXJlZCBwZXJtaXNzaW9uczogdmlld19kYXNoYm9hcmQvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChtb2NrUm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvdW5hdXRob3JpemVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgncmVuZGVycyBjb21wb25lbnQgd2hlbiB1c2VyIGhhcyBhbnkgb2YgbXVsdGlwbGUgcGVybWlzc2lvbnMgKHJlcXVpcmVBbGw9ZmFsc2UpJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKGNyZWF0ZU1vY2tBdXRoKFsndmlld19kYXNoYm9hcmQnXSkpO1xuICAgICAgXG4gICAgICBjb25zdCBQcm90ZWN0ZWRDb21wb25lbnQgPSB3aXRoUGVybWlzc2lvbnMoVGVzdENvbXBvbmVudCwge1xuICAgICAgICBwZXJtaXNzaW9uczogWyd2aWV3X2Rhc2hib2FyZCcsICdtYW5hZ2VfaW5mcmFzdHJ1Y3R1cmUnXSxcbiAgICAgICAgcmVxdWlyZUFsbDogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFByb3RlY3RlZENvbXBvbmVudCAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3Byb3RlY3RlZC1wYWdlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgncmVxdWlyZXMgYWxsIHBlcm1pc3Npb25zIHdoZW4gcmVxdWlyZUFsbD10cnVlJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKGNyZWF0ZU1vY2tBdXRoKFsndmlld19kYXNoYm9hcmQnXSkpO1xuICAgICAgXG4gICAgICBjb25zdCBQcm90ZWN0ZWRDb21wb25lbnQgPSB3aXRoUGVybWlzc2lvbnMoVGVzdENvbXBvbmVudCwge1xuICAgICAgICBwZXJtaXNzaW9uczogWyd2aWV3X2Rhc2hib2FyZCcsICdtYW5hZ2VfaW5mcmFzdHJ1Y3R1cmUnXSxcbiAgICAgICAgcmVxdWlyZUFsbDogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8UHJvdGVjdGVkQ29tcG9uZW50IC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdwcm90ZWN0ZWQtcGFnZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBY2Nlc3MgRGVuaWVkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvUmVxdWlyZWQgcGVybWlzc2lvbnM6IHZpZXdfZGFzaGJvYXJkIGFuZCBtYW5hZ2VfaW5mcmFzdHJ1Y3R1cmUvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChtb2NrUm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvdW5hdXRob3JpemVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgncmVuZGVycyBjb21wb25lbnQgd2hlbiB1c2VyIGhhcyByZXF1aXJlZCByb2xlJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKGNyZWF0ZU1vY2tBdXRoKFtdLCBbJ29yZ2FuaXphdGlvbl9vd25lciddKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IFByb3RlY3RlZENvbXBvbmVudCA9IHdpdGhQZXJtaXNzaW9ucyhUZXN0Q29tcG9uZW50LCB7XG4gICAgICAgIHJvbGVzOiBbJ29yZ2FuaXphdGlvbl9vd25lciddXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxQcm90ZWN0ZWRDb21wb25lbnQgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwcm90ZWN0ZWQtcGFnZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JlbmRlcnMgY29tcG9uZW50IHdoZW4gdXNlciBoYXMgYW55IG9mIG11bHRpcGxlIHJvbGVzJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKGNyZWF0ZU1vY2tBdXRoKFtdLCBbJ3RlYW1fbGVhZCddKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IFByb3RlY3RlZENvbXBvbmVudCA9IHdpdGhQZXJtaXNzaW9ucyhUZXN0Q29tcG9uZW50LCB7XG4gICAgICAgIHJvbGVzOiBbJ29yZ2FuaXphdGlvbl9vd25lcicsICd0ZWFtX2xlYWQnLCAnZGV2b3BzX2FkbWluJ11cbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFByb3RlY3RlZENvbXBvbmVudCAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3Byb3RlY3RlZC1wYWdlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgncmVuZGVycyBhY2Nlc3MgZGVuaWVkIHdoZW4gdXNlciBsYWNrcyByZXF1aXJlZCByb2xlcycsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZShjcmVhdGVNb2NrQXV0aChbXSwgWydkZXZlbG9wZXInXSkpO1xuICAgICAgXG4gICAgICBjb25zdCBQcm90ZWN0ZWRDb21wb25lbnQgPSB3aXRoUGVybWlzc2lvbnMoVGVzdENvbXBvbmVudCwge1xuICAgICAgICByb2xlczogWydvcmdhbml6YXRpb25fb3duZXInLCAnZGV2b3BzX2FkbWluJ11cbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFByb3RlY3RlZENvbXBvbmVudCAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRlc3RJZCgncHJvdGVjdGVkLXBhZ2UnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWNjZXNzIERlbmllZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL1JlcXVpcmVkIHJvbGVzOiBvcmdhbml6YXRpb25fb3duZXIgb3IgZGV2b3BzX2FkbWluLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QobW9ja1JvdXRlci5wdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL3VuYXV0aG9yaXplZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JlbmRlcnMgY29tcG9uZW50IHdoZW4gdXNlciBjYW4gYWNjZXNzIHJlc291cmNlIHdpdGggcmVxdWlyZWQgYWN0aW9uJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKGNyZWF0ZU1vY2tBdXRoKFsnbWFuYWdlX3VzZXJzJ10pKTtcbiAgICAgIFxuICAgICAgY29uc3QgUHJvdGVjdGVkQ29tcG9uZW50ID0gd2l0aFBlcm1pc3Npb25zKFRlc3RDb21wb25lbnQsIHtcbiAgICAgICAgcmVzb3VyY2U6ICd1c2VycycsXG4gICAgICAgIGFjdGlvbjogJ21hbmFnZSdcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFByb3RlY3RlZENvbXBvbmVudCAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3Byb3RlY3RlZC1wYWdlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgncmVuZGVycyBhY2Nlc3MgZGVuaWVkIHdoZW4gdXNlciBjYW5ub3QgYWNjZXNzIHJlc291cmNlJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKGNyZWF0ZU1vY2tBdXRoKFsndmlld19kYXNoYm9hcmQnXSkpO1xuICAgICAgXG4gICAgICBjb25zdCBQcm90ZWN0ZWRDb21wb25lbnQgPSB3aXRoUGVybWlzc2lvbnMoVGVzdENvbXBvbmVudCwge1xuICAgICAgICByZXNvdXJjZTogJ3VzZXJzJyxcbiAgICAgICAgYWN0aW9uOiAnbWFuYWdlJ1xuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8UHJvdGVjdGVkQ29tcG9uZW50IC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdwcm90ZWN0ZWQtcGFnZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBY2Nlc3MgRGVuaWVkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBtYW5hZ2UgdXNlcnMvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChtb2NrUm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvdW5hdXRob3JpemVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgncmVuZGVycyBjdXN0b20gZmFsbGJhY2sgY29tcG9uZW50IHdoZW4gcHJvdmlkZWQnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoY3JlYXRlTW9ja0F1dGgoW10pKTtcbiAgICAgIFxuICAgICAgY29uc3QgQ3VzdG9tRmFsbGJhY2sgPSAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiY3VzdG9tLWZhbGxiYWNrXCI+Q3VzdG9tIEFjY2VzcyBEZW5pZWQ8L2Rpdj47XG4gICAgICBcbiAgICAgIGNvbnN0IFByb3RlY3RlZENvbXBvbmVudCA9IHdpdGhQZXJtaXNzaW9ucyhUZXN0Q29tcG9uZW50LCB7XG4gICAgICAgIHBlcm1pc3Npb25zOiBbJ3ZpZXdfZGFzaGJvYXJkJ10sXG4gICAgICAgIGZhbGxiYWNrOiBDdXN0b21GYWxsYmFja1xuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8UHJvdGVjdGVkQ29tcG9uZW50IC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdwcm90ZWN0ZWQtcGFnZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2N1c3RvbS1mYWxsYmFjaycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KG1vY2tSb3V0ZXIucHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy91bmF1dGhvcml6ZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdyZWRpcmVjdHMgdG8gbG9naW4gd2hlbiB1c2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgLi4uY3JlYXRlTW9ja0F1dGgoW10pLFxuICAgICAgICBzdGF0ZToge1xuICAgICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgICAgICB0b2tlbnM6IG51bGwsXG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IFByb3RlY3RlZENvbXBvbmVudCA9IHdpdGhQZXJtaXNzaW9ucyhUZXN0Q29tcG9uZW50LCB7XG4gICAgICAgIHBlcm1pc3Npb25zOiBbJ3ZpZXdfZGFzaGJvYXJkJ11cbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFByb3RlY3RlZENvbXBvbmVudCAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBdXRoZW50aWNhdGlvbiBSZXF1aXJlZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1JlZGlyZWN0aW5nIHRvIGxvZ2luLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QobW9ja1JvdXRlci5wdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2xvZ2luJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnaGFuZGxlcyBjb21wbGV4IHBlcm1pc3Npb24gY29tYmluYXRpb25zJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKGNyZWF0ZU1vY2tBdXRoKFxuICAgICAgICBbJ3ZpZXdfZGFzaGJvYXJkJywgJ3ZpZXdfaW5mcmFzdHJ1Y3R1cmUnXSwgXG4gICAgICAgIFsndGVhbV9sZWFkJ11cbiAgICAgICkpO1xuICAgICAgXG4gICAgICBjb25zdCBQcm90ZWN0ZWRDb21wb25lbnQgPSB3aXRoUGVybWlzc2lvbnMoVGVzdENvbXBvbmVudCwge1xuICAgICAgICBwZXJtaXNzaW9uczogWyd2aWV3X2Rhc2hib2FyZCddLFxuICAgICAgICByb2xlczogWyd0ZWFtX2xlYWQnXSxcbiAgICAgICAgcmVzb3VyY2U6ICdpbmZyYXN0cnVjdHVyZScsXG4gICAgICAgIGFjdGlvbjogJ3ZpZXcnXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxQcm90ZWN0ZWRDb21wb25lbnQgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwcm90ZWN0ZWQtcGFnZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlbmllcyBhY2Nlc3Mgd2hlbiBhbnkgcGVybWlzc2lvbiBjaGVjayBmYWlscyBpbiBjb21wbGV4IGNvbWJpbmF0aW9ucycsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZShjcmVhdGVNb2NrQXV0aChcbiAgICAgICAgWyd2aWV3X2Rhc2hib2FyZCddLCBcbiAgICAgICAgWydkZXZlbG9wZXInXSAvLyBXcm9uZyByb2xlXG4gICAgICApKTtcbiAgICAgIFxuICAgICAgY29uc3QgUHJvdGVjdGVkQ29tcG9uZW50ID0gd2l0aFBlcm1pc3Npb25zKFRlc3RDb21wb25lbnQsIHtcbiAgICAgICAgcGVybWlzc2lvbnM6IFsndmlld19kYXNoYm9hcmQnXSxcbiAgICAgICAgcm9sZXM6IFsndGVhbV9sZWFkJ10sIC8vIFJlcXVpcmVkIHJvbGUgdXNlciBkb2Vzbid0IGhhdmVcbiAgICAgICAgcmVzb3VyY2U6ICdpbmZyYXN0cnVjdHVyZScsXG4gICAgICAgIGFjdGlvbjogJ3ZpZXcnXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxQcm90ZWN0ZWRDb21wb25lbnQgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ3Byb3RlY3RlZC1wYWdlJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FjY2VzcyBEZW5pZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChtb2NrUm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvdW5hdXRob3JpemVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgndXNlcyBjdXN0b20gcmVkaXJlY3QgcGF0aCB3aGVuIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZUF1dGgubW9ja1JldHVyblZhbHVlKGNyZWF0ZU1vY2tBdXRoKFtdKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IFByb3RlY3RlZENvbXBvbmVudCA9IHdpdGhQZXJtaXNzaW9ucyhUZXN0Q29tcG9uZW50LCB7XG4gICAgICAgIHBlcm1pc3Npb25zOiBbJ3ZpZXdfZGFzaGJvYXJkJ10sXG4gICAgICAgIHJlZGlyZWN0VG86ICcvY3VzdG9tLXVuYXV0aG9yaXplZCdcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFByb3RlY3RlZENvbXBvbmVudCAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRlc3RJZCgncHJvdGVjdGVkLXBhZ2UnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QobW9ja1JvdXRlci5wdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2N1c3RvbS11bmF1dGhvcml6ZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3dpdGhBZG1pbkFjY2VzcyBIT0MnLCAoKSA9PiB7XG4gICAgaXQoJ3JlbmRlcnMgY29tcG9uZW50IGZvciBhZG1pbiB1c2VycycsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZShjcmVhdGVNb2NrQXV0aChcbiAgICAgICAgWydtYW5hZ2Vfcm9sZXMnLCAnbWFuYWdlX3VzZXJzJ10sIFxuICAgICAgICBbJ29yZ2FuaXphdGlvbl9vd25lciddLCBcbiAgICAgICAgdHJ1ZVxuICAgICAgKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IEFkbWluQ29tcG9uZW50ID0gd2l0aEFkbWluQWNjZXNzKFRlc3RDb21wb25lbnQpO1xuXG4gICAgICByZW5kZXIoPEFkbWluQ29tcG9uZW50IC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncHJvdGVjdGVkLXBhZ2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdyZW5kZXJzIGFjY2VzcyBkZW5pZWQgZm9yIG5vbi1hZG1pbiB1c2VycycsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZShjcmVhdGVNb2NrQXV0aChcbiAgICAgICAgWyd2aWV3X2Rhc2hib2FyZCddLCBcbiAgICAgICAgWydkZXZlbG9wZXInXSwgXG4gICAgICAgIGZhbHNlXG4gICAgICApKTtcbiAgICAgIFxuICAgICAgY29uc3QgQWRtaW5Db21wb25lbnQgPSB3aXRoQWRtaW5BY2Nlc3MoVGVzdENvbXBvbmVudCk7XG5cbiAgICAgIHJlbmRlcig8QWRtaW5Db21wb25lbnQgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ3Byb3RlY3RlZC1wYWdlJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FjY2VzcyBEZW5pZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBZG1pbmlzdHJhdG9yIGFjY2VzcyByZXF1aXJlZC4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChtb2NrUm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvdW5hdXRob3JpemVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgncHJlc2VydmVzIGNvbXBvbmVudCBwcm9wcycsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZShjcmVhdGVNb2NrQXV0aChcbiAgICAgICAgWydtYW5hZ2Vfcm9sZXMnXSwgXG4gICAgICAgIFsnb3JnYW5pemF0aW9uX293bmVyJ10sIFxuICAgICAgICB0cnVlXG4gICAgICApKTtcbiAgICAgIFxuICAgICAgY29uc3QgUHJvcHNUZXN0Q29tcG9uZW50ID0gKHsgdGVzdFByb3AgfTogeyB0ZXN0UHJvcDogc3RyaW5nIH0pID0+IChcbiAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cInByb3BzLXRlc3RcIj57dGVzdFByb3B9PC9kaXY+XG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBBZG1pbkNvbXBvbmVudCA9IHdpdGhBZG1pbkFjY2VzcyhQcm9wc1Rlc3RDb21wb25lbnQpO1xuXG4gICAgICByZW5kZXIoPEFkbWluQ29tcG9uZW50IHRlc3RQcm9wPVwidGVzdC12YWx1ZVwiIC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncHJvcHMtdGVzdCcpKS50b0hhdmVUZXh0Q29udGVudCgndGVzdC12YWx1ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3ByZXNlcnZlcyBjb21wb25lbnQgZGlzcGxheSBuYW1lJywgKCkgPT4ge1xuICAgICAgY29uc3QgTmFtZWRDb21wb25lbnQgPSAoKSA9PiA8ZGl2PlRlc3Q8L2Rpdj47XG4gICAgICBOYW1lZENvbXBvbmVudC5kaXNwbGF5TmFtZSA9ICdOYW1lZENvbXBvbmVudCc7XG4gICAgICBcbiAgICAgIGNvbnN0IEFkbWluQ29tcG9uZW50ID0gd2l0aEFkbWluQWNjZXNzKE5hbWVkQ29tcG9uZW50KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KEFkbWluQ29tcG9uZW50LmRpc3BsYXlOYW1lKS50b0JlKCd3aXRoUGVybWlzc2lvbnMoTmFtZWRDb21wb25lbnQpJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdIT0MgRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBpdCgnaGFuZGxlcyB1bmRlZmluZWQgcGVybWlzc2lvbnMgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZShjcmVhdGVNb2NrQXV0aCgpKTtcbiAgICAgIFxuICAgICAgY29uc3QgUHJvdGVjdGVkQ29tcG9uZW50ID0gd2l0aFBlcm1pc3Npb25zKFRlc3RDb21wb25lbnQsIHtcbiAgICAgICAgcGVybWlzc2lvbnM6IHVuZGVmaW5lZCBhcyBhbnlcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFByb3RlY3RlZENvbXBvbmVudCAvPik7XG5cbiAgICAgIC8vIFNob3VsZCByZW5kZXIgY29tcG9uZW50IHdoZW4gbm8gcGVybWlzc2lvbnMgYXJlIHJlcXVpcmVkXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwcm90ZWN0ZWQtcGFnZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2hhbmRsZXMgZW1wdHkgcGVybWlzc2lvbnMgYXJyYXknLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoY3JlYXRlTW9ja0F1dGgoKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IFByb3RlY3RlZENvbXBvbmVudCA9IHdpdGhQZXJtaXNzaW9ucyhUZXN0Q29tcG9uZW50LCB7XG4gICAgICAgIHBlcm1pc3Npb25zOiBbXVxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8UHJvdGVjdGVkQ29tcG9uZW50IC8+KTtcblxuICAgICAgLy8gU2hvdWxkIHJlbmRlciBjb21wb25lbnQgd2hlbiBubyBwZXJtaXNzaW9ucyBhcmUgcmVxdWlyZWRcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3Byb3RlY3RlZC1wYWdlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnaGFuZGxlcyBtaXNzaW5nIGF1dGggY29udGV4dCBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgLy8gTW9jayB1c2VBdXRoIHRvIHRocm93IGVycm9yIChzaW11bGF0aW5nIG1pc3NpbmcgcHJvdmlkZXIpXG4gICAgICBtb2NrVXNlQXV0aC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXInKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBQcm90ZWN0ZWRDb21wb25lbnQgPSB3aXRoUGVybWlzc2lvbnMoVGVzdENvbXBvbmVudCwge1xuICAgICAgICBwZXJtaXNzaW9uczogWyd2aWV3X2Rhc2hib2FyZCddXG4gICAgICB9KTtcblxuICAgICAgLy8gU2hvdWxkIHRocm93IHdoZW4gYXV0aCBjb250ZXh0IGlzIG1pc3NpbmdcbiAgICAgIGV4cGVjdCgoKSA9PiByZW5kZXIoPFByb3RlY3RlZENvbXBvbmVudCAvPikpLnRvVGhyb3coJ3VzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXInKTtcbiAgICB9KTtcblxuICAgIGl0KCdoYW5kbGVzIGF1dGggZXJyb3Igc3RhdGUnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAuLi5jcmVhdGVNb2NrQXV0aChbXSksXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgICB1c2VyOiBudWxsLFxuICAgICAgICAgIHRva2VuczogbnVsbCxcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnQXV0aGVudGljYXRpb24gZmFpbGVkJyxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IFByb3RlY3RlZENvbXBvbmVudCA9IHdpdGhQZXJtaXNzaW9ucyhUZXN0Q29tcG9uZW50LCB7XG4gICAgICAgIHBlcm1pc3Npb25zOiBbJ3ZpZXdfZGFzaGJvYXJkJ11cbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFByb3RlY3RlZENvbXBvbmVudCAvPik7XG5cbiAgICAgIC8vIFdoZW4gbm90IGF1dGhlbnRpY2F0ZWQsIHNob3VsZCByZWRpcmVjdCB0byBsb2dpblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0F1dGhlbnRpY2F0aW9uIFJlcXVpcmVkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QobW9ja1JvdXRlci5wdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2xvZ2luJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnaGFuZGxlcyBvcmdhbml6YXRpb24tc2NvcGVkIHBlcm1pc3Npb25zJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0F1dGggPSBjcmVhdGVNb2NrQXV0aChbJ3ZpZXdfZGFzaGJvYXJkJ10pO1xuICAgICAgXG4gICAgICAvLyBUaGUgaW1wbGVtZW50YXRpb24gZG9lc24ndCBhY3R1YWxseSBjaGVjayBvcmdhbml6YXRpb25JZCBpbiBoYXNQZXJtaXNzaW9uXG4gICAgICAvLyBzbyB0aGlzIHRlc3QgbmVlZHMgdG8gYmUgYWRqdXN0ZWRcbiAgICAgIGNvbnN0IFByb3RlY3RlZENvbXBvbmVudCA9IHdpdGhQZXJtaXNzaW9ucyhUZXN0Q29tcG9uZW50LCB7XG4gICAgICAgIHBlcm1pc3Npb25zOiBbJ3ZpZXdfZGFzaGJvYXJkJ10sXG4gICAgICAgIG9yZ2FuaXphdGlvbklkOiAnb3JnLTEyMydcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrVXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUobW9ja0F1dGgpO1xuICAgICAgcmVuZGVyKDxQcm90ZWN0ZWRDb21wb25lbnQgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwcm90ZWN0ZWQtcGFnZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2hhbmRsZXMgbG9hZGluZyBzdGF0ZScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIC4uLmNyZWF0ZU1vY2tBdXRoKFsndmlld19kYXNoYm9hcmQnXSksIC8vIFVzZXIgaGFzIHRoZSByZXF1aXJlZCBwZXJtaXNzaW9uXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgICAgIHVzZXI6IGNyZWF0ZU1vY2tVc2VyKCksXG4gICAgICAgICAgdG9rZW5zOiBudWxsLFxuICAgICAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IFByb3RlY3RlZENvbXBvbmVudCA9IHdpdGhQZXJtaXNzaW9ucyhUZXN0Q29tcG9uZW50LCB7XG4gICAgICAgIHBlcm1pc3Npb25zOiBbJ3ZpZXdfZGFzaGJvYXJkJ11cbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFByb3RlY3RlZENvbXBvbmVudCAvPik7XG5cbiAgICAgIC8vIFNob3VsZCByZW5kZXIgd2hlbiBsb2FkaW5nIGlmIGF1dGhlbnRpY2F0ZWQgYW5kIGhhcyBwZXJtaXNzaW9uc1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncHJvdGVjdGVkLXBhZ2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VSb3V0ZXIiLCJtb2NrUm91dGVyIiwidXNlQXV0aCIsImZuIiwicHVzaCIsInJlcGxhY2UiLCJiYWNrIiwibW9ja1VzZUF1dGgiLCJUZXN0Q29tcG9uZW50IiwiZGl2IiwiZGF0YS10ZXN0aWQiLCJjcmVhdGVNb2NrVXNlciIsImlkIiwiZ2l0aHViX2lkIiwiZ2l0aHViX3VzZXJuYW1lIiwiZW1haWwiLCJmdWxsX25hbWUiLCJhdmF0YXJfdXJsIiwiYmlvIiwiY29tcGFueSIsImxvY2F0aW9uIiwiYmxvZyIsImlzX2FjdGl2ZSIsImlzX3N1cGVydXNlciIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwibGFzdF9sb2dpbiIsImNyZWF0ZU1vY2tQZXJtaXNzaW9ucyIsIm5hbWVzIiwibWFwIiwibmFtZSIsImluZGV4IiwiZGlzcGxheV9uYW1lIiwibCIsInRvVXBwZXJDYXNlIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsImlzX3N5c3RlbV9wZXJtaXNzaW9uIiwiY3JlYXRlTW9ja1JvbGVzIiwicHJpb3JpdHkiLCJpc19zeXN0ZW1fcm9sZSIsInBlcm1pc3Npb25zIiwiY3JlYXRlTW9ja0F1dGgiLCJwZXJtaXNzaW9uTmFtZXMiLCJyb2xlTmFtZXMiLCJpc0FkbWluIiwicm9sZXMiLCJzdGF0ZSIsImlzQXV0aGVudGljYXRlZCIsInVzZXIiLCJ0b2tlbnMiLCJpc0xvYWRpbmciLCJlcnJvciIsImxvZ2luIiwibG9nb3V0IiwicmVmcmVzaFRva2VuIiwiZ2V0Q3VycmVudFVzZXIiLCJoYXNQZXJtaXNzaW9uIiwicGVybWlzc2lvbiIsImluY2x1ZGVzIiwiaGFzUm9sZSIsInJvbGUiLCJoYXNBbnlSb2xlIiwicm9sZUxpc3QiLCJzb21lIiwiaGFzQW55UGVybWlzc2lvbiIsInBlcm1MaXN0IiwicGVybSIsImNhbkFjY2VzcyIsInJlc291cmNlIiwicmVzb3VyY2VQZXJtaXNzaW9ucyIsInJlcXVpcmVkUGVybXMiLCJnZXRVc2VyUGVybWlzc2lvbnMiLCJnZXRVc2VyUm9sZXMiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwibW9ja0NsZWFyIiwiaXQiLCJtb2NrUmV0dXJuVmFsdWUiLCJQcm90ZWN0ZWRDb21wb25lbnQiLCJ3aXRoUGVybWlzc2lvbnMiLCJyZW5kZXIiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRlc3RJZCIsInRvQmVJblRoZURvY3VtZW50IiwicXVlcnlCeVRlc3RJZCIsIm5vdCIsImdldEJ5VGV4dCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwicmVxdWlyZUFsbCIsImFjdGlvbiIsIkN1c3RvbUZhbGxiYWNrIiwiZmFsbGJhY2siLCJyZWRpcmVjdFRvIiwiQWRtaW5Db21wb25lbnQiLCJ3aXRoQWRtaW5BY2Nlc3MiLCJQcm9wc1Rlc3RDb21wb25lbnQiLCJ0ZXN0UHJvcCIsInRvSGF2ZVRleHRDb250ZW50IiwiTmFtZWRDb21wb25lbnQiLCJkaXNwbGF5TmFtZSIsInRvQmUiLCJ1bmRlZmluZWQiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJFcnJvciIsInRvVGhyb3ciLCJtb2NrQXV0aCIsIm9yZ2FuaXphdGlvbklkIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0NBR0M7QUFjRCxzQkFBc0I7QUFDdEJBLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDQyxXQUFXLElBQU1DO0lBQ25CLENBQUE7QUFFQSx3QkFBd0I7QUFDeEJILEtBQUtDLElBQUksQ0FBQyxpQ0FBaUMsSUFBTyxDQUFBO1FBQ2hERyxTQUFTSixLQUFLSyxFQUFFO0lBQ2xCLENBQUE7Ozs7OzhEQXBCa0I7d0JBQ2E7aUNBQ2tCOzZCQUN6Qjs7Ozs7O0FBRXhCLGNBQWM7QUFDZCxNQUFNRixhQUFhO0lBQ2pCRyxN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