# Production Environment Configuration Template
# Copy this file to .env.prod and update the values for your production deployment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_DB=opssight_prod
POSTGRES_USER=opssight
POSTGRES_PASSWORD=secure_prod_password_change_me
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_PASSWORD=secure_redis_password_change_me
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# APPLICATION SECURITY
# =============================================================================
# Generate a strong secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=production_jwt_secret_key_2025_opssight_secure
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Encryption key for sensitive data storage
APP_SECRET_KEY=your_app_secret_key_here

# =============================================================================
# GITHUB OAUTH CONFIGURATION
# =============================================================================
# Create a GitHub OAuth App at: https://github.com/settings/applications/new
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_REDIRECT_URI=https://your-domain.com/auth/github/callback

# =============================================================================
# DOMAIN & SSL CONFIGURATION
# =============================================================================
DOMAIN_NAME=your-domain.com
SSL_EMAIL=admin@your-domain.com
LETSENCRYPT_STAGING=false

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Grafana Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=grafana_admin_2025_secure
GRAFANA_ROOT_URL=https://your-domain.com/grafana

# Prometheus Configuration
PROMETHEUS_RETENTION_TIME=30d

# Sentry Error Tracking (Optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Performance Settings
WORKERS=4
WORKER_CONNECTIONS=1000
MAX_REQUESTS=10000
MAX_REQUESTS_JITTER=1000

# Cache Configuration
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=noreply@your-domain.com
SMTP_PASSWORD=your_smtp_password
SMTP_TLS=true
FROM_EMAIL=noreply@your-domain.com

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# AWS S3 for backups (Optional)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=your-backup-bucket
AWS_REGION=us-east-1

# =============================================================================
# SECURITY HEADERS & CORS
# =============================================================================
ALLOWED_HOSTS=your-domain.com,www.your-domain.com
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# =============================================================================
# RESOURCE LIMITS
# =============================================================================
# Database Resource Limits
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB

# Redis Resource Limits
REDIS_MAXMEMORY=512mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Application Resource Limits
BACKEND_MEMORY_LIMIT=2G
BACKEND_CPU_LIMIT=1.0
FRONTEND_MEMORY_LIMIT=512M
FRONTEND_CPU_LIMIT=0.5

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================
# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20

# Session Configuration
SESSION_TIMEOUT=3600
SESSION_SECURE=true
SESSION_HTTPONLY=true
SESSION_SAMESITE=strict

# Security Configuration
SECURE_SSL_REDIRECT=true
SECURE_HSTS_SECONDS=31536000
SECURE_CONTENT_TYPE_NOSNIFF=true
SECURE_BROWSER_XSS_FILTER=true
SECURE_FRAME_DENY=true

# =============================================================================
# DEVELOPMENT/TESTING OVERRIDES
# =============================================================================
# These are used for staging/testing environments
# ENVIRONMENT=staging
# DEBUG=true
# LOG_LEVEL=DEBUG
# LETSENCRYPT_STAGING=true